"use strict";(self.webpackChunk_dagster_io_dagit_app=self.webpackChunk_dagster_io_dagit_app||[]).push([[938],{25496:function(e,n,t){t.d(n,{V:function(){return u}});var r=t(19065),i=t(47427),o=t(57994),a=t(98907),s=t(92334),c=function(){function e(n){var t=this;(0,o.Z)(this,e),this.itemNameMap={},n.forEach((function(e){return t.itemNameMap[e.name]=e}))}return(0,a.Z)(e,[{key:"itemNamed",value:function(e){return this.itemNameMap[e]}},{key:"traverse",value:function(e,n,t){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return i[e.name]=e,t>0&&n(e,(function(e){e.name in i||r.traverse(e,n,t-1,i)})),Object.values(i)}},{key:"fetchUpstream",value:function(e,n){var t=this;return this.traverse(e,(function(e,n){return e.inputs.forEach((function(e){return e.dependsOn.forEach((function(e){var r=t.itemNamed(e.solid.name);r&&n(r)}))}))}),n)}},{key:"fetchDownstream",value:function(e,n){var t=this;return this.traverse(e,(function(e,n){return e.outputs.forEach((function(e){return e.dependedBy.forEach((function(e){var r=t.itemNamed(e.solid.name);r&&n(r)}))}))}),n)}}]),e}();function l(e){return e.includes("*")?Number.MAX_SAFE_INTEGER:e.length}function u(e,n){if("*"===n)return{all:e,applyingEmptyDefault:!1,focus:[]};if(""===n)return{all:e.length>=100?[]:e,applyingEmptyDefault:e.length>=100,focus:[]};var t,o=new c(e),a=new Set,u=n.split(/(,| AND | and | )/g),d=new Set,p=(0,i.Z)(u);try{var f=function(){var n=t.value,c=/(\*?\+*)([.\w\d>\[\?\]\"_\/-]+)(\+*\*?)/.exec(n.trim());if(!c)return"continue";var u,p=(0,r.Z)(c,4),f=p[1],h=p[2],m=p[3],x=e.filter((function(e){return(0,s.Gm)(h.replace(/\"/g,""))?e.name.startsWith((0,s.pr)(h.replace(/\"/g,""))):/\".*\"/.test(h)?e.name===h.replace(/\"/g,""):e.name.includes(h)})),v=(0,i.Z)(x);try{for(v.s();!(u=v.n()).done;){var g=u.value,y=l(f),w=l(m);d.add(g),a.add(g),o.fetchUpstream(g,y).forEach((function(e){return a.add(e)})),o.fetchDownstream(g,w).forEach((function(e){return a.add(e)}))}}catch(b){v.e(b)}finally{v.f()}};for(p.s();!(t=p.n()).done;)f()}catch(h){p.e(h)}finally{p.f()}return{all:Array.from(a),focus:Array.from(d),applyingEmptyDefault:!1}}},57676:function(e,n,t){var r;t.d(n,{hS:function(){return r},vL:function(){return i},Fv:function(){return o},Nw:function(){return a},$T:function(){return s},j:function(){return c},aO:function(){return l},e:function(){return u},XL:function(){return d},gJ:function(){return p},nY:function(){return f},jZ:function(){return h},Bw:function(){return m},D6:function(){return x},t3:function(){return v},v2:function(){return g},V8:function(){return y},WN:function(){return w}}),function(e){e.FLAT="flat",e.WATERFALL="waterfall",e.WATERFALL_TIMED="waterfall-timed"}(r||(r={}));var i=2e-4,o=.5,a=16,s=16,c=16,l=16,u=34,d=5,p=20,f=100,h=8,m=30,x=6,v=(u-x)/2,g=2,y=100,w={mode:r.WATERFALL,hideWaiting:!1,hideTimedMode:!1,zoom:1,hideUnselectedSteps:!1}},92334:function(e,n,t){function r(e){return e.endsWith("]")}function i(e){return e.endsWith("[?]")}function o(e,n){return n.filter((function(n){return n.startsWith(e.replace("?]",""))}))}function a(e){return e.split("[")[0]}function s(e,n){return e.replace("[?]",n.match(/(\[.*\])/)[1])}t.d(n,{IL:function(){return r},Gm:function(){return i},mO:function(){return o},pr:function(){return a},os:function(){return s}})},47072:function(e,n,t){t.d(n,{hj:function(){return Q},ZW:function(){return ue},hS:function(){return I.hS},Fu:function(){return de},kZ:function(){return $}});var r,i=t(59019),o=t(95764),a=t(19065),s=t(922),c=t(50346),l=t(32030),u=t(6466),d=t(7838),p=t(23730),f=t(17912),h=t(34595),m=t(8546),x=t(89646),v=t(90428),g=t.n(v),y=t(325),w=t(74549),b=t(52848),j=t(25496),k=t(76341),C=t(99738),E=t(3148),N=t(40355),S=t(45302),_=t(65164),I=t(57676),Z=t(92334),R=t(39151),T=t(87011),L=t(32289),P=y.memo((function(e){var n=e.value,t=e.onChange,r=e.hideTimedMode,i=[{id:I.hS.FLAT,icon:"gantt_flat",tooltip:"Flat view"},{id:I.hS.WATERFALL,icon:"gantt_waterfall",tooltip:"Waterfall view"}];r||i.push({id:I.hS.WATERFALL_TIMED,icon:"timer",tooltip:"Timed view"});var o=y.useMemo((function(){return new Set([n])}),[n]),a=y.useCallback((function(e){return t(e)}),[t]);return(0,L.jsx)(T.h,{activeItems:o,buttons:i,onClick:a})})),G=function(e){return"".concat(Math.round(e/1e3/60),"m")},M=function(e){return"".concat((e/1e3).toFixed(0),"s")},D=function(e){return"".concat((e/1e3).toFixed(1),"s")},z=[{tickIntervalMs:500,tickLabels:D},{tickIntervalMs:1e3,tickLabels:M},{tickIntervalMs:5e3,tickLabels:M},{tickIntervalMs:1e4,tickLabels:M},{tickIntervalMs:3e4,tickLabels:M},{tickIntervalMs:6e4,tickLabels:M},{tickIntervalMs:12e4,tickLabels:G},{tickIntervalMs:3e5,tickLabels:G},{tickIntervalMs:6e5,tickLabels:G},{tickIntervalMs:12e5,tickLabels:G},{tickIntervalMs:36e5,tickLabels:G},{tickIntervalMs:216e5,tickLabels:G}],A=function(e){var n=e.scale,t=e.viewport,r=e.nowMs,i=e.startMs,o=e.highlightedMs,a=e.layoutSize,s="translate(".concat(I.Nw-t.left,"px)"),c=[],l=[],u=n,d=z.find((function(e){return e.tickIntervalMs*u>80}));if(d)for(var p=d.tickIntervalMs,f=d.tickLabels,h=p*u,m=Math.floor(t.left/h)*h,x=m;x<m+t.width;x+=h)if(!(x-t.left<10)){var v=x/u,g="".concat(v.toFixed(2)),y=f(v);l.push((0,L.jsx)("div",{className:"line",style:{left:x,transform:s}},g)),c.push((0,L.jsx)("div",{className:"tick",style:{left:x-28,transform:s},children:y},g))}return(0,L.jsxs)(O,{children:[(0,L.jsxs)(F,{children:[c,2===o.length&&(0,L.jsx)("div",{className:"tick duration",style:{left:(o[0]-i)*u+2,width:(o[1]-o[0])*u-2,transform:s},children:(0,k.fv)(o[1]-o[0])},"highlight-duration"),o.map((function(e,n){var r=(e-i)*u,o=0===n&&r>56+t.left?-55:0;return(0,L.jsx)("div",{className:"tick highlight",style:{left:r+o,transform:s},children:D(e-i)},"highlight-".concat(n))}))]}),(0,L.jsxs)(U,{style:{width:t.width,height:t.height},children:[l,o.map((function(e,n){return(0,L.jsx)("div",{className:"line highlight",style:{left:(e-i)*u+(0===n?-1:0),transform:s}},"highlight-".concat(n))})),r>i&&(0,L.jsx)("div",{className:"fog-of-war",style:{left:(r-i)*u,width:Math.max(a.width,t.width)-(r-i)*u+100,transform:s}})]})]})},O=s.ZP.div.withConfig({displayName:"GanttChartTimescale__TimescaleContainer",componentId:"qye3mp-0"})(["width:100%;& .tick{position:absolute;padding-top:7px;width:","px;height:","px;box-sizing:border-box;transition:left ","ms linear,width ","ms linear;text-align:center;}& .tick.duration{color:",";background:",";box-shadow:0 1px 1px rgba(0,0,0,0.2);}& .tick.highlight{color:white;height:","px;background:",";}& .line{position:absolute;border-left:1px solid #f0f0f0;transition:left ","ms linear;top:0px;bottom:0px;}& .line.highlight{border-left:2px solid ",";z-index:1111;top:-1px;}& .fog-of-war{position:absolute;background:",";transition:left ","ms linear;top:0px;bottom:0px;width:100%;}"],56,32,I.V8,I.V8,d.w.Gray500,d.w.Gray100,34,d.w.Gray900,I.V8,d.w.Gray900,d.w.Gray50,I.V8),F=s.ZP.div.withConfig({displayName:"GanttChartTimescale__TimescaleTicksContainer",componentId:"qye3mp-1"})(["height:","px;z-index:4;position:relative;background:",";display:flex;color:",";font-size:13px;font-family:",";box-shadow:inset 0 -1px ",";overflow:hidden;"],32,d.w.White,d.w.Gray500,m.b.monospace,d.w.KeylineGray),U=s.ZP.div.withConfig({displayName:"GanttChartTimescale__TimescaleLinesContainer",componentId:"qye3mp-2"})(["z-index:0;top:","px;left:0;position:absolute;pointer-events:none;overflow:hidden;"],32),W=t(41080),K=t(36172),X=t(42413),V=y.memo((function(e){return(0,L.jsxs)(H,{$fillColor:d.w.Gray600,className:"bp3-slider bp3-slider-unlabeled",onMouseDown:function(n){var t,r=n.currentTarget.closest(".bp3-slider").getBoundingClientRect();t=n.target instanceof HTMLElement&&n.target.classList.contains("bp3-slider-handle")?n.pageX:r.left+e.value/100*r.width;var i=function(n){var i=e.value+(n.pageX-t)*(100/r.width);e.onChange(Math.max(0,Math.min(100,i)))};document.addEventListener("mousemove",i),document.addEventListener("mouseup",(function e(n){i(n),document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",e)}))},children:[(0,L.jsxs)("div",{className:"bp3-slider-track",children:[(0,L.jsx)("div",{className:"bp3-slider-progress",style:{left:0,right:0,top:0}}),(0,L.jsx)("div",{className:"bp3-slider-progress bp3-intent-primary",style:{left:0,right:"".concat(100-e.value,"%"),top:0}})]}),(0,L.jsx)("div",{className:"bp3-slider-axis"}),(0,L.jsx)("span",{className:"bp3-slider-handle",style:{left:"calc(".concat(e.value,"% - 8px)")},tabIndex:0})]})})),H=s.ZP.div.withConfig({displayName:"ZoomSlider__ZoomSliderContainer",componentId:"yxtf4j-0"})(["",""],X.kp),Y=t(76314),B=function(e){return e===I.hS.FLAT||e===I.hS.WATERFALL||e===I.hS.WATERFALL_TIMED?e:I.hS.WATERFALL_TIMED},J=t(88291),q="gantt-highlight-time";function $(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];clearTimeout(r),n?r=setTimeout((function(){return $(e,!1)}),100):document.dispatchEvent(new CustomEvent(q,{detail:e}))}var Q=function(e){var n=e.graph,t=e.onSetSelection,r=e.options,i=e.selection,s=e.toolbarActions,l=(0,Y.U)("GanttChartModePreference",B),u=(0,a.Z)(l,2),d=u[0],p=u[1],f=y.useState((function(){return(0,o.Z)((0,o.Z)((0,o.Z)({},I.WN),r),{},{mode:d})})),h=(0,a.Z)(f,2),m=h[0],x=h[1],v=y.useRef(null),g=y.useRef(null),w=(0,j.V)(n,i.query),b=y.useMemo((function(){return{nodes:m.hideUnselectedSteps?w.all:n,mode:m.mode}}),[n,w.all,m.hideUnselectedSteps,m.mode]),k=y.useMemo((function(){var e=function(e){return e.map((function(e){return e.name})).join(",")};return g.current&&e(g.current.nodes)===e(b.nodes)&&g.current.mode===b.mode||(v.current=(0,R.tc)(b),g.current=b),v.current}),[b]),C=y.useCallback((function(e){x((function(n){return(0,o.Z)((0,o.Z)({},n),e)}))}),[]),E=y.useCallback((function(e){C({mode:e}),p(e)}),[p,C]),N=y.useCallback((function(e){t(e||"*")}),[t]),S=y.useCallback((function(e){var n="*".concat(e,"*");N(i.query!==n?n:"*")}),[N,i.query]);return(0,L.jsxs)(ae,{children:[(0,L.jsxs)(K.qn,{children:[(0,L.jsx)(P,{value:m.mode,onChange:E,hideTimedMode:m.hideTimedMode}),m.mode===I.hS.WATERFALL_TIMED&&(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(K.lX,{}),(0,L.jsx)("div",{style:{width:200},children:(0,L.jsx)(V,{value:m.zoom,onChange:function(e){return C({zoom:e})}})}),(0,L.jsx)(K.lX,{}),(0,L.jsx)(c.X,{style:{marginBottom:0},label:"Hide not started steps",checked:m.hideWaiting,onChange:function(e){return C({hideWaiting:e.target.checked})}})]}),(0,L.jsx)("div",{style:{flex:1}}),s]}),(0,L.jsx)(ee,(0,o.Z)((0,o.Z)({},e),{},{options:(0,o.Z)({},m),layout:k,graph:n,onUpdateQuery:N,onDoubleClickStep:S,onChange:function(){return C({hideUnselectedSteps:!m.hideUnselectedSteps})}}))]})},ee=function(e){var n=(0,J.S)(),t=n.viewport,r=n.containerProps,s=n.onMoveToViewport,h=y.useState(null),m=(0,a.Z)(h,2),x=m[0],v=m[1],g=y.useState(null),w=(0,a.Z)(g,2),j=w[0],k=w[1],E=y.useState((function(){return e.overrideNowTime||Date.now()})),S=(0,a.Z)(E,2),Z=S[0],T=S[1],P=e.options,G=e.metadata,M=e.selection,D=y.useContext(b.I).rootServerURI,z=y.useContext(C.DN),O=z.availability,F=z.disabled,U=z.status,K=!F&&"available"===O&&U===WebSocket.CLOSED,X=I.vL;t.width&&G&&G.startedPipelineAt&&(X=Math.max(1,t.width-150)/Math.max(1,Z-G.startedPipelineAt));var V=Math.exp(Math.log(X)+(Math.log(I.Fv)-Math.log(X))/100*P.zoom);y.useEffect((function(){if(0!==V&&!K){if(null===G||void 0===G||!G.exitedAt){var e=Math.max(I.V8,2/V),n=Date.now(),t=setTimeout((function(){return T(n)}),e-(n-Z));return function(){return clearTimeout(t)}}Z!==G.exitedAt&&T(G.exitedAt)}}),[V,Z,K,G]),y.useEffect((function(){var e=function(e){return k(e.detail)};return document.addEventListener(q,e),function(){return document.removeEventListener(q,e)}}));var H=(0,R.zI)(e.layout,P,G||N.PG,V,Z),Y={width:Math.max.apply(Math,[0].concat((0,i.Z)(H.boxes.map((function(e){return e.x+e.width+I.gJ}))))),height:Math.max.apply(Math,[0].concat((0,i.Z)(H.boxes.map((function(e){return I.$T+e.y*I.e+I.j})))))};y.useEffect((function(){var e=H.boxes.find((function(e){return M.keys.includes(e.node.name)}));if(e){var n=te(e),r=(n.maxX+n.minX)/2-t.width/2,i=(n.maxY+n.minY)/2-t.height/2;s({left:r,top:i},!0)}}),[M]);var B=[];if(e.focusedTime&&B.push(e.focusedTime),j)B.push(j);else if(M.keys.length>0){var $=M.keys.map((function(e){return null===G||void 0===G?void 0:G.steps[e]})).filter((function(e){return void 0!==e})).sort((function(e,n){return e.start&&n.start?e.start-n.start:0})),Q=$[0],ee=$[$.length-1];null!==Q&&void 0!==Q&&Q.start&&B.push(Q.start),null!==ee&&void 0!==ee&&ee.end&&B.push(ee.end)}var re=t.width>0,ie=(0,L.jsxs)(L.Fragment,{children:[P.mode===I.hS.WATERFALL_TIMED&&re&&(0,L.jsx)(A,{scale:V,viewport:t,layoutSize:Y,startMs:(null===G||void 0===G?void 0:G.startedPipelineAt)||0,highlightedMs:B,nowMs:Z}),(0,L.jsx)("div",(0,o.Z)((0,o.Z)({style:{overflow:"scroll",flex:1}},r),{},{children:(0,L.jsx)("div",{style:(0,o.Z)({position:"relative",marginBottom:70},Y),children:re&&(0,L.jsx)(ne,{options:P,metadata:G||N.PG,layout:H,hoveredStep:x,focusedSteps:M.keys,viewport:t,setHoveredNodeName:v,onClickStep:e.onClickStep,onDoubleClickStep:e.onDoubleClickStep})})})),(0,L.jsxs)(ce,{children:[K?(0,L.jsx)(se,{children:(0,L.jsx)(l.x,{flex:{justifyContent:"space-around"},margin:{bottom:12},children:(0,L.jsxs)(u.Z,{direction:"row",spacing:8,background:"".concat(d.w.Yellow500,"26"),padding:{vertical:8,horizontal:12},alignItems:"flex-start",children:[(0,L.jsx)(p.JO,{name:"warning",color:d.w.Yellow700}),(0,L.jsxs)("div",{style:{maxWidth:"400px",whiteSpace:"normal",overflow:"hidden"},children:[(0,L.jsx)("strong",{children:"Lost connection to Dagit server."}),(0,L.jsx)("span",{children:" Verify that your instance is responding to requests at ".concat(D," and reload the page.")})]})]})})}):null,(0,L.jsxs)(le,{flex:{direction:"row",alignItems:"center",gap:12},children:[(0,L.jsx)(_.j,{items:e.graph,value:e.selection.query,placeholder:"Type a step subset",onChange:e.onUpdateQuery,presets:G?(0,R.un)(G,H):void 0,className:M.keys.length>0?"has-step":""}),(0,L.jsx)(c.X,{checked:P.hideUnselectedSteps,label:"Hide unselected steps",onChange:e.onChange})]})]})]});return G?(0,L.jsx)(f.OS,{identifier:"gantt-split",axis:"horizontal",first:ie,firstInitialPercent:70,second:(0,L.jsx)(W.V,(0,o.Z)((0,o.Z)({},e),{},{nowMs:Z,metadata:G,onHighlightStep:function(e){return v(e)}}))}):ie},ne=function(e){var n=e.viewport,t=e.layout,r=e.hoveredStep,i=e.focusedSteps,a=e.metadata,s=e.options,c=[],l=function(e){return e.minX<n.left+n.width&&e.maxX>n.left&&e.minY<n.top+n.height&&e.maxY>n.top},u={};return s.mode!==I.hS.FLAT&&t.boxes.forEach((function(e){e.children.forEach((function(n,s){var d,p=re(e,n);if(l(p)){var f=!t.boxes.includes(n),h=!!a&&!(null!==(d=a.steps[n.node.name])&&void 0!==d&&d.state),m=u[p.maxX]||0;u[p.maxX]=m+1,c.push((0,L.jsx)(ie,(0,o.Z)({darkened:((null===i||void 0===i?void 0:i.includes(e.node.name))||r)===e.node.name||((null===i||void 0===i?void 0:i.includes(n.node.name))||r)===n.node.name,dotted:f||h,depNotDrawn:f,depIdx:m},p),"".concat(e.key,"-").concat(n.key,"-").concat(s)))}}))})),t.boxes.forEach((function(n){var t=te(n),u=n.width===I.jZ;l(t)&&c.push((0,L.jsxs)("div",{"data-tooltip":n.node.name,onClick:function(t){return e.onClickStep(n.node.name,t)},onDoubleClick:function(){return e.onDoubleClickStep(n.node.name)},onMouseEnter:function(){return e.setHoveredNodeName(n.node.name)},onMouseLeave:function(){return e.setHoveredNodeName(null)},className:"\n            chart-element\n            ".concat(u?"dot":"box","\n            ").concat(i.includes(n.node.name)&&"focused","\n            ").concat(r===n.node.name&&"hovered","\n            ").concat((0,Z.IL)(n.node.name)&&"dynamic"),style:(0,o.Z)({left:t.minX,top:t.minY+(u?I.t3:I.XL),width:u?I.D6:n.width},(0,R.HB)(n.state,{metadata:a,options:s})),children:[n.state===N.TN.RUNNING?(0,L.jsx)(h.$,{purpose:"body-text"}):void 0,oe(n)]},n.key))})),s.mode===I.hS.WATERFALL_TIMED&&t.markers.map((function(e,n){return{marker:e,idx:n,bounds:te(e)}})).filter((function(e){var n=e.bounds;return l(n)})).sort((function(e,n){return e.bounds.minX-n.bounds.minX})).forEach((function(e){var n=e.marker,t=e.bounds,r=e.idx,i=n.width===I.jZ;c.push((0,L.jsx)("div",{"data-tooltip":n.key,className:"\n            chart-element\n            ".concat(i?"marker-dot":"marker-whiskers"),style:{left:t.minX,top:t.minY+(i?I.t3:I.XL),width:i?I.D6:n.width},children:(0,L.jsx)("div",{})},r))})),(0,L.jsx)(L.Fragment,{children:c})},te=function(e){return{minX:e.x,minY:I.$T+e.y*I.e,maxX:e.x+e.width,maxY:I.$T+e.y*I.e+I.e}},re=function(e,n){if(n.y<e.y){var t=[n,e];e=t[0],n=t[1]}var r=e.width===I.jZ?I.t3+I.D6/2:I.e/2,i=n.width===I.jZ,o=i?I.t3+I.D6/2:I.e/2,a=n.y===e.y;return{minX:Math.min(e.x+e.width,n.x+n.width),minY:I.$T+(e.y*I.e+r),maxX:a?Math.max(e.x,n.x):Math.max(e.x+e.width/2,n.x+(i?I.D6:n.width)/2),maxY:a?I.$T+n.y*I.e+o:I.$T+n.y*I.e+(i?I.t3:I.XL)}},ie=y.memo((function(e){var n=e.minX,t=e.minY,r=e.maxX,i=e.maxY,o=e.dotted,a=e.darkened,s=e.depIdx,c=e.depNotDrawn,l="".concat(I.v2,"px ").concat(o?"dotted":"solid"," ").concat(a?d.w.Gray700:d.w.Gray300),u=r+s%10*I.v2;return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)("div",{className:"line",style:{height:1,left:n,width:c?50:u-n,top:t-1,borderTop:l,zIndex:a?100:1}}),t!==i&&!c&&(0,L.jsx)("div",{className:"line",style:{width:1,left:u,top:t-I.v2/2,height:i-t,borderRight:l,zIndex:a?100:1}})]})}),g());function oe(e){if(!(e.width<=I.Bw)){var n=7+(e.state===N.TN.RUNNING?16:0),t=(e.width-n)/6.2;return(0,k.R9)(e.node.name,{maxLength:t})}}var ae=s.ZP.div.withConfig({displayName:"GanttChart__GanttChartContainer",componentId:"sc-5c9vwn-0"})(["height:100%;position:relative;display:flex;flex-direction:column;z-index:2;user-select:none;background:",";.line{position:absolute;user-select:none;pointer-events:none;transition:top ","ms linear,left ","ms linear,width ","ms linear,height ","ms linear;}.chart-element{font-size:12px;transition:top ","ms linear,left ","ms linear;display:inline-block;position:absolute;color:white;overflow:hidden;user-select:text;z-index:2;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;}.dot{width:","px;height:","px;border:1px solid transparent;border-radius:","px;}.box{height:","px;padding:3px;padding-right:1px;border:1px solid transparent;border-radius:2px;white-space:nowrap;font-family:",";font-size:12.5px;font-weight:700;line-height:15px;transition:top ","ms linear,left ","ms linear,width ","ms linear,height ","ms linear;&.focused{border:1px solid ",";box-shadow:0 0 0 2px ",";}&.hovered{border:1px solid ",";}&.dynamic{filter:brightness(125%);}","{display:inline-block;vertical-align:text-bottom;padding-right:4px;}}.marker-dot{width:","px;height:","px;border:1px solid rgb(27,164,206);border-radius:","px;}.marker-whiskers{display:inline-block;position:absolute;height:","px;background:rgba(27,164,206,0.09);border-left:1px solid rgba(27,164,206,0.6);border-right:1px solid rgba(27,164,206,0.6);transition:top ","ms linear,left ","ms linear,width ","ms linear;& > div{border-bottom:1px dashed rgba(27,164,206,0.6);height:","px;}}"],d.w.White,I.V8,I.V8,I.V8,I.V8,I.V8,I.V8,I.D6,I.D6,I.D6/2,I.e-2*I.XL,m.b.monospace,I.V8,I.V8,I.V8,I.V8,d.w.Gray900,d.w.Yellow500,d.w.Gray800,h.Z,I.D6,I.D6,I.D6/2,I.e-2*I.XL,I.V8,I.V8,I.V8,(I.e-2*I.XL)/2),se=s.ZP.div.withConfig({displayName:"GanttChart__WebsocketWarning",componentId:"sc-5c9vwn-1"})(["position:absolute;bottom:100%;color:",";width:100%;"],d.w.Yellow700),ce=s.ZP.div.withConfig({displayName:"GanttChart__GraphQueryInputContainer",componentId:"sc-5c9vwn-2"})(["z-index:2;position:absolute;bottom:20px;left:50%;transform:translateX(-50%);white-space:nowrap;"]),le=(0,s.ZP)(l.x).withConfig({displayName:"GanttChart__FilterInputsBackgroundBox",componentId:"sc-5c9vwn-3"})(["background:radial-gradient("," 0%,rgba(255,255,255,0) 100%);padding:15px 15px 0px 15px;"],d.w.Gray50),ue=function(e){var n=e.runId;return(0,L.jsxs)(ae,{children:[(0,L.jsx)(K.qn,{}),(0,L.jsx)(f.OS,{identifier:"gantt-split",axis:"horizontal",first:(0,L.jsx)("div",{style:{margin:"auto",marginTop:100},children:(0,L.jsx)(h.$,{purpose:"section"})}),firstInitialPercent:70,second:(0,L.jsx)(W.V,{metadata:N.PG,selection:{keys:[],query:"*"},runId:n,nowMs:0})})]})},de=function(e){var n=e.run;return(0,L.jsxs)(ae,{children:[(0,L.jsx)(K.qn,{style:{justifyContent:"flex-end"},children:(0,L.jsx)(E.jT,{run:n})}),(0,L.jsx)(f.OS,{identifier:"gantt-split",axis:"horizontal",first:(0,L.jsx)(x.t,{icon:"arrow_forward",title:"Run queued",description:"This run is queued for execution and will start soon.",action:(0,L.jsx)(w.rU,{to:(0,S.it)([{token:"status",value:"QUEUED"}]),children:"View queued runs"})}),firstInitialPercent:70,second:(0,L.jsx)(W.V,{metadata:N.PG,selection:{keys:[],query:"*"},runId:n.id,nowMs:0})})]})}},39151:function(e,n,t){t.d(n,{tc:function(){return f},HB:function(){return g},zI:function(){return w},un:function(){return b}});var r,i=t(19065),o=t(95764),a=t(16798),s=t(47427),c=t(59019),l=t(7838),u=t(40355),d=t(57676),p=t(92334),f=function(e){var n=e.nodes,t=e.mode,r=n.filter((function(e){return!e.inputs.some((function(e){return e.dependsOn.some((function(e){return n.find((function(n){return n.name===e.solid.name}))}))}))})).map((function(e){return{node:e,key:e.name,state:void 0,children:[],x:-1,y:-1,root:!0,width:d.nY}})),i=(0,c.Z)(r);i.forEach((function(n){return m(r,n,e)}));var o=function e(n,t){n.x>=t||(n.x=t,n.children.forEach((function(t){return e(t,n.x+n.width+d.gJ)})))};i.forEach((function(e){return o(e,d.Nw)}));var a={},l={};r.forEach((function(e,n){e.y=n,e.children.forEach((function(n){a[n.node.name]=a[n.node.name]||[],a[n.node.name].push(e)}))})),r.forEach((function(e){l["".concat(e.y)]=l["".concat(e.y)]||[],l["".concat(e.y)].push(e)}));for(var u=!0;u;){u=!1;for(var f=function(e){var n=r[e],t=(a[n.node.name]||[]).sort((function(e,n){return n.y-e.y}))[0];if(!t)return"continue";if((0,p.IL)(n.node.name)&&!(0,p.IL)(t.node.name))return"continue";var i=l["".concat(t.y)];if(i.find((function(e){return e.x===n.x})))return"continue";var o=t.x,s=i.some((function(e){return e.x>o&&e.x<n.x})),c=i.some((function(e){return e.x<n.x&&e.children.some((function(e){return e.y>=t.y&&e.x>n.x}))}));return s||c?"continue":(l["".concat(n.y)]=l["".concat(n.y)].filter((function(e){return e!==n})),n.y=t.y,l["".concat(n.y)].push(n),u=!0,"break")},h=r.length-1;h>0;h--){var x=f(h);if("continue"!==x&&"break"===x)break}}if(t===d.hS.FLAT){for(var v=0,g=0,y=Object.keys(l);g<y.length;g++){var w=y[g],b=l[w];if(b.length){var j,k=b[0].root?d.Nw:a[b[0].node.name][0].x+d.aO,C=(0,s.Z)(b);try{for(C.s();!(j=C.n()).done;){var E=j.value;E.x=k,E.y=v,v+=1,k+=d.aO}}catch(I){C.e(I)}finally{C.f()}}}r.sort((function(e,n){return e.y-n.y||e.x-n.x}))}else for(u=!0;u;){u=!1;for(var N=r.reduce((function(e,n){return Math.max(e,n.y)}),0),S=function(e){if(!r.some((function(n){return n.y===e})))return r.filter((function(n){return n.y>e})).forEach((function(e){return e.y-=1})),u=!0,"break"},_=0;_<N;_++){if("break"===S(_))break}}return{boxes:r,markers:[]}},h=function e(n,t,r){var i=n.indexOf(t),o=n.indexOf(r);if(!(i<=o)){n.splice(o,1),n.splice(i,0,r);var a,c=(0,s.Z)(r.children);try{for(c.s();!(a=c.n()).done;){e(n,r,a.value)}}catch(l){c.e(l)}finally{c.f()}}},m=function e(n,t,r){var i,o=[],a=[],c=(0,s.Z)(t.node.outputs);try{for(c.s();!(i=c.n()).done;){var l,u=i.value,f=(0,s.Z)(u.dependedBy);try{var m=function(){var e=l.value,i=r.nodes.find((function(n){return e.solid.name===n.name}));if(!i)return"continue";if(o.includes(i.name))return"continue";if((0,p.Gm)(i.name)&&o.filter((function(e){return(0,p.IL)(e)})).some((function(e){return(0,p.pr)(e)===(0,p.pr)(i.name)})))return"continue";o.push(i.name);var s=n.findIndex((function(e){return e.node===i})),c=void 0;-1===s?(c={children:[],key:i.name,node:i,state:void 0,width:d.nY,root:!1,x:0,y:-1},n.push(c),a.push(c)):(c=n[s],h(n,t,c)),t.children.push(c)};for(f.s();!(l=f.n()).done;)m()}catch(y){f.e(y)}finally{f.f()}}}catch(y){c.e(y)}finally{c.f()}for(var x=0,v=a;x<v.length;x++){var g=v[x];e(n,g,r)}},x=(0,a.Z)({},u.TN.RUNNING,l.w.Blue700),v=(r={},(0,a.Z)(r,u.TN.RUNNING,l.w.Blue100),(0,a.Z)(r,u.TN.RETRY_REQUESTED,l.w.Yellow500),(0,a.Z)(r,u.TN.SUCCEEDED,l.w.Green500),(0,a.Z)(r,u.TN.FAILED,l.w.Red500),(0,a.Z)(r,u.TN.SKIPPED,l.w.Gray500),r),g=function(e,n){return n.metadata.startedPipelineAt||n.options.mode===d.hS.WATERFALL_TIMED?e&&e!==u.TN.PREPARING?{color:x[e]||"#fff",background:v[e]||l.w.Gray400}:{color:l.w.Gray600,background:l.w.White,border:"1.5px dotted ".concat(l.w.Gray500)}:{background:"#2491eb"}},y=function(e,n,t){for(var r=function(r){var i=e[r],a=n.steps[i.node.name];if(!a)return Object.assign(i,t(i)),"continue";if(0===a.attempts.length)return Object.assign(i,t(i)),i.state=a.state,"continue";var s=[];a.attempts.forEach((function(e,n){s.push((0,o.Z)((0,o.Z)((0,o.Z)({},i),t(i,e,n)),{},{key:"".concat(i.key,"-").concat(s.length),state:e.exitState||u.TN.RUNNING}))}));for(var l=0;l<s.length-1;l++)s[l].children=[s[l+1]];s[s.length-1].children=i.children,Object.assign(i,s[0]),s.length>1&&e.splice.apply(e,[r,0].concat((0,c.Z)(s.slice(1))))},i=e.length-1;i>=0;i--)r(i)},w=function(e,n,t,r,a){var c=function(e){var n,t=e.boxes,r=e.markers,i=new WeakMap,a=r.map((function(e){return(0,o.Z)({},e)})),c=[],l=(0,s.Z)(t);try{for(l.s();!(n=l.n()).done;){var u=n.value,d=(0,o.Z)({},u);c.push(d),i.set(u,d)}}catch(f){l.e(f)}finally{l.f()}for(var p=0;p<t.length;p++)c[p].children=t[p].children.map((function(e){return i.get(e)}));return{boxes:c,markers:a}}(e),l=c.boxes,u=[];if(n.mode===d.hS.WATERFALL_TIMED){var p=t.startedPipelineAt||a,f=function(e){return d.Nw+(e-p)*r},h=function(e){var n=e.start,t=e.end;return Math.max(d.jZ,((t||a)-n)*r)};y(l,t,(function(e,n){return{x:n?f(n.start):0,width:n?h(n):d.nY}})),function(e,n){for(var t,r=e.filter((function(e){return 0===e.x})),i=function e(t,i){if(0===t.x){var o=r.indexOf(t);-1!==o&&r.splice(o,1)}t.x=Math.max(t.x,n,i);var a,c=t.x+t.width+d.gJ,l=(0,s.Z)(t.children);try{for(l.s();!(a=l.n()).done;){var u=a.value;u.x<c&&e(u,c)}}catch(p){l.e(p)}finally{l.f()}};t=r.shift();)i(t,n)}(l,f(a)+d.gJ),t.globalMarkers.forEach((function(e){void 0!==e.start&&u.push({key:"global:".concat(e.key),y:0,x:f(e.start),width:h({start:e.start,end:e.end})})})),Object.entries(t.steps).forEach((function(n){var t,r=(0,i.Z)(n,2),o=r[0],a=r[1],c=(0,s.Z)(a.markers);try{for(c.s();!(t=c.n()).done;){var l=t.value;if(void 0!==l.start){var d=e.boxes.find((function(e){return e.node.name===o}));d&&u.push({key:"".concat(o,":").concat(l.key),y:d.y,x:f(l.start),width:h({start:l.start,end:l.end})})}}}catch(p){c.e(p)}finally{c.f()}})),n.hideWaiting&&(l=l.filter((function(e){var n;return!(null===(n=t.steps[e.node.name])||void 0===n||!n.state)})))}else if(n.mode===d.hS.WATERFALL)y(l,t,(function(e,n,t){return{x:e.x+(t?(d.gJ+d.nY)*t:0),width:d.nY}}));else{if(n.mode!==d.hS.FLAT)throw new Error("Invalid mdoe ");y(l,t,(function(e,n,t){return{x:e.x+(t?(2+d.nY)*t:0),width:d.nY}}))}return{boxes:l,markers:u}},b=function(e,n){if(0!==n.boxes.length){var t=[],r=Object.keys(e.steps).filter((function(n){return e.steps[n].state===u.TN.FAILED})).map((function(e){return"+".concat(e)})).join(", ");r&&t.push({name:"Errors",value:r});var i=Object.keys(e.steps).filter((function(n){var t,r;return(null===(t=e.steps[n])||void 0===t?void 0:t.end)&&(null===(r=e.steps[n])||void 0===r?void 0:r.start)})).sort((function(n,t){return e.steps[t].end-e.steps[t].start-(e.steps[n].end-e.steps[n].start)})).slice(0,5).map((function(e){return'"'.concat(e,'"')})).join(", ");i&&t.push({name:"Slowest Individual Steps",value:i});var o=(0,c.Z)(n.boxes).filter((function(n){var t;return null===(t=e.steps[n.node.name])||void 0===t?void 0:t.end})).sort((function(e,n){return n.x+n.width-(e.x+e.width)}))[0];return o&&t.push({name:"Slowest Path",value:"*".concat(o.node.name)}),t}}},41080:function(e,n,t){t.d(n,{V:function(){return z},o:function(){return U}});var r,i=t(95764),o=t(922),a=t(34595),s=t(11831),c=t(7838),l=t(325),u=t(76341),d=t(53857),p=t(40355),f=t(57676),h=t(39151),m=t(99500),x=t(73701),v=t(3159),g=t(6466),y=t(23730),w=t(60652),b=t(32030),j=t(8546),k=t(74549),C=t(14156),E=t(79082),N=t(19102),S=t(59549),_=t(28064),I=t(55752),Z=t(32289);function R(e){var n=e.tags.find((function(e){return e.key===_.H.StepSelection}));return n?n.value:"*"}var T=function(e){var n,t=e.runId,r=e.runStatusLastChangedAt,i=(0,x.a)(L,{variables:{runId:t},notifyOnNetworkStatusChange:!0}),o=i.data,a=i.refetch;(0,N.C4)(i,N.dT),l.useEffect((function(){r&&a()}),[a,r]);var s=null===o||void 0===o?void 0:o.runGroupOrError;if(!s||"RunGroupNotFoundError"===s.__typename)return null;if("PythonError"===s.__typename)return(0,Z.jsxs)(g.Z,{direction:"row",spacing:8,padding:8,children:[(0,Z.jsx)(y.JO,{name:"warning",color:c.w.Yellow500}),(0,Z.jsxs)("div",{style:{fontSize:"13px"},children:["The run group for this run could not be loaded."," ",(0,Z.jsx)(w.Z,{color:c.w.Blue500,underline:"always",onClick:function(){(0,C._)({title:"Python error",body:s.message})},children:"View error"})]})]});if(1===(null===(n=s.runs)||void 0===n?void 0:n.length))return null;var u=[];(s.runs||[]).forEach((function(e){e&&"number"===typeof e.startTime&&u.push(e)}));var p=u.sort((function(e,n){return(e.startTime||0)-(n.startTime||0)}));return(0,Z.jsx)(d.pC,{title:p[0]?"".concat(p[0].pipelineName," (").concat(p.length,")"):"",children:(0,Z.jsx)(Z.Fragment,{children:p.map((function(e,n){return e?(0,Z.jsxs)(P,{to:"/runs/".concat(e.runId),selected:e.runId===t,children:[n<p.length-1&&(0,Z.jsx)(G,{style:{height:36}}),(0,Z.jsx)(b.x,{padding:{top:4},children:(0,Z.jsx)(S.K9,{status:e.status})}),(0,Z.jsxs)("div",{style:{flex:1,marginLeft:5,minWidth:0,color:c.w.Gray700},children:[(0,Z.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,Z.jsxs)(M,{children:[e.runId.split("-")[0],0===n&&D]}),(0,Z.jsx)(I.Zr,{run:e})]}),(0,Z.jsxs)("div",{style:{display:"flex",color:c.w.Gray700,justifyContent:"space-between"},children:[R(e),(0,Z.jsx)(I.Tw,{run:e})]})]})]},e.runId):null}))})})},L=(0,v.Ps)(r||(r=(0,m.Z)(["\n  query RunGroupPanelQuery($runId: ID!) {\n    runGroupOrError(runId: $runId) {\n      __typename\n      ... on RunGroup {\n        rootRunId\n        runs {\n          id\n          ...RunGroupPanelRun\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  fragment RunGroupPanelRun on Run {\n    id\n    runId\n    parentRunId\n    status\n    stepKeysToExecute\n    pipelineName\n    tags {\n      key\n      value\n    }\n    ...RunTimeFragment\n  }\n\n  ","\n  ","\n"])),E.B,I.$X),P=(0,o.ZP)(k.rU).withConfig({displayName:"RunGroupPanel__RunGroupRun",componentId:"tb4j34-0"})(["align-items:flex-start;background:",";padding:4px 6px 4px 24px;font-family:",";font-size:14px;line-height:20px;display:flex;position:relative;&:hover{text-decoration:none;background:",";}"],(function(e){return e.selected?c.w.Gray100:c.w.White}),j.b.monospace,(function(e){return e.selected?c.w.Gray100:c.w.Gray50})),G=o.ZP.div.withConfig({displayName:"RunGroupPanel__ThinLine",componentId:"tb4j34-1"})(["position:absolute;top:20px;width:1px;background:",";left:29px;z-index:2;"],c.w.Gray200),M=o.ZP.span.withConfig({displayName:"RunGroupPanel__RunTitle",componentId:"tb4j34-2"})(["color:",";font-weight:500;overflow:hidden;text-overflow:ellipsis;user-select:text;flex:1;"],c.w.Dark),D=(0,Z.jsx)("span",{style:{borderRadius:2,fontSize:12,lineHeight:"14px",background:c.w.Gray300,color:c.w.White,padding:"0 4px",fontWeight:400,userSelect:"none",marginLeft:12},children:"ROOT"}),z=function(e){var n=e.runId,t=e.nowMs,r=e.metadata,i=e.selection,o=e.onClickStep,a=e.onDoubleClickStep,s=e.onHighlightStep,c=l.useMemo((function(){for(var e=[],n=[],t=[],i=[],o=0,a=Object.keys(r.steps);o<a.length;o++){var s=a[o];switch(r.steps[s].state){case p.TN.PREPARING:e.push(s);break;case p.TN.RUNNING:case p.TN.UNKNOWN:n.push(s);break;case p.TN.FAILED:t.push(s);break;case p.TN.SUCCEEDED:i.push(s)}}return{preparing:e,executing:n,errored:t,succeeded:i}}),[r]),u=c.preparing,f=c.executing,h=c.errored,m=c.succeeded,x=function(e){return(0,Z.jsx)(A,{nowMs:t,name:e,metadata:r,selected:i.keys.includes(e),onClick:o,onDoubleClick:a,onHover:s},e)},v=(null===r||void 0===r?void 0:r.exitedAt)&&r.exitedAt>0;return(0,Z.jsxs)("div",{style:{overflowY:"auto"},children:[(0,Z.jsx)(T,{runId:n,runStatusLastChangedAt:r.exitedAt||r.startedProcessAt||r.startedPipelineAt||0}),(0,Z.jsx)(d.pC,{title:"".concat(v?"Not executed":"Preparing"," (").concat(u.length,")"),children:(0,Z.jsx)("div",{children:0===u.length?(0,Z.jsx)(K,{children:"No steps are waiting to execute"}):u.map(x)})}),(0,Z.jsx)(d.pC,{title:"Executing (".concat(f.length,")"),children:(0,Z.jsx)("div",{children:0===f.length?(0,Z.jsx)(K,{children:"No steps are executing"}):f.map(x)})}),(0,Z.jsx)(d.pC,{title:"Errored (".concat(h.length,")"),children:(0,Z.jsx)("div",{children:0===h.length?(0,Z.jsx)(K,{children:"No steps have errored"}):h.map(x)})}),(0,Z.jsx)(d.pC,{collapsedByDefault:!0,title:"Succeeded (".concat(m.length,")"),children:(0,Z.jsx)("div",{children:0===m.length?(0,Z.jsx)(K,{children:"No steps have succeeded"}):m.map(x)})})]})},A=function(e){var n,t,r=e.nowMs,o=e.name,c=e.selected,l=e.metadata,d=e.onClick,m=e.onHover,x=e.onDoubleClick,v=l.steps[o],g=null!==(n=v.end)&&void 0!==n?n:r;return(0,Z.jsxs)(F,{selected:c,onClick:function(e){return null===d||void 0===d?void 0:d(o,e)},onDoubleClick:function(){return null===x||void 0===x?void 0:x(o)},onMouseEnter:function(){return null===m||void 0===m?void 0:m(o)},onMouseLeave:function(){return null===m||void 0===m?void 0:m(null)},children:[v.state===p.TN.RUNNING?(0,Z.jsx)(a.$,{purpose:"body-text"}):v.state===p.TN.UNKNOWN?(0,Z.jsx)(s.u,{modifiers:{preventOverflow:{enabled:!1},flip:{enabled:!1}},position:"bottom",content:"Unknown step state. Run completed without step execution completion.",children:(0,Z.jsx)(U,{children:"?"})}):(0,Z.jsx)(U,{style:(0,i.Z)({},(0,h.HB)(null===(t=l.steps[o])||void 0===t?void 0:t.state,{metadata:l,options:{mode:f.hS.WATERFALL_TIMED}}))}),(0,Z.jsx)(O,{children:o}),v.start&&(0,Z.jsx)(W,{children:(0,u.fv)(g-v.start)})]},o)},O=o.ZP.div.withConfig({displayName:"GanttStatusPanel__StepLabel",componentId:"rrdi31-0"})(["overflow:hidden;text-overflow:ellipsis;flex:1;"]),F=o.ZP.div.withConfig({displayName:"GanttStatusPanel__StepItemContainer",componentId:"rrdi31-1"})(["display:flex;line-height:32px;height:32px;padding:0 14px 0 6px;gap:6px;align-items:center;border-bottom:1px solid ",";font-size:12px;"," &:hover{background:",";}"],c.w.KeylineGray,(function(e){return e.selected&&"background: ".concat(c.w.Gray100,";")}),c.w.Gray100),U=o.ZP.div.withConfig({displayName:"GanttStatusPanel__StepStatusDot",componentId:"rrdi31-2"})(["width:12px;height:12px;flex-shrink:0;border-radius:50%;text-align:center;line-height:12px;"]),W=o.ZP.div.withConfig({displayName:"GanttStatusPanel__Elapsed",componentId:"rrdi31-3"})(["color:",";font-variant-numeric:tabular-nums;"],c.w.Gray400),K=o.ZP.div.withConfig({displayName:"GanttStatusPanel__EmptyNotice",componentId:"rrdi31-4"})(["min-height:32px;font-size:12px;padding:8px 24px;color:",";"],c.w.Gray400)},36172:function(e,n,t){t.d(n,{qn:function(){return a},KC:function(){return s},lX:function(){return c}});var r=t(922),i=t(7838),o=t(47387),a=r.ZP.div.withConfig({displayName:"VizComponents__OptionsContainer",componentId:"sc-1s9sbos-0"})(["min-height:56px;display:flex;align-items:center;padding:5px 12px 5px 24px;border-bottom:1px solid ",";background:",";flex-shrink:0;flex-wrap:wrap;z-index:3;","{margin-top:0;gap:8px;@media (max-width:1100px){& .hideable-button-text{display:none;}& div[role='img']{margin:0;}}}"],i.w.KeylineGray,i.w.White,o.Rp),s=r.ZP.div.withConfig({displayName:"VizComponents__OptionsDivider",componentId:"sc-1s9sbos-1"})(["width:30px;height:25px;"]),c=r.ZP.div.withConfig({displayName:"VizComponents__OptionsSpacer",componentId:"sc-1s9sbos-2"})(["width:30px;"])},88291:function(e,n,t){t.d(n,{S:function(){return c}});var r=t(95764),i=t(19065),o=t(81137),a=t.n(o),s=t(325),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=s.useRef(),t=s.useState({left:0,top:0}),o=(0,i.Z)(t,2),c=o[0],l=o[1],u=s.useState({width:0,height:0}),d=(0,i.Z)(u,2),p=d[0],f=d[1],h=e.initialOffset,m=s.useCallback((function(){if(n.current){var e,t=function(e){f({width:e.width,height:e.height});var t=n.current;if(t){var r=t.element;if(!t.__sized&&0!==e.width&&h){var i=h(r);r.scrollTop=i.top,r.scrollLeft=i.left,l(i),t.__sized=!0}}},r=n.current.element;return r instanceof HTMLElement&&("ResizeObserver"in window?(e=new window.ResizeObserver((function(e){e[0].target===r&&t({width:r.clientWidth,height:r.clientHeight})}))).observe(r):(console.warn("No ResizeObserver support, or useViewport is attached to a non-DOM node?"),t({width:r.clientWidth,height:r.clientHeight}))),function(){var n;null===(n=e)||void 0===n||n.disconnect()}}}),[h]);s.useEffect(m,[m]);var x=s.useRef(null),v=function(e){Math.floor(c.left)===e.currentTarget.scrollLeft&&Math.floor(c.top)===e.currentTarget.scrollTop||(x.current&&x.current.cancel(),l({left:e.currentTarget.scrollLeft,top:e.currentTarget.scrollTop}))},g=function(e,t){var r,i=null===(r=n.current)||void 0===r?void 0:r.element;if(i){var o=i.clientWidth,s=i.clientHeight;x.current&&(x.current.cancel(),x.current=null),e.left=Math.min(i.scrollWidth-o,Math.max(0,e.left)),e.top=Math.min(i.scrollHeight-s,Math.max(0,e.top));var u=function(){i.scrollTop=e.top,i.scrollLeft=e.left,l(e),x.current=null};t?x.current=a()(c,e,{step:function(e){i.scrollTop=e.top,i.scrollLeft=e.left,l({left:e.left,top:e.top})},done:u}):u()}},y=s.useCallback((function(e){var t;e!==(null===(t=n.current)||void 0===t?void 0:t.element)&&(n.current={element:e,__sized:!1},m())}),[m]);return{viewport:(0,r.Z)((0,r.Z)({},c),p),containerProps:{ref:y,onScroll:v},onMoveToViewport:g}}},53857:function(e,n,t){t.d(n,{pC:function(){return p},R8:function(){return h},M$:function(){return m},Pb:function(){return x},P3:function(){return v},JB:function(){return g}});var r=t(19065),i=t(922),o=t(33918),a=t(23730),s=t(8546),c=t(7838),l=t(325),u=t(76314),d=t(32289),p=function(e){var n=e.title,t=e.collapsedByDefault,i=e.children,s=(0,u.U)("sidebar-".concat(n),(function(e){return!0===e||!1===e?e:!t})),c=(0,r.Z)(s,2),p=c[0],h=c[1],m=l.useCallback((function(){h((function(e){return!e}))}),[h]);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(y,{onClick:m,children:[(0,d.jsx)(f,{children:n}),(0,d.jsx)(a.JO,{size:24,name:"arrow_drop_down",style:{transform:p?"rotate(0)":"rotate(-90deg)"}})]}),(0,d.jsx)(o.UO,{isOpen:p,children:(0,d.jsx)("div",{children:i})})]})},f=i.ZP.div.withConfig({displayName:"SidebarComponents__SidebarTitleTextWrap",componentId:"rejkvt-0"})(["overflow:hidden;min-width:0;text-overflow:ellipsis;white-space:nowrap;"]),h=i.ZP.h3.withConfig({displayName:"SidebarComponents__SidebarTitle",componentId:"rejkvt-1"})(["font-family:",";font-size:16px;margin:0 0 12px;overflow:hidden;text-overflow:ellipsis;:first-child:last-child{margin-bottom:0;}"],s.b.monospace),m=i.ZP.h4.withConfig({displayName:"SidebarComponents__SectionHeader",componentId:"rejkvt-2"})(["font-family:",";font-size:16px;margin:2px 0 0 0;"],s.b.monospace),x=i.ZP.h4.withConfig({displayName:"SidebarComponents__SectionSmallHeader",componentId:"rejkvt-3"})(["font-family:",";font-size:14px;font-weight:500;margin:2px 0;"],s.b.monospace),v=i.ZP.div.withConfig({displayName:"SidebarComponents__SidebarSubhead",componentId:"rejkvt-4"})(["color:",";font-size:0.7rem;"],c.w.Gray400),g=i.ZP.div.withConfig({displayName:"SidebarComponents__SectionItemContainer",componentId:"rejkvt-5"})(["border-bottom:1px solid ",";margin-bottom:12px;padding-bottom:12px;font-size:0.8rem;&:last-child{border-bottom:none;margin-bottom:0;padding-bottom:0;}"],c.w.KeylineGray),y=i.ZP.div.withConfig({displayName:"SidebarComponents__CollapsingHeaderBar",componentId:"rejkvt-6"})(["height:32px;padding-left:24px;padding-right:8px;background:",";border-top:1px solid ",";border-bottom:1px solid ",";color:",";cursor:pointer;display:flex;justify-content:space-between;align-items:center;font-size:12px;font-weight:700;user-select:none;"],c.w.White,c.w.KeylineGray,c.w.KeylineGray,c.w.Gray900)},6527:function(e,n,t){var r;t.d(n,{i:function(){return r},w:function(){return i}}),function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.CRITICAL="CRITICAL",e.EVENT="EVENT"}(r||(r={}));var i=["INFO","WARNING","ERROR","CRITICAL","EVENT"]},33650:function(e,n,t){t.d(n,{X2:function(){return k},Yw:function(){return C},E6:function(){return E},dE:function(){return N},pq:function(){return Z},qH:function(){return T}});var r=t(19065),i=t(16798),o=t(922),a=t(7838),s=t(8546),c=t(11831),l=t(57753),u=t(13816),d=t.n(u),p=t(41332),f=t.n(p),h=t(325),m=t(27601),x=t(74549),v=t(76341),g=t(37971),y=t(7489),w=t(6527),b=t(81912),j=t(32289),k=o.ZP.div.withConfig({displayName:"LogsRowComponents__Row",componentId:"sc-1hihxk4-0"})(["font-size:0.9em;width:100%;height:100%;max-height:17em;word-break:break-word;white-space:pre-wrap;font-family:",";display:flex;flex-direction:row;align-items:baseline;overflow:hidden;border-top:1px solid ",";background:",";&:hover{background:",";}color:",";"],s.b.monospace,a.w.KeylineGray,(function(e){var n=e.highlighted,t=e.level;return n?"#ffe39f":function(e){var n;return(n={},(0,i.Z)(n,w.i.DEBUG,a.w.White),(0,i.Z)(n,w.i.INFO,a.w.White),(0,i.Z)(n,w.i.EVENT,a.w.White),(0,i.Z)(n,w.i.WARNING,a.w.Yellow50),(0,i.Z)(n,w.i.ERROR,a.w.Red50),(0,i.Z)(n,w.i.CRITICAL,a.w.Red50),n)[e]}(t)}),(function(e){return e.highlighted?"#ffe39f":"white"}),(function(e){var n;return(n={},(0,i.Z)(n,w.i.DEBUG,a.w.Gray400),(0,i.Z)(n,w.i.INFO,a.w.Gray900),(0,i.Z)(n,w.i.EVENT,a.w.Gray900),(0,i.Z)(n,w.i.WARNING,a.w.Yellow700),(0,i.Z)(n,w.i.ERROR,a.w.Red500),(0,i.Z)(n,w.i.CRITICAL,a.w.Red500),n)[e.level]})),C=o.ZP.div.withConfig({displayName:"LogsRowComponents__StructuredContent",componentId:"sc-1hihxk4-1"})(["background:rgba(255,255,255,0.5);color:",";box-sizing:border-box;border-left:1px solid ",";word-break:break-word;white-space:pre-wrap;font-family:",";flex:1;align-self:stretch;display:flex;flex-direction:row;align-items:baseline;"],a.w.Gray900,a.w.KeylineGray,s.b.monospace),E=function(e){var n=h.useContext(b.D7),t=String(e.stepKey).split(".");return(0,j.jsx)(N,{style:{width:n.solid},children:e.stepKey?t.map((function(e,n){return(0,j.jsxs)("div",{"data-tooltip":e,"data-tooltip-style":S,style:{marginLeft:Math.max(0,15*n-9),fontWeight:n===t.length-1?600:300},children:[n>0?"\u21b3":"",e.length>30-2*n?"".concat(e.substr(0,16-2*n),"\u2026").concat(e.substr(e.length-14)):e]},n)})):"-"})},N=o.ZP.div.withConfig({displayName:"LogsRowComponents__OpColumnContainer",componentId:"sc-1hihxk4-2"})(["width:250px;flex-shrink:0;padding:4px 12px;"]),S=JSON.stringify({fontSize:"0.9em",fontFamily:s.b.monospace,color:a.w.Dark,background:a.w.White,border:"1px solid ".concat(a.w.Gray100),top:-8,left:1}),_=d()((function(e){return new Intl.DateTimeFormat(navigator.language,{hour:"2-digit",minute:"2-digit",second:"2-digit",hourCycle:"h23",timeZone:"Automatic"===e?(0,y.cw)():e})})),I=d()((function(e){return new Intl.NumberFormat(e,{minimumFractionDigits:3,maximumFractionDigits:3})})),Z=h.memo((function(e){var n=e.time,t=e.runStartTime,i=e.stepStartTime,o=(0,m.TH)(),a=h.useContext(b.D7),u=h.useContext(g.jA),d=(0,r.Z)(u,1)[0],p="string"===typeof n&&"number"===typeof t,y="".concat(o.pathname,"?").concat(f().stringify({focusedTime:e.time})),w=(0,v.XA)(Number(n)-(t||0)),k=(0,v.XA)(Number(n)-(i||0));return(0,j.jsx)(R,{style:{width:a.timestamp},children:(0,j.jsx)(c.u,{canShow:p,content:(0,j.jsx)(l.nZ,{spacing:0,dark:!0,rows:[{key:"Since start of run",value:(0,j.jsx)("span",{style:{fontFamily:s.b.monospace,fontSize:"13px"},children:w})},i?{key:"Since start of step",value:(0,j.jsx)("span",{style:{fontFamily:s.b.monospace,fontSize:"13px"},children:k})}:null]}),placement:"left",children:(0,j.jsx)(x.rU,{to:y,children:function(){if(n){var e=Number(n),t=_(d).format(new Date(e)),r=e%1e3/1e3;return"".concat(t).concat(I(navigator.language).format(r).slice(1))}return""}()})})})})),R=o.ZP.div.withConfig({displayName:"LogsRowComponents__TimestampColumnContainer",componentId:"sc-1hihxk4-3"})(["flex-shrink:0;padding:4px 4px 4px 12px;a:link,a:visited,a:hover,a:active{color:",";}a:hover,a:active{text-decoration:underline;}"],a.w.Gray400),T=function(e){var n=h.useContext(b.D7);return(0,j.jsx)(L,{style:{width:n.eventType},children:e.children})},L=o.ZP.div.withConfig({displayName:"LogsRowComponents__EventTypeColumnContainer",componentId:"sc-1hihxk4-4"})(["flex-shrink:0;color:",";padding:4px;"],a.w.Gray400)},81912:function(e,n,t){t.d(n,{D7:function(){return m},bu:function(){return x},h4:function(){return v},PM:function(){return g},Cr:function(){return y},gM:function(){return w}});var r=t(57994),i=t(98907),o=t(64428),a=t(28463),s=t(95764),c=t(922),l=t(7838),u=t(325),d=t(76314),p=t(32289),f="ColumnWidths",h=Object.assign({eventType:140,solid:150,timestamp:117},(0,d.n)(f)),m=u.createContext((0,s.Z)((0,s.Z)({},h),{},{onChange:function(e){}})),x=function(e){(0,o.Z)(t,e);var n=(0,a.Z)(t);function t(){var e;(0,r.Z)(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=n.call.apply(n,[this].concat(o))).state=h,e.onWidthsChangedFromContext=function(n){window.localStorage.setItem(f,JSON.stringify(n)),e.props.onWidthsChanged(n),e.setState(n)},e}return(0,i.Z)(t,[{key:"render",value:function(){return(0,p.jsx)(m.Provider,{value:(0,s.Z)((0,s.Z)({},this.state),{},{onChange:this.onWidthsChangedFromContext}),children:this.props.children})}}]),t}(u.Component),v=function(e){(0,o.Z)(t,e);var n=(0,a.Z)(t);function t(){var e;(0,r.Z)(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=n.call.apply(n,[this].concat(o))).state={isDragging:!1,width:0,screenX:0},e.onMouseDown=function(n){var t=e.props.width;e.setState({isDragging:!0,screenX:n.screenX,width:t}),document.addEventListener("mousemove",e.onMouseMove),document.addEventListener("mouseup",e.onMouseUp)},e.onMouseMove=function(n){var t=e.props,r=t.onResize,i=t.handleSide,o=e.state,a=o.isDragging,s=o.width,c=o.screenX;if(n.screenX&&a&&r){var l="left"===i?-1:1;r(Math.max(40,s+(n.screenX-c)*l))}},e.onMouseUp=function(){e.state.isDragging&&e.setState({isDragging:!1}),document.removeEventListener("mousemove",e.onMouseMove),document.removeEventListener("mouseup",e.onMouseUp)},e}return(0,i.Z)(t,[{key:"componentWillUnmount",value:function(){document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp)}},{key:"render",value:function(){var e=!!this.props.onResize;return(0,p.jsxs)(w,{style:{width:this.props.width},children:[(0,p.jsx)(b,{onMouseDown:e?this.onMouseDown:void 0,isDraggable:e,isDragging:this.state.isDragging,side:this.props.handleSide||"right",children:(0,p.jsx)("div",{})}),(0,p.jsx)(j,{children:this.props.children})]})}}]),t}(u.Component),g=function(){var e=u.useContext(m);return(0,p.jsxs)(y,{children:[(0,p.jsx)(v,{width:e.solid,onResize:function(n){return e.onChange((0,s.Z)((0,s.Z)({},e),{},{solid:n}))},children:"Op"}),(0,p.jsx)(v,{width:e.eventType,onResize:function(n){return e.onChange((0,s.Z)((0,s.Z)({},e),{},{eventType:n}))},children:"Event Type"}),(0,p.jsx)(w,{style:{flex:1},children:"Info"}),(0,p.jsx)(v,{handleSide:"left",width:e.timestamp,onResize:function(n){return e.onChange((0,s.Z)((0,s.Z)({},e),{},{timestamp:n}))},children:"Timestamp"})]})},y=c.ZP.div.withConfig({displayName:"LogsScrollingTableHeader__HeadersContainer",componentId:"sc-1br1l7w-0"})(["display:flex;color:",";text-transform:uppercase;font-size:12px;border-bottom:1px solid ",";z-index:2;"],l.w.Gray400,l.w.KeylineGray),w=c.ZP.div.withConfig({displayName:"LogsScrollingTableHeader__HeaderContainer",componentId:"sc-1br1l7w-1"})(["flex-shrink:0;position:relative;user-select:none;display:inline-block;padding:0 12px;line-height:32px;"]),b=c.ZP.div.withConfig({displayName:"LogsScrollingTableHeader__HeaderDragHandle",componentId:"sc-1br1l7w-2"})(["width:1px;height:20000px;position:absolute;cursor:",";z-index:2;"," padding:0 2px;& > div{width:1px;height:100%;background:",";}"],(function(e){return e.isDraggable?"ew-resize":"default"}),(function(e){return"right"===e.side?"right: -2px;":"left: -2px;"}),(function(e){return e.isDragging?l.w.Gray400:l.w.KeylineGray})),j=c.ZP.div.withConfig({displayName:"LogsScrollingTableHeader__HeaderLabel",componentId:"sc-1br1l7w-3"})(["overflow:hidden;white-space:nowrap;text-overflow:ellipsis;"])},60057:function(e,n,t){t.d(n,{c:function(){return a}});var r=t(325),i=t(27601),o=t(32289),a=function(e){return r.useEffect((function(){var e=function(e){e.preventDefault(),e.returnValue=""};return window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)}}),[]),(0,o.jsx)(i.NL,{message:e.message})}},3148:function(e,n,t){t.d(n,{jT:function(){return k},EP:function(){return E},VM:function(){return N},NX:function(){return S}});var r=t(95764),i=t(16798),o=t(19065),a=t(75453),s=t(23730),c=t(6466),l=t(32030),u=t(325),d=t(13065),p=t(25496),f=t(63579),h=t(36523),m=t(37099),x=t(33902),v=t(39956),g=t(40355),y=t(34653),w=t(28064),b=t(38568),j=t(32289),k=function(e){var n=e.run,t=n.id,r=n.canTerminate,c=u.useState(!1),l=(0,o.Z)(c,2),p=l[0],f=l[1],h=u.useCallback((function(){return f(!1)}),[]),m=u.useCallback((function(e){var n=e.errors,r=t&&n[t];r&&"message"in r&&d.L.show({message:r.message,icon:"error",intent:"danger"})}),[t]);return t?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(a.zx,{icon:(0,j.jsx)(s.JO,{name:"cancel"}),intent:"danger",disabled:p,onClick:function(){return f(!0)},children:"Terminate"}),(0,j.jsx)(b.A,{isOpen:p,onClose:h,onComplete:m,selectedRuns:(0,i.Z)({},t,r)})]}):null};function C(e,n){var t=e.keys.map((function(e){var t;return e&&(null===(t=n.steps[e])||void 0===t?void 0:t.state)||g.TN.PREPARING}));return(0,r.Z)((0,r.Z)({},e),{},{present:e.keys.length>0,failed:e.keys.length&&t.includes(g.TN.FAILED),finished:t.every((function(e){return[g.TN.FAILED,g.TN.SUCCEEDED].includes(e)}))})}var E=function(e){return y.cv.has(e.status)},N=function(e){return e.executionPlan&&y.hd.has(e.status)},S=function(e){var n,t,r=e.metadata,i=e.graph,o=e.onLaunch,a=e.run,s=null===a||void 0===a||null===(n=a.executionPlan)||void 0===n?void 0:n.artifactsPersisted,u=(0,f._5)().canLaunchPipelineReexecution,d=function(e){var n,t,r=(0,v._)(e);if(!e)return null;if(!e.pipelineSnapshotId)return{icon:"error",tooltip:'"'.concat(e.pipelineName,'" could not be found.'),disabled:!0};if(r){var i=r.type;if("origin-and-snapshot"===i)return null;if("origin-only"===i)return{icon:"warning",tooltip:'The loaded version of "'.concat(e.pipelineName,'" may be different than the one used for the original run.'),disabled:!1};if("snapshot-only"===i){var o=e.repositoryOrigin?(0,x.Uz)((0,m.kQ)(e.repositoryOrigin.repositoryName,e.repositoryOrigin.repositoryLocationName)):null;return{icon:"warning",tooltip:(0,j.jsxs)(c.Z,{direction:"column",spacing:4,children:[(0,j.jsx)("div",{children:'The original run loaded "'.concat(e.pipelineName,'" from ').concat(o||"a different code location",".")}),o?(0,j.jsxs)("div",{children:["Original definition in: ",(0,j.jsx)("strong",{children:o})]}):null]}),disabled:!1}}return{icon:"warning",tooltip:'The pipeline "'.concat(e.pipelineName,'" may be a different version from the original pipeline run.'),disabled:!1}}var a=null===(n=e.repositoryOrigin)||void 0===n?void 0:n.repositoryName,s=null===(t=e.repositoryOrigin)||void 0===t?void 0:t.repositoryLocationName;return{icon:"error",tooltip:(0,j.jsxs)(c.Z,{direction:"column",spacing:8,children:[(0,j.jsx)("div",{children:'"'.concat(e.pipelineName,'" is not available in the your definitions.')}),a&&s?(0,j.jsx)("div",{children:"Load definitions for ".concat((0,m.At)(a,s)," and try again.")}):null]}),disabled:!0}}(a),g=C(e.selection,r),b=function(e,n,t){var r=e.tags.find((function(e){return e.key===w.H.StepSelection}));return r?C({keys:(0,p.V)(n,r.value).all.map((function(e){return e.name})),query:r.value},t):null}(a,i,r),S=null===(t=a.tags)||void 0===t?void 0:t.some((function(e){return e.key===w.H.IsResumeRetry&&"true"===e.value})),I={icon:"cached",scope:"*",title:"All steps in root run",tooltip:"Re-execute the pipeline run from scratch",disabled:!E(a),onClick:function(){return o({type:"all"})}},Z={icon:"linear_scale",scope:(null===b||void 0===b?void 0:b.query)||"*",title:"Same steps",disabled:!b||!(b.finished||b.failed),tooltip:(0,j.jsxs)("div",{children:[b&&b.present?b.finished?"Re-execute the same step subset used for this run:":"Wait for all of the steps to finish to re-execute the same subset.":"Re-executes the same step subset used for this run if one was present.",(0,j.jsx)(_,{selection:b})]}),onClick:function(){return o({type:"selection",selection:b})}},R={icon:"op",scope:g.query,title:g.keys.length>1?"Selected steps":"Selected step",disabled:!g.present||!(g.finished||g.failed),tooltip:(0,j.jsxs)("div",{children:[g.present?g.finished?"Re-execute the selected steps with existing configuration:":"Wait for the steps to finish to re-execute them.":"Select a step or type a step subset to re-execute.",(0,j.jsx)(_,{selection:g})]}),onClick:function(){return o({type:"selection",selection:g})}},T={icon:"arrow_forward",title:"From selected",disabled:!E(a)||1!==g.keys.length,tooltip:"Re-execute the pipeline downstream from the selected steps",onClick:function(){if(!a.executionPlan)return console.warn("Run execution plan must be present to launch from-selected execution"),Promise.resolve();var e=g.keys.map((function(e){return"".concat(e,"*")})).join(","),n=(0,p.V)(i,e).all.map((function(e){return e.name}));return o({type:"selection",selection:{keys:n,query:e}})}},L=N(a),P={icon:"arrow_forward",title:"From failure",disabled:!L,tooltip:L?"Retry the pipeline run, skipping steps that completed successfully":"Retry is only enabled when the pipeline has failed.",onClick:function(){return o({type:"from-failure"})}};s||[R,Z,P,T].forEach((function(e){e.disabled=!0,e.title="Retry and re-execute are only enabled on persistent storage. Try rerunning with a different storage configuration."}));var G=[I,Z,R,T,P],M=g.present?R:L&&S?P:null!==b&&void 0!==b&&b.present?Z:null,D=s&&M?M:I;return(0,j.jsxs)(c.Z,{direction:"row",spacing:8,children:[(0,j.jsx)(l.x,{flex:{direction:"row"},children:(0,j.jsx)(h.D,{runCount:1,primary:D,options:G,title:"*"===D.scope?"Re-execute all (*)":D.scope?"Re-execute (".concat(D.scope,")"):"Re-execute ".concat(D.title),tooltip:null!==d&&void 0!==d&&d.tooltip?null===d||void 0===d?void 0:d.tooltip:u.enabled?void 0:u.disabledReason,icon:null===d||void 0===d?void 0:d.icon,disabled:(null===d||void 0===d?void 0:d.disabled)||!u.enabled})}),y.cv.has(a.status)?null:(0,j.jsx)(k,{run:a})]})};var _=function(e){var n=e.selection;return(0,j.jsx)("div",{style:{paddingLeft:"10px"},children:((null===n||void 0===n?void 0:n.keys)||[]).map((function(e){return(0,j.jsx)("span",{style:{display:"block"},children:"* ".concat(e)},e)}))})}},3660:function(e,n,t){t.d(n,{A:function(){return r}});var r=t(325).createContext(undefined)},40355:function(e,n,t){t.d(n,{TN:function(){return i},PG:function(){return h},co:function(){return m},jp:function(){return y},Nb:function(){return w}});var r,i,o=t(99500),a=t(47427),s=t(3159),c=t(325),l=t(69305),u=t(4735),d=t(3660),p=t(32289);!function(e){e.PREPARING="preparing",e.RETRY_REQUESTED="retry-requested",e.RUNNING="running",e.SUCCEEDED="succeeded",e.SKIPPED="skipped",e.FAILED="failed",e.UNKNOWN="unknown"}(i||(i={}));var f=[i.RETRY_REQUESTED,i.SUCCEEDED,i.FAILED,i.UNKNOWN],h={firstLogAt:0,mostRecentLogAt:0,globalMarkers:[],steps:{}},m=function(e){var n={};return e.forEach((function(e){return n[e]={fileKey:e,stepKeys:[e]}})),n},x=function(e){return e?Math.floor(1e3*e):void 0};var v=function(e){switch(e){case l.SG.SUCCESS:return i.SUCCEEDED;case l.SG.FAILURE:return i.FAILED;case l.SG.SKIPPED:return i.SKIPPED;default:return i.UNKNOWN}},g=function(e){return"EngineEvent"===e.__typename||"ResourceInitFailureEvent"===e.__typename||"ResourceInitStartedEvent"===e.__typename||"ResourceInitSuccessEvent"===e.__typename||"StepWorkerStartedEvent"===e.__typename||"StepWorkerStartingEvent"===e.__typename?e:null};var y=function(e){var n=e.logs,t=e.children,r=c.useContext(d.A),o=c.useMemo((function(){return function(e){var n={firstLogAt:0,mostRecentLogAt:0,globalMarkers:[],steps:{}};return e?(e.startTime&&(n.startedPipelineAt=x(e.startTime)),e.endTime&&(n.exitedAt=x(e.endTime)),e.stepStats.forEach((function(e){n.steps[e.stepKey]={state:v(e.status),start:x(e.startTime),end:x(e.endTime),transitions:[],attempts:e.attempts.map((function(n,t){return{start:x(n.startTime),end:x(n.endTime),exitState:t===e.attempts.length-1?v(e.status):i.RETRY_REQUESTED}})),markers:e.markers.map((function(e,n){return{start:x(e.startTime),end:x(e.endTime),key:"marker_".concat(n)}}))}})),n):n}(r)}),[r]),s=c.useMemo((function(){return n.loading?o:function(e){var n={firstLogAt:0,mostRecentLogAt:0,globalMarkers:[],steps:{}},t=function(e,n){var t=e.find((function(e){return e.key===n&&!e.end}));return t||(t={key:n},e.unshift(t)),t},r=function(e,n,t){e.transitions.push({time:n,state:t}),e.state=t,e.attempts=[]};e.forEach((function(e){var o=Number.parseInt(e.timestamp,10);if(n.firstLogAt=n.firstLogAt?Math.min(n.firstLogAt,o):o,n.mostRecentLogAt=Math.max(n.mostRecentLogAt,o),"RunStartEvent"===e.__typename&&(n.startedPipelineAt=o),"RunFailureEvent"===e.__typename||"RunSuccessEvent"===e.__typename||"RunCanceledEvent"===e.__typename){n.exitedAt=o;for(var a=0,s=Object.values(n.steps);a<s.length;a++){var c=s[a];c.state===i.RUNNING&&r(c,o,i.UNKNOWN)}}if(!e.stepKey){var l=g(e);l&&(l.markerStart&&(t(n.globalMarkers,l.markerStart).start=o),l.markerEnd&&(t(n.globalMarkers,l.markerEnd).end=o))}if("LogsCapturedEvent"===e.__typename&&(n.logCaptureSteps||(n.logCaptureSteps={}),n.logCaptureSteps[e.fileKey]={fileKey:e.fileKey,stepKeys:e.stepKeys||[],pid:String(e.pid),externalUrl:e.externalUrl||void 0}),e.stepKey){var u=e.stepKey,d=n.steps[u]||{state:i.PREPARING,attempts:[],transitions:[{state:i.PREPARING,time:o}],start:void 0,end:void 0,markers:[]},p=g(e);if(p&&(p.markerStart&&(t(d.markers,p.markerStart).start=o),p.markerEnd&&(t(d.markers,p.markerEnd).end=o)),"ExecutionStepStartEvent"===e.__typename)r(d,o,i.RUNNING),d.start=o;else if("ExecutionStepSuccessEvent"===e.__typename)r(d,o,i.SUCCEEDED),d.end=Math.max(o,d.end||0);else if("ExecutionStepSkippedEvent"===e.__typename)r(d,o,i.SKIPPED);else if("ExecutionStepFailureEvent"===e.__typename)r(d,o,i.FAILED),d.end=Math.max(o,d.end||0);else if("ExecutionStepUpForRetryEvent"===e.__typename)r(d,o,i.RETRY_REQUESTED),r(d,o+1,i.PREPARING);else if("ExecutionStepRestartEvent"===e.__typename)r(d,o,i.RUNNING);else if("ObjectStoreOperationEvent"===e.__typename&&"CP_OBJECT"===e.operationResult.op)return;n.steps[u]=d}}));for(var o=0,s=Object.values(n.steps);o<s.length;o++){var c=s[o];c.transitions=c.transitions.sort((function(e,n){return e.time-n.time}));var l,u=null,d=(0,a.Z)(c.transitions);try{for(d.s();!(l=d.n()).done;){var p=l.value;u&&!u.end||p.state!==i.RUNNING||(u={start:p.time},c.attempts.push(u)),u&&f.includes(p.state)&&(u.end=p.time,u.exitState=p.state)}}catch(h){d.e(h)}finally{d.f()}}return n}(n.allNodes)}),[n,o]);return(0,p.jsx)(p.Fragment,{children:t(s)})},w=(0,s.Ps)(r||(r=(0,o.Z)(["\n  fragment RunMetadataProviderMessageFragment on DagsterRunEvent {\n    __typename\n    ... on MessageEvent {\n      message\n      timestamp\n      stepKey\n    }\n    ... on MarkerEvent {\n      markerStart\n      markerEnd\n    }\n    ... on ObjectStoreOperationEvent {\n      operationResult {\n        op\n        metadataEntries {\n          ...MetadataEntryFragment\n        }\n      }\n    }\n    ... on LogsCapturedEvent {\n      fileKey\n      stepKeys\n      pid\n      externalUrl\n    }\n  }\n\n  ","\n"])),u.it)},57094:function(e,n,t){t.d(n,{F:function(){return h}});var r,i=t(99500),o=t(922),a=t(73701),s=t(3159),c=t(32030),l=t(34595),u=(t(325),t(74549)),d=t(79082),p=t(12436),f=t(32289),h=function(e){var n=e.runId,t=(0,a.a)(m,{variables:{runId:n}});if(t.loading||!t.data)return(0,f.jsx)(x,{children:(0,f.jsx)(c.x,{padding:24,flex:{justifyContent:"center"},children:(0,f.jsx)(l.$,{purpose:"section"})})});var r=t.data.pipelineRunOrError;if("Run"!==r.__typename)return(0,f.jsx)(p.T9,{error:r});if("RunStatsSnapshot"!==r.stats.__typename)return(0,f.jsx)(p.T9,{error:r.stats});var i="/runs/".concat(n);return(0,f.jsxs)(x,{children:[(0,f.jsx)(u.rU,{to:"".concat(i,"?logs=type:STEP_SUCCESS"),children:"".concat(r.stats.stepsSucceeded," steps succeeded")}),(0,f.jsx)(u.rU,{to:"".concat(i,"?logs=type:STEP_FAILURE"),children:"".concat(r.stats.stepsFailed," steps failed")}),(0,f.jsx)(u.rU,{to:"".concat(i,"?logs=type:ASSET_MATERIALIZATION"),children:"".concat(r.stats.materializations," materializations")}),(0,f.jsx)(u.rU,{to:"".concat(i,"?logs=type:STEP_EXPECTATION_RESULT"),children:"".concat(r.stats.expectations," expectations passed")})]})},m=(0,s.Ps)(r||(r=(0,i.Z)(["\n  query RunStatsQuery($runId: ID!) {\n    pipelineRunOrError(runId: $runId) {\n      __typename\n      ... on RunNotFoundError {\n        message\n      }\n      ... on Run {\n        id\n        runId\n        pipelineName\n        stats {\n          ... on RunStatsSnapshot {\n            id\n            stepsSucceeded\n            stepsFailed\n            expectations\n            materializations\n          }\n          ...PythonErrorFragment\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n"])),d.B),x=o.ZP.div.withConfig({displayName:"RunStats__RunStatsDetailsContainer",componentId:"sc-7pgndz-0"})(["min-width:200px;padding:12px;color:white;font-size:12px;& > a{display:block;}"])},59549:function(e,n,t){t.d(n,{hk:function(){return g},K9:function(){return y},O_:function(){return b}});var r,i,o=t(99500),a=t(95764),s=t(81034),c=t(922),l=t(7838),u=t(762),d=t(34595),p=t(325),f=t(57094),h=t(34653),m=t(32289),x=["runId"],v={QUEUED:l.w.Blue200,NOT_STARTED:l.w.Gray600,STARTING:l.w.Gray400,MANAGED:l.w.Gray400,STARTED:l.w.Blue500,SUCCESS:l.w.Green500,FAILURE:l.w.Red500,CANCELING:l.w.Red500,CANCELED:l.w.Red500,SCHEDULED:l.w.Blue200},g=p.memo((function(e){var n=e.runId,t=(0,s.Z)(e,x);return(0,m.jsx)(u.J,{position:"bottom",interactionKind:"hover",content:(0,m.jsx)(f.F,{runId:n}),hoverOpenDelay:100,children:(0,m.jsx)(y,(0,a.Z)({},t))})})),y=p.memo((function(e){var n=e.status,t=e.size;return"STARTED"===n?(0,m.jsx)(d.$,{purpose:"caption-text"}):"SCHEDULED"===n?(0,m.jsx)(b,{status:n,size:t||12}):(0,m.jsx)(b,{status:n,size:t||12,pulse:h.Ys.has(n)||h.sy.has(n)})})),w=(0,c.F4)(r||(r=(0,o.Z)(["\n  0% {\n    filter: brightness(1);\n  }\n\n  50% {\n    filter: brightness(0.7);\n  }\n\n  100% {\n    filter: brightness(1);\n  }\n"]))),b=c.ZP.div.withConfig({displayName:"RunStatusDots__RunStatusDot",componentId:"m2w7pp-0"})(["width:","px;height:","px;border-radius:","px;transition:filter 200ms linear;"," background:",";&:hover{animation:none;filter:brightness(0.7);}"],(function(e){return e.size}),(function(e){return e.size}),(function(e){return e.size/2}),(function(e){return e.pulse?(0,c.iv)(i||(i=(0,o.Z)(["\n          animation: "," 2s infinite;\n        "])),w):null}),(function(e){var n=e.status;return v[n]}))},38568:function(e,n,t){t.d(n,{A:function(){return S}});var r=t(85358),i=t(19065),o=t(16798),a=t(95764),s=t(95550),c=t.n(s),l=t(49148),u=t(33918),d=t(6466),p=t(50346),f=t(32030),h=t(23730),m=t(7838),x=t(75453),v=t(12745),g=t(8358),y=t(325),w=t(69305),b=t(60057),j=t(55752),k=t(32289),C=function(e){if("TerminateRunSuccess"===(null===e||void 0===e?void 0:e.terminatePipelineExecution.__typename))throw new ErrorEvent("Not an error!");return null===e||void 0===e?void 0:e.terminatePipelineExecution},E=function(e){return{mustForce:!Object.keys(e).some((function(n){return e[n]})),frozenRuns:e,step:"initial",termination:{completed:0,errors:{}}}},N=function(e,n){switch(n.type){case"reset":return E(n.frozenRuns);case"toggle-force-terminate":return(0,a.Z)((0,a.Z)({},e),{},{mustForce:n.checked});case"start":return(0,a.Z)((0,a.Z)({},e),{},{step:"terminating"});case"termination-success":var t=e.termination;return(0,a.Z)((0,a.Z)({},e),{},{step:"terminating",termination:(0,a.Z)((0,a.Z)({},t),{},{completed:t.completed+1})});case"termination-error":var r=e.termination;return(0,a.Z)((0,a.Z)({},e),{},{step:"terminating",termination:(0,a.Z)((0,a.Z)({},r),{},{completed:r.completed+1,errors:(0,a.Z)((0,a.Z)({},r.errors),{},(0,o.Z)({},n.id,n.error))})});case"complete":return(0,a.Z)((0,a.Z)({},e),{},{step:"completed"})}},S=function(e){var n=e.isOpen,t=e.onClose,o=e.onComplete,a=e.selectedRuns,s=y.useRef(a),S=y.useReducer(N,s.current,E),_=(0,i.Z)(S,2),I=_[0],Z=_[1],R=Object.keys(I.frozenRuns).length;y.useEffect((function(){n&&Z({type:"reset",frozenRuns:s.current})}),[n]),y.useEffect((function(){n||(s.current=a)}),[n,a]);var T=(0,l.D)(j.zU),L=(0,i.Z)(T,1)[0],P=I.mustForce?w.vl.MARK_AS_CANCELED_IMMEDIATELY:w.vl.SAFE_TERMINATE,G=function(){var e=(0,r.Z)(c().mark((function e(){var n,t,r,i,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Z({type:"start"}),n=Object.keys(I.frozenRuns),t=0;case 3:if(!(t<n.length)){e.next=13;break}return r=n[t],e.next=7,L({variables:{runId:r,terminatePolicy:P}});case 7:i=e.sent,"TerminateRunSuccess"===(null===(a=i.data)||void 0===a?void 0:a.terminatePipelineExecution.__typename)?Z({type:"termination-success"}):Z({type:"termination-error",id:r,error:C(a)});case 10:t++,e.next=3;break;case 13:Z({type:"complete"}),o(I.termination);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(e){Z({type:"toggle-force-terminate",checked:e.target.checked})},D=Object.keys(I.frozenRuns).some((function(e){return I.frozenRuns[e]})),z="terminating"!==I.step;return(0,k.jsxs)(g.Vq,{isOpen:n,title:"Terminate runs",canEscapeKeyClose:z,canOutsideClickClose:z,onClose:t,children:[(0,k.jsx)(g.a7,{children:(0,k.jsxs)(d.Z,{direction:"column",spacing:24,children:[function(){switch(I.step){case"initial":return R?(0,k.jsxs)(d.Z,{direction:"column",spacing:16,children:[(0,k.jsx)("div",{children:"".concat(R," ").concat(1===R?"run":"runs"," will be terminated. Do you wish to continue?")}),(0,k.jsx)("div",{children:D?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(p.X,{checked:I.mustForce,size:"small",label:"Force termination immediately",onChange:M}),I.mustForce?(0,k.jsxs)(f.x,{flex:{display:"flex",direction:"row",gap:8},margin:{top:8},children:[(0,k.jsx)(h.JO,{name:"warning",color:m.w.Yellow500}),(0,k.jsxs)("div",{children:[(0,k.jsx)("strong",{children:"Warning:"})," computational resources created by runs may not be cleaned up."]})]}):null]}):(0,k.jsxs)(d.Z,{direction:"row",spacing:8,children:[(0,k.jsx)(h.JO,{name:"warning",color:m.w.Yellow500}),(0,k.jsxs)("div",{children:[(0,k.jsx)("strong",{children:"Warning:"})," computational resources created by runs may not be cleaned up."]})]})})]}):(0,k.jsxs)(d.Z,{direction:"column",spacing:16,children:[(0,k.jsx)("div",{children:"No runs selected for termination."}),(0,k.jsx)("div",{children:"The runs you selected may already have finished executing."})]});case"terminating":case"completed":var e=R>0?I.termination.completed/R:1;return(0,k.jsxs)(d.Z,{direction:"column",spacing:8,children:[(0,k.jsx)("div",{children:I.mustForce?"Forcing termination\u2026":"Terminating\u2026"}),(0,k.jsx)(u.ko,{intent:"primary",value:Math.max(.1,e),animate:e<1}),"terminating"===I.step?(0,k.jsx)(b.c,{message:"Termination in progress, please do not navigate away yet."}):null]});default:return null}}(),function(){if("initial"===I.step)return null;if("terminating"===I.step)return(0,k.jsx)("div",{children:"Please do not close the window or navigate away during termination."});var e=I.termination.errors,n=Object.keys(e).length,t=I.termination.completed-n;return(0,k.jsxs)(d.Z,{direction:"column",spacing:8,children:[t?(0,k.jsxs)(d.Z,{direction:"row",spacing:8,alignItems:"flex-start",children:[(0,k.jsx)(h.JO,{name:"check_circle",color:m.w.Green500}),(0,k.jsx)("div",{children:I.mustForce?"Successfully forced termination for ".concat(t,"\n                ").concat(1===t?"run":"runs","."):"Successfully requested termination for ".concat(t,"\n              ").concat(1===t?"run":"runs",".")})]}):null,n?(0,k.jsxs)(d.Z,{direction:"column",spacing:8,children:[(0,k.jsxs)(d.Z,{direction:"row",spacing:8,alignItems:"flex-start",children:[(0,k.jsx)(h.JO,{name:"warning",color:m.w.Yellow500}),(0,k.jsx)("div",{children:I.mustForce?"Could not force termination for ".concat(n," ").concat(1===n?"run":"runs",":"):"Could not request termination for ".concat(n," ").concat(1===n?"run":"runs",":")})]}),(0,k.jsx)("ul",{children:Object.keys(e).map((function(n){var t;return(0,k.jsx)("li",{children:(0,k.jsxs)(d.Z,{direction:"row",spacing:8,children:[(0,k.jsx)(v.fv,{children:n.slice(0,8)}),e[n]?(0,k.jsx)("div",{children:null===(t=e[n])||void 0===t?void 0:t.message}):null]})},n)}))})]}):null]})}()]})}),(0,k.jsx)(g.cN,{children:function(){switch(I.step){case"initial":return R?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(x.zx,{intent:"none",onClick:t,children:"Cancel"}),(0,k.jsx)(x.zx,{intent:"danger",onClick:G,children:"".concat(I.mustForce?"Force termination for":"Terminate"," ","".concat(R," ").concat(1===R?"run":"runs"))})]}):(0,k.jsx)(x.zx,{intent:"none",onClick:t,children:"OK"});case"terminating":return(0,k.jsx)(x.zx,{intent:"danger",disabled:!0,children:I.mustForce?"Forcing termination for ".concat("".concat(R," ").concat(1===R?"run":"runs","...")):"Terminating ".concat("".concat(R," ").concat(1===R?"run":"runs","..."))});case"completed":return(0,k.jsx)(x.zx,{intent:"primary",onClick:t,children:"Done"})}}()})]})}},65164:function(e,n,t){t.d(n,{j:function(){return _}});var r=t(95764),i=t(19065),o=t(47427),a=t(922),s=t(7838),c=t(23730),l=t(32030),u=t(762),d=t(8412),p=t(88863),f=t(50346),h=t(11831),m=t(75453),x=t(90428),v=t.n(x),g=t(58891),y=t.n(g),w=t(325),b=t(74549),j=t(25496),k=t(92334),C=t(25582),E=t(32289),N=function(e,n){var t=n.length%3,r=e;if(0===n.length)return r;var i=n.map((function(e){return{incount:e.inputs.reduce((function(e,n){return e+n.dependsOn.length}),0),outcount:e.outputs.reduce((function(e,n){return e+n.dependedBy.length}),0),name:e.name}}));if(0===t){var o=i.sort((function(e,n){return n.outcount-e.outcount}))[0];r="".concat(r," (ex: ").concat(o.name,"+*)")}else if(1===t){var a=i.sort((function(e,n){return n.outcount-e.outcount}))[0];r="".concat(r," (ex: ").concat(a.name,"+)")}else if(2===t){var s=i.sort((function(e,n){return n.incount-e.incount}))[0];r="".concat(r," (ex: ++").concat(s.name,")")}return r},S=function(e){switch(e){case"danger":return s.w.Red500;case"success":return s.w.Green500;case"warning":return s.w.Yellow500;default:return s.w.Gray300}},_=w.memo(w.forwardRef((function(e,n){var t,a=w.useState(null),x=(0,i.Z)(a,2),v=x[0],g=x[1],_=w.useState(!1),T=(0,i.Z)(_,2),L=T[0],P=T[1],G=w.useState(e.value),M=(0,i.Z)(G,2),D=M[0],z=M[1],A=w.useRef(null),O=e.flattenGraphsEnabled||!1;w.useEffect((function(){z(e.value)}),[e.value]);var F=/(\*?\+*)([\w\d\[\]>_\/-]+)(\+*\*?)$/.exec(D),U=F||[],W=(0,i.Z)(U,4),K=W[1],X=W[2],V=W[3],H=w.useMemo((function(){return function(e,n,t){var r,i=n.map((function(e){var n=e,t=n.definition&&"CompositeSolidDefinition"===n.definition.__typename;return{name:e.name,isGraph:t}})),a=(0,o.Z)(i);try{for(a.s();!(r=a.n()).done;){var s=r.value;(0,k.IL)(s.name)&&i.push({name:(0,k.pr)(s.name),isGraph:s.isGraph})}}catch(u){a.e(u)}finally{a.f()}var c=null===e||void 0===e?void 0:e.toLowerCase(),l=c&&!t?y()(i).sort().filter((function(e){return e.name.toLowerCase().startsWith(c)})):[];return 1===l.length&&l[0].name.toLowerCase()===c?[]:l}(X,e.items,V)}),[X,e.items,V]),Y=function(e){var n=F?D.substr(0,F.index):"";z(n+K+'"'.concat(e,'"')+V)};w.useEffect((function(){if(v){var e=H.map((function(e){return e.name})).findIndex((function(e){return e===v.text})),n=-1!==e?e:v.idx;if(n=Math.max(0,Math.min(H.length-1,n)),H[n]){var t=H[n].name;n===v.idx&&t===v.text||g({text:t,idx:n})}}}),[v,H]),w.useImperativeHandle(n,(function(){return{focus:function(){A.current&&A.current.focus()}}}));var B=w.useRef(null);w.useEffect((function(){var e=function(e){var n=B.current,t=A.current,r=e.target;if(O&&null!=n&&null!=t&&r instanceof Node){var i=n.contains(r);P(i),t.contains(r)&&t.focus()}};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[O]);var J=(D||"*")!==(e.value||"*"),q=e.flattenGraphs?"!":"",$=e.linkToPreview&&(0,E.jsxs)(Z,{$hasWrap:O,children:["".concat((0,j.V)(e.items,D).all.length," matching ops"),(0,E.jsxs)(b.rU,{target:"_blank",style:{display:"flex",alignItems:"center",gap:4},onMouseDown:function(e){return e.currentTarget.click()},to:(0,C.jT)((0,r.Z)((0,r.Z)({},e.linkToPreview),{},{pipelineName:"".concat(e.linkToPreview.pipelineName,"~").concat(q).concat(D)})),children:["Graph Preview ",(0,E.jsx)(c.JO,{color:s.w.Link,name:"open_in_new"})]})]});return(0,E.jsxs)(l.x,{flex:{direction:"row",alignItems:"center",gap:8},children:[(0,E.jsx)(u.J,{enforceFocus:!O,isOpen:L,position:e.popoverPosition||"top-left",content:H.length?(0,E.jsx)(d.v2,{style:{width:e.width||"24vw"},children:H.slice(0,15).map((function(e){return(0,E.jsx)(d.sN,{icon:e.isGraph?"job":"op",text:e.name,active:!!v&&v.text===e.name,onMouseDown:function(n){n.preventDefault(),n.stopPropagation(),Y(e.name)}},e.name)}))}):(0,E.jsx)("div",{}),children:(0,E.jsxs)("div",{style:{position:"relative"},ref:B,children:[(0,E.jsx)(p.oi,{disabled:e.disabled,value:D,icon:"op_selector",strokeColor:S(e.intent),autoFocus:e.autoFocus,placeholder:N(e.placeholder,e.items),onChange:function(n){z(n.target.value),e.autoApplyChanges&&e.onChange(n.target.value)},onFocus:function(){var n;O||P(!0),null===(n=e.onFocus)||void 0===n||n.call(e)},onBlur:function(){var n;O||P(!1),e.onChange(D),null===(n=e.onBlur)||void 0===n||n.call(e,D)},onKeyDown:function(n){var t;"Enter"!==n.key&&"Return"!==n.key&&"Tab"!==n.key||(v&&v.text?(Y(v.text),n.preventDefault(),n.stopPropagation()):n.currentTarget.blur(),g(null));var r={ArrowDown:1,ArrowUp:-1}[n.key];if(r&&H.length>0){n.preventDefault();var i=(v?v.idx:-1)+r;i=Math.max(0,Math.min(i,H.length-1)),g({text:H[i].name,idx:i})}null===(t=e.onKeyDown)||void 0===t||t.call(e,n)},style:{width:e.width||"24vw",paddingRight:L&&J?55:""},className:e.className,ref:A}),L&&J&&(0,E.jsx)(R,{children:"Enter"}),L&&e.linkToPreview&&(O?(0,E.jsxs)(I,{children:[(0,E.jsxs)(l.x,{flex:{direction:"row",alignItems:"center",gap:8},children:[(0,E.jsx)(f.X,{label:"Flatten subgraphs",checked:null!==(t=e.flattenGraphs)&&void 0!==t&&t,onChange:function(){var n;null===(n=e.setFlattenGraphs)||void 0===n||n.call(e)},format:"switch"}),(0,E.jsx)(h.u,{content:"Flatten subgraphs to select ops within nested graphs",placement:"right",children:(0,E.jsx)(c.JO,{name:"info",color:s.w.Gray500})})]}),$]}):$)]})}),e.presets&&(e.presets.find((function(e){return e.value===D}))?(0,E.jsx)(m.zx,{icon:(0,E.jsx)(c.JO,{name:"layers"}),rightIcon:(0,E.jsx)(c.JO,{name:"cancel"}),onClick:function(){return e.onChange("*")},intent:"none"}):(0,E.jsx)(u.J,{position:"top",content:(0,E.jsx)(d.v2,{children:e.presets.map((function(n){return(0,E.jsx)(d.sN,{text:n.name,onMouseDown:function(t){t.preventDefault(),t.stopPropagation(),e.onChange(n.value)}},n.name)}))}),children:(0,E.jsx)(m.zx,{icon:(0,E.jsx)(c.JO,{name:"layers"}),rightIcon:(0,E.jsx)(c.JO,{name:"expand_less"}),intent:"none"})}))]})})),(function(e,n){return e.items===n.items&&e.width===n.width&&e.value===n.value&&v()(e.presets,n.presets)})),I=a.ZP.div.withConfig({displayName:"GraphQueryInput__OpInfoWrap",componentId:"sc-103wxn4-0"})(["width:350px;padding:10px 16px 10px 16px;display:flex;align-items:baseline;justify-content:space-between;position:absolute;top:100%;margin-top:2px;font-size:0.85rem;background:",";color:",";box-shadow:1px 1px 3px rgba(0,0,0,0.2);z-index:2;left:0;"],s.w.White,s.w.Gray600),Z=(0,a.ZP)(I).withConfig({displayName:"GraphQueryInput__OpCountWrap",componentId:"sc-103wxn4-1"})(["margin-top:","px;"],(function(e){return e.$hasWrap?0:2})),R=a.ZP.div.withConfig({displayName:"GraphQueryInput__EnterHint",componentId:"sc-103wxn4-2"})(["position:absolute;right:6px;top:5px;border-radius:5px;border:1px solid ",";background:",";font-weight:500;font-size:12px;color:",";padding:2px 6px;"],s.w.Gray500,s.w.White,s.w.Gray500)},39956:function(e,n,t){t.d(n,{_:function(){return a}});var r=t(325),i=t(76336),o=t(48953),a=function(e){var n=(0,i.vl)().options,t=r.useMemo((function(){if(!e)return null;var t=e.pipelineName,r=e.repositoryOrigin;if(!r)return null;var i=null===r||void 0===r?void 0:r.repositoryLocationName,a=null===r||void 0===r?void 0:r.repositoryName,s=n.find((function(e){return e.repository.name===a&&e.repositoryLocation.name===i}));return s&&(0,o.h)(s,t)?s:null}),[n,e]),a=r.useMemo((function(){var t;if(!e)return null;var r=e.pipelineName,i=null!==(t=e.parentPipelineSnapshotId)&&void 0!==t?t:e.pipelineSnapshotId;if(r&&i){var a=(0,o.k)(n,r,i);if(a.length)return a}return null}),[n,e]),s=r.useMemo((function(){if(!e)return null;var t=e.pipelineName,r=(0,o.k)(n,t);return r.length?r:null}),[n,e]);if(t){if(a){var c=a.find((function(e){return e.repository.name===t.repository.name&&e.repositoryLocation.name===t.repositoryLocation.name}));if(c)return{match:c,type:"origin-and-snapshot"}}return{match:t,type:"origin-only"}}return a?{match:a[0],type:"snapshot-only"}:s?{match:s[0],type:"pipeline-name-only"}:null}},87011:function(e,n,t){t.d(n,{h:function(){return l}});t(325);var r=t(67831),i=t(75453),o=t(7838),a=t(23730),s=t(11831),c=t(32289),l=function(e){var n=e.activeItems,t=e.buttons,l=e.onClick;return(0,c.jsx)(i.zH,{children:t.map((function(e){var t=e.id,i=e.icon,u=e.label,d=e.tooltip,p=null===n||void 0===n?void 0:n.has(t),f=(0,c.jsx)(r.Y,{fillColor:p?o.w.Gray200:o.w.White,textColor:p?o.w.Gray900:o.w.Gray700,icon:i?(0,c.jsx)(a.JO,{name:i,color:p?o.w.Gray900:o.w.Gray700}):null,label:u,onClick:function(e){return l(t,e)}},t);return d?(0,c.jsx)(s.u,{content:d,position:"top",children:f},t):f}))})}},47387:function(e,n,t){t.d(n,{b$:function(){return s},pI:function(){return c},Rp:function(){return l}});var r=t(922),i=(t(325),t(75453)),o=t(23730),a=t(32289),s=function(e){var n=e.hasPrevCursor,t=e.hasNextCursor,r=e.popCursor,s=e.advanceCursor;return(0,a.jsxs)(l,{children:[(0,a.jsx)(i.zx,{disabled:!n,icon:(0,a.jsx)(o.JO,{name:"arrow_back"}),onClick:r,children:"Previous"}),(0,a.jsx)(i.zx,{disabled:!t,rightIcon:(0,a.jsx)(o.JO,{name:"arrow_forward"}),onClick:s,children:"Next"})]})},c=function(e){var n=e.hasPrevCursor,t=e.hasNextCursor,r=e.popCursor,s=e.advanceCursor;return(0,a.jsxs)(l,{children:[(0,a.jsx)(i.zx,{icon:(0,a.jsx)(o.JO,{name:"arrow_back"}),disabled:!n,onClick:r,children:(0,a.jsx)("span",{className:"hideable-button-text",children:"Newer"})}),(0,a.jsx)(i.zx,{rightIcon:(0,a.jsx)(o.JO,{name:"arrow_forward"}),disabled:!t,onClick:s,children:(0,a.jsx)("span",{className:"hideable-button-text",children:"Older"})})]})},l=r.ZP.div.withConfig({displayName:"CursorControls__CursorControlsContainer",componentId:"sc-1r53tbu-0"})(["display:flex;justify-content:center;align-items:center;gap:12px;margin-top:16px;"])},42413:function(e,n,t){t.d(n,{iR:function(){return p},kp:function(){return f}});var r,i=t(99500),o=t(95764),a=t(81034),s=t(922),c=t(33918),l=(t(325),t(7838)),u=t(32289),d=["fillColor"],p=function(e){var n=e.fillColor,t=void 0===n?l.w.Gray600:n,r=(0,a.Z)(e,d);return(0,u.jsx)(h,(0,o.Z)((0,o.Z)({},r),{},{intent:"none",$fillColor:t}))};c.Zz.Handle;var f=(0,s.iv)(r||(r=(0,i.Z)(["\n  .bp3-slider-track {\n    height: 8px;\n    .bp3-slider-progress {\n      background-color: ",";\n      opacity: 0.2;\n      height: 8px;\n    }\n    .bp3-slider-progress.bp3-intent-primary {\n      background-color: ",";\n      opacity: 1;\n      height: 8px;\n    }\n  }\n  &.bp3-vertical .bp3-slider-track,\n  &.bp3-vertical .bp3-slider-track .bp3-slider-progress {\n    height: initial;\n    width: 8px;\n  }\n  .bp3-slider-handle {\n    width: 18px;\n    height: 18px;\n    border-radius: 50%;\n    border: 2px solid ",";\n    background: ",";\n    box-shadow: none;\n    &:hover {\n      border: 2px solid ",";\n      box-shadow: rgba(0, 0, 0, 0.12) 0px 2px 12px 0px;\n    }\n\n    .bp3-slider-label {\n      background: ",";\n      box-shadow: 0 1px 4px rgba(0,0,0,0.15)\n      padding: 4px 8px;\n    }\n  }\n"])),(function(e){return e.$fillColor}),(function(e){return e.$fillColor}),l.w.Gray300,l.w.White,l.w.Gray400,l.w.Gray900),h=((0,s.ZP)(c.Zz).withConfig({displayName:"Slider__StyledMultiSlider",componentId:"sc-1nudt3n-0"})(["",""],f),(0,s.ZP)(c.iR).withConfig({displayName:"Slider__StyledSlider",componentId:"sc-1nudt3n-1"})(["",""],f))},17912:function(e,n,t){t.d(n,{OS:function(){return m},jo:function(){return v},Uj:function(){return g}});var r=t(19065),i=t(57994),o=t(98907),a=t(64428),s=t(28463),c=t(922),l=t(325),u=t(75453),d=t(87011),p=t(7838),f=t(23730),h=t(32289),m=function(e){(0,a.Z)(t,e);var n=(0,s.Z)(t);function t(e){var r;(0,i.Z)(this,t),(r=n.call(this,e)).onChangeSize=function(e){r.setState({size:e}),window.localStorage.setItem(r.state.key,"".concat(e))};var o="dagit.panel-width.".concat(r.props.identifier),a=window.localStorage.getItem(o),s=Number(a);return(null===a||isNaN(s))&&(s=r.props.firstInitialPercent),r.state={size:s,key:o,resizing:!1},r}return(0,o.Z)(t,[{key:"render",value:function(){var e=this,n=this.props,t=n.firstMinSize,r=n.first,i=n.second,o=this.state,a=o.size,s=o.resizing,c=this.props.axis||"horizontal",l={flexShrink:0},u=i?a:100;return"horizontal"===c?(l.minWidth=t,l.width="calc(".concat(u,"% - ").concat(2,"px)")):(l.minHeight=t,l.height="calc(".concat(u,"% - ").concat(2,"px)")),(0,h.jsxs)(b,{axis:c,id:"split-panel-container",resizing:s,children:[(0,h.jsx)("div",{className:"split-panel",style:l,children:r}),(0,h.jsx)(x,{axis:c,resizing:s,onSetResizing:function(n){return e.setState({resizing:n})},onMove:this.onChangeSize}),(0,h.jsx)("div",{className:"split-panel",style:{flex:1},children:i})]})}}]),t}(l.Component),x=function(e){(0,a.Z)(t,e);var n=(0,s.Z)(t);function t(){var e;(0,i.Z)(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=n.call.apply(n,[this].concat(o))).ref=l.createRef(),e.onMouseDown=function(n){n.preventDefault(),e.props.onSetResizing(!0);var t=function(n){var t,r=null===(t=e.ref.current)||void 0===t?void 0:t.closest("#split-panel-container");if(r){var i=r.getBoundingClientRect(),o="horizontal"===e.props.axis?100*(n.clientX-i.left)/i.width:100*(n.clientY-i.top)/i.height;e.props.onMove(Math.min(100,Math.max(0,o)))}};document.addEventListener("mousemove",t),document.addEventListener("mouseup",(function n(){e.props.onSetResizing(!1),document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",n)}))},e}return(0,o.Z)(t,[{key:"render",value:function(){var e=y[this.props.axis],n=w[this.props.axis];return(0,h.jsx)(e,{resizing:this.props.resizing,ref:this.ref,children:(0,h.jsx)(n,{onMouseDown:this.onMouseDown})})}}]),t}(l.Component),v=function(e){var n=e.container,t=e.axis;return(0,h.jsx)(d.h,{buttons:[{id:"first-pane",icon:"vertical"===t?"panel_show_top":"panel_show_left",tooltip:"vertical"===t?"Show only top pane":"Show only left pane"},{id:"split",icon:"panel_show_both",tooltip:"Show both panes"},{id:"second-pane",icon:"vertical"===t?"panel_show_bottom":"panel_show_right",tooltip:"vertical"===t?"Show only bottom pane":"Show only right pane"}],onClick:function(e){var t,r=50;"first-pane"===e?r=100:"second-pane"===e&&(r=0),null===(t=n.current)||void 0===t||t.onChangeSize(r)}})},g=function(e){var n,t=e.container,i=e.axis,o=l.useState("unknown"),a=(0,r.Z)(o,2),s=a[0],c=a[1],d=((null===(n=t.current)||void 0===n?void 0:n.state.size)||0)<100,p=l.useState(d),m=(0,r.Z)(p,2),x=m[0],v=m[1];return l.useEffect((function(){return v(d)}),[d]),(0,h.jsx)(u.zx,{active:x,title:"Toggle second pane",icon:(0,h.jsx)(f.JO,{name:"horizontal"===i?x?"panel_hide_right":"panel_show_right":"panel_show_bottom"}),onClick:function(){if(t.current){var e=t.current.state.size;e<90?(c(e),v(!1),t.current.onChangeSize(100)):(v(!0),t.current.onChangeSize("unknown"===s?t.current.props.firstInitialPercent:s))}}})},y={horizontal:c.ZP.div.withConfig({displayName:"SplitPanelContainer__horizontal",componentId:"sc-1e9d8f9-0"})(["width:","px;z-index:1;background:",";margin-left:-1px;overflow:visible;position:relative;"],2,(function(e){return e.resizing?p.w.Gray400:p.w.KeylineGray})),vertical:c.ZP.div.withConfig({displayName:"SplitPanelContainer__vertical",componentId:"sc-1e9d8f9-1"})(["height:","px;z-index:1;background:",";margin-top:-1px;overflow:visible;position:relative;"],2,(function(e){return e.resizing?p.w.Gray400:p.w.KeylineGray}))},w={horizontal:c.ZP.div.withConfig({displayName:"SplitPanelContainer__horizontal",componentId:"sc-1e9d8f9-2"})(["width:17px;height:100%;z-index:1;cursor:ew-resize;position:relative;left:-8px;"]),vertical:c.ZP.div.withConfig({displayName:"SplitPanelContainer__vertical",componentId:"sc-1e9d8f9-3"})(["height:17px;width:100%;z-index:1;cursor:ns-resize;position:relative;top:-8px;"])},b=c.ZP.div.withConfig({displayName:"SplitPanelContainer__Container",componentId:"sc-1e9d8f9-4"})(["display:flex;overflow:hidden;flex-direction:",";flex:1 1;width:100%;min-width:0;min-height:0;.split-panel{position:relative;transition:"," 200ms ease-out;flex-direction:column;display:flex;min-",":0;z-index:0;}"],(function(e){return"vertical"===e.axis?"column":"row"}),(function(e){var n=e.axis;return e.resizing?"none":"horizontal"===n?"width":"height"}),(function(e){return"vertical"===e.axis?"height":"width"}))}}]);
//# sourceMappingURL=938.da6d6262.chunk.js.map