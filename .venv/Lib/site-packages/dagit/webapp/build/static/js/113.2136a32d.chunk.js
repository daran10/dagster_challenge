"use strict";(self.webpackChunk_dagster_io_dagit_app=self.webpackChunk_dagster_io_dagit_app||[]).push([[113],{86655:function(n,e,t){t.d(e,{R:function(){return u}});var r=t(59019),i=t(32030),o=t(23730),s=t(7838),a=t(14198),l=(t(325),t(74549)),c=t(77171),d=t(32289),u=function(n){var e=n.path,t=n.icon,u=n.url,h=n.isGroup,p=n.textStyle,x=void 0===p?"break-word":p,f=u||(0,c.p)({path:e}),m=e.reduce((function(n,e,t){return[].concat((0,r.Z)(n),[t>0?" / ":"",e])}),[]).join("")+(h?"/":"");return(0,d.jsxs)(i.x,{flex:{direction:"row",alignItems:"flex-start",display:"inline-flex"},style:{maxWidth:"100%"},children:[t?(0,d.jsx)(i.x,{margin:{right:8,top:2},children:(0,d.jsx)(o.JO,{name:t,color:s.w.Gray400})}):null,(0,d.jsx)(l.rU,{to:f,style:{overflow:"hidden"},children:"break-word"===x?(0,d.jsx)("span",{style:{wordBreak:"break-word"},children:m}):(0,d.jsx)(a.g,{text:m})})]})}},76450:function(n,e,t){t.d(e,{b:function(){return Cn},G:function(){return Nn}});var r,i,o,s,a=t(99500),l=t(85358),c=t(19065),d=t(95550),u=t.n(d),h=t(49148),p=t(3159),x=t(6466),f=t(55113),m=t(325),g=t(14156),j=t(13065),y=t(63579),v=t(79082),w=t(12436),b=t(8358),S=t(8546),k=t(32030),N=t(75453),C=t(32289),I=function(n){var e=n.backfill,t=n.onClose;return(0,C.jsxs)(b.Vq,{isOpen:!!e,title:(0,C.jsxs)("span",{children:["Partitions requested for backfill:"," ",(0,C.jsx)("span",{style:{fontSize:"18px",fontFamily:S.b.monospace},children:null===e||void 0===e?void 0:e.backfillId})]}),onClose:t,children:[(0,C.jsx)(b.a7,{children:e?(0,C.jsx)(k.x,{flex:{direction:"column",gap:8},style:{maxHeight:"80vh",overflowY:"auto"},children:e.partitionNames.map((function(n){return(0,C.jsx)("div",{children:n},n)}))}):null}),(0,C.jsx)(b.cN,{topBorder:!0,children:(0,C.jsx)(N.zx,{onClick:t,children:"Done"})})]})},R=t(922),E=t(65880),P=t(12745),T=t(762),_=t(8412),Z=t(23730),O=t(7838),U=t(54268),L=t(18612),G=t.n(L),F=t(74549),D=t(27601),A=t(19102),z=t(39061),q=t(69305),B=t(54920),$=t(62e3),M=t(4998),K=t(34653),J=t(52453),V=t(45302),H=t(68156),W=t(16279),Y=t(76336),Q=t(37099),X=t(33902),nn=t(25582),en=function(n){var e=n.backfill,t=n.allPartitions,r=n.showBackfillTarget,i=n.onTerminateBackfill,o=n.onResumeBackfill,s=n.onShowStepStatus,a=n.onShowPartitionsRequested,l=(0,E.t)(un,{variables:{backfillId:e.backfillId},notifyOnNetworkStatusChange:!0}),d=(0,E.t)(dn,{variables:{backfillId:e.backfillId},notifyOnNetworkStatusChange:!0}),u=e.numPartitions>rn?d:l,h=(0,c.Z)(u,2),p=h[0],x=h[1];(0,W.v5)(p),(0,A.C4)(x,A.dT);var f=x.data,g=m.useMemo((function(){if("PartitionBackfill"!==(null===f||void 0===f?void 0:f.partitionBackfillOrError.__typename))return{counts:null,statuses:null};if("partitionStatusCounts"in f.partitionBackfillOrError)return{counts:Object.fromEntries(f.partitionBackfillOrError.partitionStatusCounts.map((function(n){return[n.runStatus,n.count]}))),statuses:null};var n=f.partitionBackfillOrError.partitionStatuses.results;return{counts:G()(n,(function(n){return n.runStatus})),statuses:n}}),[f]),j=g.counts,y=g.statuses,v=(0,V.it)([{token:"tag",value:"dagster/backfill=".concat(e.backfillId)}]);return(0,C.jsxs)("tr",{children:[(0,C.jsx)("td",{style:{width:120},children:(0,C.jsx)(P.fv,{style:{fontSize:"16px",lineHeight:"18px"},children:(0,C.jsx)(F.rU,{to:v,children:e.backfillId})})}),(0,C.jsx)("td",{style:{width:220},children:e.timestamp?(0,C.jsx)(H.v,{timestamp:e.timestamp}):"-"}),r?(0,C.jsx)("td",{style:{width:"20%"},children:(0,C.jsx)(sn,{backfill:e})}):null,(0,C.jsx)("td",{style:{width:t?300:140},children:(0,C.jsx)(an,{backfill:e,allPartitions:t,onExpand:function(){return a(e)}})}),(0,C.jsx)("td",{style:{width:140},children:j?(0,C.jsx)(ln,{backfill:e,counts:j}):(0,C.jsx)(W.mq,{queryResult:x})}),(0,C.jsx)("td",{children:j?(0,C.jsx)(on,{backfill:e,counts:j,statuses:y}):(0,C.jsx)(W.mq,{queryResult:x})}),(0,C.jsx)("td",{children:(0,C.jsx)(tn,{backfill:e,onResumeBackfill:o,onTerminateBackfill:i,onShowStepStatus:s,canCancelRuns:!!j&&(j[q.VO.QUEUED]>0||j[q.VO.STARTED]>0)})})]})},tn=function(n){var e=n.backfill,t=n.canCancelRuns,r=n.onTerminateBackfill,i=n.onResumeBackfill,o=n.onShowStepStatus,s=(0,D.k6)(),a=(0,y._5)(),l=a.canCancelPartitionBackfill,c=a.canLaunchPartitionBackfill,d=(0,V.it)([{token:"tag",value:"dagster/backfill=".concat(e.backfillId)}]);return(0,C.jsx)(T.J,{content:(0,C.jsxs)(_.v2,{children:[l.enabled?(0,C.jsxs)(C.Fragment,{children:[e.numCancelable>0?(0,C.jsx)(_.sN,{text:"Cancel backfill submission",icon:"cancel",intent:"danger",onClick:function(){return r(e)}}):null,t?(0,C.jsx)(_.sN,{text:"Terminate unfinished runs",icon:"cancel",intent:"danger",onClick:function(){return r(e)}}):null]}):null,c.enabled&&e.status===q.Jv.FAILED&&e.partitionSet?(0,C.jsx)(_.sN,{text:"Resume failed backfill",title:"Submits runs for all partitions in the backfill that do not have a corresponding run. Does not retry failed runs.",icon:"refresh",onClick:function(){return i(e)}}):null,(0,C.jsx)(_.sN,{text:"View backfill runs",icon:"settings_backup_restore",onClick:function(){return s.push(d)}}),(0,C.jsx)(_.sN,{text:"View step status",icon:"view_list",onClick:function(){o(e)}})]}),position:"bottom-right",children:(0,C.jsx)(N.zx,{icon:(0,C.jsx)(Z.JO,{name:"expand_more"})})})},rn=1e3,on=function(n){var e=n.backfill,t=n.statuses,r=n.counts,i=(0,D.k6)(),o=Object.entries(r).reduce((function(n,e){var t=(0,c.Z)(e,2),r=t[0],i=t[1],o=(0,B.C3)(r);return n[o]=(n[o]||0)+i,n}),{});return t?(0,C.jsx)(B.bq,{partitionNames:e.partitionNames,partitionStateForKey:function(n,e){return(0,B.C3)(t.filter((function(e){return e.partitionName===n}))[0].runStatus)},splitPartitions:!0,onClick:function(n){var e=t.find((function(e){return e.partitionName===n}));null!==e&&void 0!==e&&e.runId&&i.push("/runs/".concat(e.runId))}}):(0,C.jsx)(J.Y,{succeededCount:o[B.AB.SUCCESS],inProgressCount:o[B.AB.STARTED],failedCount:o[B.AB.FAILURE]})},sn=function(n){var e=n.backfill,t=e.assetSelection,r=e.partitionSet,i=e.partitionSetName,o=r?(0,Q.kQ)(r.repositoryOrigin.repositoryName,r.repositoryOrigin.repositoryLocationName):null,s=(0,Y.Ux)(o),a=(0,z.pv)(i||"");return(0,C.jsxs)(k.x,{flex:{direction:"column",gap:8},children:[a?null:r&&s?(0,C.jsx)(F.rU,{style:{fontWeight:500},to:(0,nn.jT)({repoName:r.repositoryOrigin.repositoryName,repoLocation:r.repositoryOrigin.repositoryLocationName,pipelineName:r.pipelineName,isJob:(0,Y.E8)(s,r.pipelineName),path:"/partitions?partitionSet=".concat(encodeURIComponent(r.name))}),children:r.name}):(0,C.jsx)("span",{style:{fontWeight:500},children:i}),(0,C.jsxs)(k.x,{flex:{direction:"column",gap:4},style:{fontSize:"12px"},children:[o?(0,C.jsxs)(k.x,{flex:{direction:"row",gap:8,alignItems:"center"},style:{fontSize:"12px"},children:[(0,C.jsx)(Z.JO,{name:"repo",color:O.w.Gray400}),(0,C.jsx)(F.rU,{to:(0,nn.$U)(o),children:(0,X.Uz)(o)})]}):void 0,null!==t&&void 0!==t&&t.length?(0,C.jsx)(M.m,{assetKeys:t,modalTitle:"Assets in backfill"}):r&&s?(0,C.jsx)($.h,{showIcon:!0,size:"small",pipelineName:r.pipelineName,pipelineHrefContext:{name:r.repositoryOrigin.repositoryName,location:r.repositoryOrigin.repositoryLocationName},isJob:(0,Y.E8)(s,r.pipelineName)}):null]})]})},an=function(n){var e=n.allPartitions,t=n.backfill,r=n.onExpand;return(0,C.jsxs)(k.x,{flex:{direction:"column",gap:8},children:[(0,C.jsx)("div",{children:(0,C.jsx)(cn,{onClick:r,children:(0,C.jsxs)(U.V,{intent:"primary",interactive:!0,children:[t.partitionNames.length.toLocaleString()," partitions"]})})}),e&&(0,C.jsx)(B.bq,{small:!0,hideStatusTooltip:!0,partitionNames:e,partitionStateForKey:function(n){return t.partitionNames.includes(n)?B.AB.QUEUED:B.AB.MISSING}})]})},ln=function(n){var e=n.backfill,t=n.counts;switch(e.status){case q.Jv.REQUESTED:return(0,C.jsx)(U.V,{children:"Requested"});case q.Jv.CANCELED:case q.Jv.FAILED:return(0,C.jsx)(k.x,{margin:{bottom:12},children:(0,C.jsx)(cn,{onClick:function(){return e.error&&(0,g._)({title:"Error",body:(0,C.jsx)(w.T9,{error:e.error})})},children:(0,C.jsx)(U.V,{intent:"danger",children:"FAILED"===e.status?"Failed":"Canceled"})})});case q.Jv.COMPLETED:return t[q.VO.SUCCESS]===e.partitionNames.length?(0,C.jsx)(U.V,{intent:"success",children:"Completed"}):Array.from(K.Ys).some((function(n){return t[n]}))?(0,C.jsx)(U.V,{intent:"primary",children:"In progress"}):(0,C.jsx)(U.V,{intent:"warning",children:"Incomplete"})}},cn=R.ZP.button.withConfig({displayName:"BackfillRow__TagButton",componentId:"rau032-0"})(["border:none;background:none;cursor:pointer;padding:0;margin:0;:focus{outline:none;}"]),dn=(0,p.Ps)(r||(r=(0,a.Z)(["\n  query SingleBackfillCountsQuery($backfillId: String!) {\n    partitionBackfillOrError(backfillId: $backfillId) {\n      ... on PartitionBackfill {\n        backfillId\n        partitionStatusCounts {\n          runStatus\n          count\n        }\n      }\n    }\n  }\n"]))),un=(0,p.Ps)(i||(i=(0,a.Z)(["\n  query SingleBackfillQuery($backfillId: String!) {\n    partitionBackfillOrError(backfillId: $backfillId) {\n      ... on PartitionBackfill {\n        backfillId\n        partitionStatuses {\n          ...PartitionStatusesForBackfill\n        }\n      }\n    }\n  }\n\n  fragment PartitionStatusesForBackfill on PartitionStatuses {\n    results {\n      id\n      partitionName\n      runId\n      runStatus\n    }\n  }\n"]))),hn=t(51012),pn=t(73974),xn=t(28064),fn=t(26306),mn=function(n){var e=n.backfill,t=n.onClose;return(0,C.jsxs)(b.Vq,{isOpen:!(null===e||void 0===e||!e.partitionSet),title:"Step status for backfill: ".concat(null===e||void 0===e?void 0:e.backfillId),onClose:t,style:{width:"80vw"},children:[function(){if(null===e||void 0===e||!e.partitionSet)return null;var n=(0,Q.kQ)(e.partitionSet.repositoryOrigin.repositoryName,e.partitionSet.repositoryOrigin.repositoryLocationName);return(0,C.jsx)(gn,{backfill:e,partitionSet:e.partitionSet,repoAddress:n,onClose:t})}(),(0,C.jsx)(b.cN,{topBorder:!0,children:(0,C.jsx)(N.zx,{onClick:t,children:"Done"})})]})},gn=function(n){var e=n.backfill,t=n.partitionSet,r=n.repoAddress,i=m.useState(60),o=(0,c.Z)(i,2),s=o[0],a=o[1],l=m.useState(0),d=(0,c.Z)(l,2),u=d[0],h=d[1],p=m.useMemo((function(){return[{token:"tag",value:"dagster/backfill=".concat(e.backfillId)}]}),[e.backfillId]),x=(0,pn.T)({partitionSetName:t.name,partitionTagName:xn.H.Partition,partitionNames:e.partitionNames,pageSize:s,runsFilter:p,repositorySelector:(0,fn.$)(r),jobName:t.pipelineName,offset:u,skipQuery:!e});return(0,C.jsx)(hn.ux,{partitionNames:e.partitionNames,partitions:x,pipelineName:null===t||void 0===t?void 0:t.pipelineName,repoAddress:r,setPageSize:a,offset:u,setOffset:h})},jn=t(16798),yn=t(95764),vn=t(73701),wn=t(38568),bn=function(n){var e=n.backfill,t=n.onClose,r=n.onComplete,i=(0,h.D)(Sn),o=(0,c.Z)(i,1)[0],s=(0,vn.a)(un,{variables:{backfillId:(null===e||void 0===e?void 0:e.backfillId)||""},notifyOnNetworkStatusChange:!0,skip:!e}).data,a=m.useState(!1),d=(0,c.Z)(a,2),p=d[0],x=d[1],f=m.useMemo((function(){return e&&s&&"PartitionBackfill"===s.partitionBackfillOrError.__typename&&s.partitionBackfillOrError.partitionStatuses.results.filter((function(n){return n.runStatus&&n.runId&&K.oV.has(n.runStatus)})).reduce((function(n,e){return e&&e.runId?(0,yn.Z)((0,yn.Z)({},n),{},(0,jn.Z)({},e.runId,!0)):n}),{})||{}}),[e,s]);if(!e||!s)return null;var g=e.numCancelable,j=function(){var n=(0,l.Z)(u().mark((function n(){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return x(!0),n.next=3,o({variables:{backfillId:e.backfillId}});case 3:r(),x(!1),t();case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(b.Vq,{isOpen:!!e&&e.status!==q.Jv.CANCELED&&!!g,title:"Cancel backfill",onClose:t,children:[(0,C.jsxs)(b.a7,{children:["There ",1===g?"is 1 partition ":"are ".concat(g," partitions "),"yet to be queued or launched."]}),(0,C.jsxs)(b.cN,{children:[(0,C.jsx)(N.zx,{intent:"none",onClick:t,children:"Close"}),p?(0,C.jsx)(N.zx,{intent:"danger",disabled:!0,children:"Canceling..."}):(0,C.jsx)(N.zx,{intent:"danger",onClick:j,children:"Cancel backfill"})]})]}),(0,C.jsx)(wn.A,{isOpen:!!e&&(!g||"REQUESTED"!==e.status)&&!!Object.keys(f).length,onClose:t,onComplete:r,selectedRuns:f})]})},Sn=(0,p.Ps)(o||(o=(0,a.Z)(["\n  mutation CancelBackfill($backfillId: String!) {\n    cancelPartitionBackfill(backfillId: $backfillId) {\n      __typename\n      ... on CancelBackfillSuccess {\n        backfillId\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n"])),v.B),kn=t(22013),Nn=function(n){var e=n.showBackfillTarget,t=void 0===e||e,r=n.allPartitions,i=n.backfills,o=n.refetch,s=m.useState(),a=(0,c.Z)(s,2),d=a[0],p=a[1],v=m.useState(),b=(0,c.Z)(v,2),S=b[0],k=b[1],N=m.useState(),R=(0,c.Z)(N,2),E=R[0],P=R[1],T=(0,h.D)(kn.g),_=(0,c.Z)(T,1)[0],Z=(0,y._5)().canCancelPartitionBackfill,O=null===d||void 0===d?void 0:d.backfillId;m.useEffect((function(){if(Z.enabled&&O){var n=i.filter((function(n){return n.backfillId===O})),e=(0,c.Z)(n,1)[0];p(e)}}),[i,O,Z]);var U=function(){var n=(0,l.Z)(u().mark((function n(e){var t,r,i;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,_({variables:{backfillId:e.backfillId}});case 2:t=n.sent,(r=t.data)&&"ResumeBackfillSuccess"===r.resumePartitionBackfill.__typename?o():r&&"UnauthorizedError"===r.resumePartitionBackfill.__typename?j.L.show({message:(0,C.jsx)(x.Z,{direction:"column",spacing:4,children:(0,C.jsx)("div",{children:"Attempted to retry the backfill in read-only mode. This backfill was not retried."})}),icon:"error",intent:"danger"}):r&&"PythonError"===r.resumePartitionBackfill.__typename&&(i=r.resumePartitionBackfill,j.L.show({message:(0,C.jsx)("div",{children:"An unexpected error occurred. This backfill was not retried."}),icon:"error",intent:"danger",action:{text:"View error",onClick:function(){return(0,g._)({body:(0,C.jsx)(w.T9,{error:i})})}}}));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(f.i,{$monospaceFont:!1,children:[(0,C.jsx)("thead",{children:(0,C.jsxs)("tr",{children:[(0,C.jsx)("th",{children:"Backfill ID"}),(0,C.jsx)("th",{children:"Created"}),t?(0,C.jsx)("th",{children:"Backfill target"}):null,(0,C.jsx)("th",{children:"Requested"}),(0,C.jsx)("th",{children:"Backfill status"}),(0,C.jsx)("th",{children:"Run status"}),(0,C.jsx)("th",{style:{width:80}})]})}),(0,C.jsx)("tbody",{children:i.map((function(n){return(0,C.jsx)(en,{showBackfillTarget:t,backfill:n,allPartitions:r,onTerminateBackfill:p,onResumeBackfill:U,onShowStepStatus:k,onShowPartitionsRequested:P},n.backfillId)}))})]}),(0,C.jsx)(mn,{backfill:S,onClose:function(){return k(void 0)}}),(0,C.jsx)(I,{backfill:E,onClose:function(){return P(void 0)}}),(0,C.jsx)(bn,{backfill:d,onClose:function(){return p(void 0)},onComplete:function(){return o()}})]})},Cn=(0,p.Ps)(s||(s=(0,a.Z)(["\n  fragment BackfillTableFragment on PartitionBackfill {\n    backfillId\n    status\n    numCancelable\n    partitionNames\n    numPartitions\n    timestamp\n    partitionSetName\n    partitionSet {\n      id\n      ...PartitionSetForBackfillTable\n    }\n    assetSelection {\n      path\n    }\n    error {\n      ...PythonErrorFragment\n    }\n  }\n\n  fragment PartitionSetForBackfillTable on PartitionSet {\n    id\n    name\n    mode\n    pipelineName\n    repositoryOrigin {\n      id\n      repositoryName\n      repositoryLocationName\n    }\n  }\n\n  ","\n"])),v.B)},85548:function(n,e,t){t.d(e,{Z:function(){return f}});var r=t(54268),i=t(32030),o=t(762),s=t(325),a=t(69305),l=t(59549),c=t(9091),d=t(34653),u=t(55752),h=t(28797),p=t(80609),x=t(32289),f=s.memo((function(n){var e=n.name,t=n.run,f=n.showHover,m=void 0!==f&&f,g=n.showButton,j=void 0===g||g,y=n.showSummary,v=void 0===y||y,w=t.status,b=s.useMemo((function(){switch(w){case a.VO.SUCCESS:return"success";case a.VO.CANCELED:case a.VO.CANCELING:case a.VO.FAILURE:return"danger";default:return"none"}}),[w]);return(0,x.jsxs)(i.x,{flex:{direction:"row",justifyContent:"space-between",alignItems:"flex-start",gap:16},children:[(0,x.jsxs)(i.x,{flex:{direction:"column",alignItems:"flex-start",gap:4},children:[(0,x.jsxs)(i.x,{flex:{direction:"row",alignItems:"center",gap:8},children:[function(){var n=(0,x.jsx)(r.V,{intent:b,children:(0,x.jsxs)(i.x,{flex:{direction:"row",alignItems:"center",gap:4},children:[(0,x.jsx)(l.K9,{status:t.status,size:10}),(0,x.jsx)(u.Zr,{run:t})]})});return m?(0,x.jsx)(o.J,{position:"top",interactionKind:"hover",content:(0,x.jsx)("div",{children:(0,x.jsx)(c.qL,{run:t,name:e})}),hoverOpenDelay:100,children:n}):n}(),v?(0,x.jsx)(u.Tw,{run:t}):null]}),v&&(d.hd.has(t.status)||d.Ys.has(t.status))?(0,x.jsx)(p.I,{runId:t.id}):void 0]}),j?(0,x.jsx)(h.A,{to:"/runs/".concat(t.id),children:"View run"}):null]})}))},80609:function(n,e,t){t.d(e,{I:function(){return m}});var r,i=t(99500),o=t(73701),s=t(3159),a=t(12745),l=t(7838),c=t(41332),d=t.n(c),u=t(325),h=t(74549),p=t(69305),x=t(34653),f=t(32289),m=function(n){var e=n.runId,t=(0,o.a)(g,{variables:{runId:e}}).data,r=null===t||void 0===t?void 0:t.pipelineRunOrError,i="Run"===(null===r||void 0===r?void 0:r.__typename)?r.status:null,s=u.useMemo((function(){if("Run"!==(null===r||void 0===r?void 0:r.__typename))return[];var n=r.status;return x.hd.has(n)?r.stepStats.filter((function(n){return n.status===p.SG.FAILURE})):x.Ys.has(n)?r.stepStats.filter((function(n){return n.status===p.SG.IN_PROGRESS})):[]}),[r]),c=s.length;if(!c||!i)return null;if(x.hd.has(i)){if(1===c){var m=s[0],j=m.endTime?d().stringify({focusedTime:Math.floor(1e3*m.endTime)},{addQueryPrefix:!0}):"";return(0,f.jsxs)(a.YS,{color:l.w.Gray500,children:["Failed at ",(0,f.jsx)(h.rU,{to:"/runs/".concat(e).concat(j),children:m.stepKey})]})}return(0,f.jsxs)(a.YS,{color:l.w.Gray500,children:["Failed at ",(0,f.jsxs)(h.rU,{to:"/runs/".concat(e),children:[c," steps"]})]})}if(x.Ys.has(i)){if(1===c){var y=s[0],v=y.endTime?d().stringify({focusedTime:Math.floor(1e3*y.endTime)},{addQueryPrefix:!0}):"";return(0,f.jsxs)(a.YS,{color:l.w.Gray500,children:["In progress at ",(0,f.jsx)(h.rU,{to:"/runs/".concat(e).concat(v),children:y.stepKey})]})}return(0,f.jsxs)(a.YS,{color:l.w.Gray500,children:["In progress at ",(0,f.jsxs)(h.rU,{to:"/runs/".concat(e),children:[c," steps"]})]})}return null},g=(0,s.Ps)(r||(r=(0,i.Z)(["\n  query StepSummaryForRunQuery($runId: ID!) {\n    pipelineRunOrError(runId: $runId) {\n      ... on Run {\n        id\n        status\n        stepStats {\n          endTime\n          stepKey\n          status\n        }\n      }\n    }\n  }\n"])))},62997:function(n,e,t){t.d(e,{TW:function(){return P},i0:function(){return T},lB:function(){return _},dY:function(){return O}});var r,i,o=t(99500),s=t(19065),a=t(922),l=t(73701),c=t(3159),d=t(54268),u=t(60652),h=t(8358),p=t(75453),x=t(11831),f=t(32030),m=t(34595),g=t(89646),j=t(6466),y=t(7838),v=t(12745),w=t(23730),b=t(325),S=t(14156),k=t(79082),N=t(12436),C=t(76341),I=t(69305),R=t(22797),E=t(32289),P=function(n){var e=n.tick,t=n.instigationType,r=b.useState(!1),i=(0,s.Z)(r,2),o=i[0],a=i[1];switch(e.status){case I.iz.STARTED:return(0,E.jsx)(d.V,{children:"Started"});case I.iz.SUCCESS:if(!e.runIds.length)return(0,E.jsx)(d.V,{intent:"primary",children:"Requested"});var l=(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(d.V,{intent:"primary",interactive:!0,children:(0,E.jsxs)(u.Z,{underline:"never",onClick:function(){return a(!0)},children:[e.runIds.length," Requested"]})}),(0,E.jsxs)(h.Vq,{isOpen:o,onClose:function(){return a(!1)},style:{width:"90vw"},title:"Launched runs",children:[(0,E.jsx)(T,{runIds:e.runIds}),(0,E.jsx)(h.cN,{children:(0,E.jsx)(p.zx,{intent:"primary",onClick:function(){return a(!1)},children:"OK"})})]})]});if(e.runKeys.length>e.runIds.length){var c="".concat(e.runKeys.length," runs requested, but ").concat(e.runKeys.length-e.runIds.length," skipped because the runs already exist for those requested keys.");return(0,E.jsx)(x.u,{position:"right",content:c,children:l})}return l;case I.iz.SKIPPED:if(e.runKeys.length){var f="".concat(e.runKeys.length," runs requested, but skipped because the runs already exist for the requested keys.");return(0,E.jsx)(x.u,{position:"right",content:f,children:(0,E.jsx)(d.V,{intent:"warning",children:"Skipped"})})}return e.skipReason?(0,E.jsx)(x.u,{position:"right",content:e.skipReason,targetTagName:"div",children:(0,E.jsx)(d.V,{intent:"warning",children:"Skipped"})}):(0,E.jsx)(d.V,{intent:"warning",children:"Skipped"});case I.iz.FAILURE:if(e.error){var m=e.error,g=function(){return(0,S._)({title:t?t===I._5.SCHEDULE?"Schedule Response":"Sensor Response":"Python Error",body:(0,E.jsx)(N.T9,{error:m})})};return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(Z,{onClick:g,children:(0,E.jsx)(d.V,{minimal:!0,intent:"danger",children:"Failure"})}),(0,E.jsx)(u.Z,{onClick:g,style:{marginLeft:8,fontSize:12},children:"View"})]})}return(0,E.jsx)(d.V,{intent:"danger",children:"Failure"});default:return(0,C.UT)(e.status)}},T=function(n){var e=n.runIds,t=(0,l.a)(U,{variables:{filter:{runIds:e}}}),r=t.data;return t.loading||!r?(0,E.jsx)(f.x,{padding:32,children:(0,E.jsx)(m.$,{purpose:"section"})}):"Runs"!==r.pipelineRunsOrError.__typename?(0,E.jsx)(f.x,{padding:32,children:(0,E.jsx)(g.t,{icon:"error",title:"An error occurred",description:r.pipelineRunsOrError.message})}):(0,E.jsx)(f.x,{padding:{bottom:8},children:(0,E.jsx)(R.A,{runs:r.pipelineRunsOrError.results})})},_=function(n){var e=n.originRunIds;return e&&e.length?(0,E.jsxs)(j.Z,{direction:"column",spacing:16,children:[(0,E.jsxs)(f.x,{padding:12,border:{side:"bottom",width:1,color:y.w.Gray200},children:[(0,E.jsxs)(v.uT,{children:["Failed Runs",(0,E.jsx)(x.u,{content:"Failed runs this tick reacted on and reported back to.",children:(0,E.jsx)(w.JO,{name:"info",color:y.w.Gray500})})]}),(0,E.jsx)(T,{runIds:e})]}),(0,E.jsxs)(f.x,{padding:12,margin:{bottom:8},children:[(0,E.jsxs)(v.uT,{children:["Requested Runs",(0,E.jsx)(x.u,{content:"Runs launched by the run requests in this tick.",children:(0,E.jsx)(w.JO,{name:"info",color:y.w.Gray500})})]}),(0,E.jsx)(g.t,{icon:"sensors",title:"No runs to display",description:"This sensor does not target a pipeline or job."})]})]}):null},Z=a.ZP.button.withConfig({displayName:"InstigationTick__LinkButton",componentId:"o7n48i-0"})(["background:inherit;border:none;cursor:pointer;font-size:inherit;text-decoration:none;padding:0;"]),O=(0,c.Ps)(r||(r=(0,o.Z)(["\n  fragment TickTagFragment on InstigationTick {\n    id\n    status\n    timestamp\n    skipReason\n    runIds\n    runKeys\n    error {\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n"])),k.B),U=(0,c.Ps)(i||(i=(0,o.Z)(["\n  query LaunchedRunListQuery($filter: RunsFilter!) {\n    pipelineRunsOrError(filter: $filter, limit: 500) {\n      ... on PipelineRuns {\n        results {\n          ...RunTableRunFragment\n          id\n          runId\n        }\n      }\n      ... on InvalidPipelineRunsFilterError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"])),R.Z,k.B)},45352:function(n,e,t){t.d(e,{UD:function(){return g},RX:function(){return j},S9:function(){return y},ai:function(){return v},Jy:function(){return w}});var r,i,o=t(99500),s=t(922),a=t(3159),l=t(7838),c=t(6466),d=t(12745),u=(t(325),t(74549)),h=t(85548),p=t(59549),x=t(55752),f=t(62997),m=t(32289),g=function(n){var e=n.instigationState;return e.runs.length?(0,m.jsx)(h.Z,{run:e.runs[0],name:e.name}):(0,m.jsx)("span",{style:{color:l.w.Gray300},children:"None"})},j=function(n){var e=n.run;return(0,m.jsxs)(c.Z,{direction:"row",spacing:4,alignItems:"center",children:[(0,m.jsx)(p.K9,{status:e.status}),(0,m.jsx)(u.rU,{to:"/runs/".concat(e.runId),target:"_blank",rel:"noreferrer",children:(0,m.jsx)(d.fv,{children:(0,x.EI)({runId:e.runId})})})]})},y=(0,a.Ps)(r||(r=(0,o.Z)(["\n  fragment RunStatusFragment on Run {\n    id\n    runId\n    status\n  }\n"]))),v=(0,a.Ps)(i||(i=(0,o.Z)(["\n  fragment InstigationStateFragment on InstigationState {\n    id\n    selectorId\n    name\n    instigationType\n    status\n    repositoryName\n    repositoryLocationName\n    typeSpecificData {\n      ... on SensorData {\n        lastRunKey\n        lastCursor\n      }\n      ... on ScheduleData {\n        cronSchedule\n      }\n    }\n    runs(limit: 1) {\n      id\n      ...RunStatusFragment\n      ...RunTimeFragment\n    }\n    status\n    ticks(limit: 1) {\n      id\n      cursor\n      ...TickTagFragment\n    }\n    runningCount\n  }\n\n  ","\n  ","\n  ","\n"])),y,x.$X,f.dY),w=s.ZP.table.withConfig({displayName:"InstigationUtils__StatusTable",componentId:"sc-1od21u7-0"})(["font-size:13px;border-spacing:0;&&&&& tr{box-shadow:none;}&&&&& tbody > tr > td{background:transparent;box-shadow:none !important;padding:1px 0;}&&&&& tbody > tr > td:first-child{color:",";}"],l.w.Gray500)},56313:function(n,e,t){t.d(e,{e:function(){return C},Y:function(){return I}});var r=t(85358),i=t(19065),o=t(95550),s=t.n(o),a=t(49148),l=t(32030),c=t(12745),d=t(55113),u=t(60736),h=t(50346),p=t(11831),x=t(6466),f=t(7838),m=(t(325),t(79540)),g=t(63579),j=t(69305),y=t(73565),v=t(36243),w=t(88161),b=t(2097),S=t(62997),k=t(45352),N=t(32289),C=function(n){var e=n.sensorStates,t=n.showSubheading,r=void 0===t||t;return e.length?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(l.x,{padding:{vertical:16,horizontal:20},children:[r?(0,N.jsx)(c.pm,{children:"Unloadable sensors"}):null,(0,N.jsx)(R,{})]}),(0,N.jsxs)(d.i,{children:[(0,N.jsx)("thead",{children:(0,N.jsxs)("tr",{children:[(0,N.jsx)("th",{style:{maxWidth:"60px"}}),(0,N.jsx)("th",{children:"Sensor Name"}),(0,N.jsx)("th",{style:{width:"100px"},children:"Last Tick"}),(0,N.jsx)("th",{children:"Last Run"})]})}),(0,N.jsx)("tbody",{children:e.map((function(n){return(0,N.jsx)(P,{sensorState:n},n.id)}))})]})]}):null},I=function(n){var e=n.scheduleStates,t=n.showSubheading,r=void 0===t||t;return e.length?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(l.x,{padding:{vertical:16,horizontal:20},children:[r?(0,N.jsx)(c.pm,{children:"Unloadable schedules"}):null,(0,N.jsx)(E,{})]}),(0,N.jsxs)(d.i,{children:[(0,N.jsx)("thead",{children:(0,N.jsxs)("tr",{children:[(0,N.jsx)("th",{style:{maxWidth:"60px"}}),(0,N.jsx)("th",{children:"Schedule Name"}),(0,N.jsx)("th",{style:{width:"150px"},children:"Schedule"}),(0,N.jsx)("th",{style:{width:"100px"},children:"Last Tick"}),(0,N.jsx)("th",{children:"Last Run"}),(0,N.jsx)("th",{children:"Partition Set Status"})]})}),(0,N.jsx)("tbody",{children:e.map((function(n){return(0,N.jsx)(T,{scheduleState:n},n.id)}))})]})]}):null},R=function(){return(0,N.jsx)(u.b,{intent:"warning",title:(0,N.jsxs)("div",{children:["Note: You can turn off any of the following sensors, but you cannot turn them back on."," "]}),description:(0,N.jsx)("div",{children:"The following sensors were previously started but now cannot be loaded. They may be part of a different workspace or from a sensor or code location that no longer exists in code. You can turn them off, but you cannot turn them back on since they can\u2019t be loaded."})})},E=function(){return(0,N.jsx)(u.b,{intent:"warning",title:(0,N.jsx)("div",{children:"Note: You can turn off any of the following schedules, but you cannot turn them back on."}),description:(0,N.jsx)("div",{children:"The following schedules were previously started but now cannot be loaded. They may be part of a different workspace or from a schedule or code location that no longer exists in code. You can turn them off, but you cannot turn them back on since they can\u2019t be loaded."})})},P=function(n){var e=n.sensorState,t=e.id,o=e.selectorId,l=e.name,c=e.status,d=e.ticks,u=(0,g._5)().canStopSensor,y=(0,a.D)(w.Xu,{onCompleted:w.oI}),v=(0,i.Z)(y,2),C=v[0],I=v[1].loading,R=(0,m.p)(),E=function(){var n=(0,r.Z)(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c!==j.yn.RUNNING){n.next=4;break}return n.next=3,R({title:"Are you sure you want to turn off this sensor?",description:"The definition for this sensor is not available. If you turn it off, you will not be able to turn it back on from the currently loaded workspace."});case 3:C({variables:{jobOriginId:t,jobSelectorId:o}});case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),P=c===j.yn.RUNNING&&!u.enabled,T=d.length?d[0]:null;return(0,N.jsxs)("tr",{children:[(0,N.jsx)("td",{style:{width:60},children:function(){var n=(0,N.jsx)(h.X,{format:"switch",disabled:I||c===j.yn.STOPPED||P,checked:c===j.yn.RUNNING,onChange:E});return P?(0,N.jsx)(p.u,{content:u.disabledReason,children:n}):n}()}),(0,N.jsxs)("td",{children:[(0,N.jsx)(x.Z,{direction:"row",spacing:8,alignItems:"center",children:l}),(0,N.jsx)(b.Y,{instigatorState:e})]}),(0,N.jsx)("td",{children:T?(0,N.jsx)(S.TW,{tick:T,instigationType:j._5.SENSOR}):(0,N.jsx)("span",{style:{color:f.w.Gray300},children:"None"})}),(0,N.jsx)("td",{children:(0,N.jsx)("div",{style:{display:"flex"},children:(0,N.jsx)(k.UD,{instigationState:e})})})]},l)},T=function(n){var e=n.scheduleState,t=(0,g._5)().canStopRunningSchedule,o=(0,a.D)(y.d0,{onCompleted:y.JH}),l=(0,i.Z)(o,2),c=l[0],d=l[1].loading,u=(0,m.p)(),f=e.id,w=e.selectorId,C=e.name,I=e.ticks,R=e.status,E=e.typeSpecificData,P=I.length>0?I[0]:null,T=E&&"ScheduleData"===E.__typename?E.cronSchedule:null,_=function(){var n=(0,r.Z)(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(R!==j.yn.RUNNING){n.next=4;break}return n.next=3,u({title:"Are you sure you want to stop this schedule?",description:"The definition for this schedule is not available. If you turn it off, you will not be able to turn it back on from the currently loaded workspace."});case 3:c({variables:{scheduleOriginId:f,scheduleSelectorId:w}});case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),Z=R===j.yn.RUNNING&&!t.enabled;return(0,N.jsxs)("tr",{children:[(0,N.jsx)("td",{style:{width:60},children:function(){var n=(0,N.jsx)(h.X,{format:"switch",checked:R===j.yn.RUNNING,disabled:R!==j.yn.RUNNING||d||Z,onChange:_});return Z?(0,N.jsx)(p.u,{content:t.disabledReason,children:n}):n}()}),(0,N.jsxs)("td",{children:[(0,N.jsx)(x.Z,{direction:"row",spacing:8,alignItems:"center",children:(0,N.jsx)("div",{children:C})}),(0,N.jsx)(b.Y,{instigatorState:e})]}),(0,N.jsx)("td",{style:{maxWidth:150},children:(0,N.jsx)("div",{style:{position:"relative",width:"100%",whiteSpace:"pre-wrap",display:"block"},children:T?(0,N.jsx)(p.u,{position:"bottom",content:T,children:(0,v.A)(T)}):(0,N.jsx)("div",{children:"\u2014"})})}),(0,N.jsx)("td",{children:P?(0,N.jsx)(S.TW,{tick:P,instigationType:j._5.SCHEDULE}):null}),(0,N.jsx)("td",{children:(0,N.jsx)(k.UD,{instigationState:e})}),(0,N.jsx)("td",{children:(0,N.jsx)("div",{style:{display:"flex"},children:"\u2014"})})]},C)}},30057:function(n,e,t){t.d(e,{b:function(){return m}});var r=t(922),i=t(32030),o=t(23730),s=t(7838),a=t(14198),l=t(34595),c=t(11831),d=(t(325),t(74549)),u=t(63579),h=t(33902),p=t(25582),x=t(86562),f=t(32289),m=function(n){var e=n.repoAddress,t=n.showIcon,r=void 0!==t&&t,c=n.showRefresh,d=void 0===c||c,m=e.location,v=(0,u.xz)(e.location).canReloadRepositoryLocation,w=(0,h.Uz)(e);return(0,f.jsxs)(i.x,{flex:{display:"inline-flex",direction:"row",alignItems:"center"},title:w,children:[r&&(0,f.jsx)(o.JO,{name:"folder",style:{marginRight:8},color:s.w.Gray400}),(0,f.jsx)(g,{to:(0,p.$U)(e),style:{flex:1},children:(0,f.jsx)(a.g,{text:w})}),v.enabled&&d?(0,f.jsx)(x.s,{location:m,children:function(n){var e=n.tryReload,t=n.reloading;return(0,f.jsx)(j,{content:t?"Reloading\u2026":(0,f.jsxs)(f.Fragment,{children:["Reload location ",(0,f.jsx)("strong",{children:m})]}),children:t?(0,f.jsx)(l.$,{purpose:"body-text"}):(0,f.jsx)(y,{onClick:e,children:(0,f.jsx)(o.JO,{name:"refresh",color:s.w.Gray400})})})}}):null]})},g=(0,r.ZP)(d.rU).withConfig({displayName:"RepositoryLink__RepositoryName",componentId:"sc-1ocg9ga-0"})(["max-width:280px;"]),j=(0,r.ZP)(c.u).withConfig({displayName:"RepositoryLink__ReloadTooltip",componentId:"sc-1ocg9ga-1"})(["margin-left:4px;&&{display:block;}"]),y=r.ZP.button.withConfig({displayName:"RepositoryLink__StyledButton",componentId:"sc-1ocg9ga-2"})(["background-color:transparent;border:0;cursor:pointer;display:block;padding:0;margin:0;:focus:not(:focus-visible){outline:none;}& ","{display:block;transition:color 100ms linear;}:hover ","{color:",";}"],o.a1,o.a1,s.w.Blue500)},86476:function(n,e,t){t.d(e,{I:function(){return y}});var r=t(19065),i=t(54268),o=t(60652),s=t(7838),a=t(32030),l=t(11831),c=t(8546),d=t(14198),u=t(325),h=t(74549),p=t(9315),x=t(36243),f=t(86875),m=t(25582),g=t(72444),j=t(32289),y=function(n){var e=n.schedules,t=n.sensors,a=n.repoAddress,l=n.showSwitch,c=void 0===l||l,d=u.useState(!1),h=(0,r.Z)(d,2),p=h[0],x=h[1],f=e.length,m=t.length;if(f>1||m>1||f&&m){var y=f&&m?"".concat(f+m," schedules/sensors"):f?"".concat(f," schedules"):"".concat(m," sensors"),b=f>1?"schedule":"sensors";return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(i.V,{icon:b,children:(0,j.jsx)(o.Z,{onClick:function(){return x(!0)},color:s.w.Link,children:y})}),(0,j.jsx)(g.f,{isOpen:p,onClose:function(){return x(!1)},repoAddress:a,schedules:e,sensors:t,showSwitch:c})]})}return f?(0,j.jsx)(v,{schedule:e[0],repoAddress:a,showSwitch:c}):m?(0,j.jsx)(w,{sensor:t[0],repoAddress:a,showSwitch:c}):null},v=function(n){var e=n.schedule,t=n.repoAddress,r=n.showSwitch,o=e.cronSchedule,s=e.executionTimezone,d="RUNNING"===e.scheduleState.status,u=(0,j.jsx)(i.V,{intent:d?"primary":"none",icon:"schedule",children:(0,j.jsxs)(a.x,{flex:{direction:"row",alignItems:"center",gap:4},children:[(0,j.jsx)(h.rU,{to:(0,m.$U)(t,"/schedules/".concat(e.name)),style:{overflow:"hidden",textOverflow:"ellipsis"},children:(0,x.A)(o,s||"UTC")}),r?(0,j.jsx)(p.M,{size:"small",repoAddress:t,schedule:e}):null]})});return e.cronSchedule?(0,j.jsx)(l.u,{placement:"top-start",content:(0,j.jsxs)(a.x,{flex:{direction:"column",gap:4},children:[(0,j.jsxs)("div",{children:["Name: ",(0,j.jsx)("strong",{children:e.name})]}),(0,j.jsxs)("div",{children:["Cron:"," ",(0,j.jsxs)("span",{style:{fontFamily:c.b.monospace,marginLeft:"4px"},children:["(",e.cronSchedule,")"]})]}),(0,j.jsxs)("div",{children:["Timezone: ",(0,j.jsx)("strong",{children:e.executionTimezone||"UTC"})]})]}),children:u}):u},w=function(n){var e=n.sensor,t=n.repoAddress,r=n.showSwitch,o="RUNNING"===e.sensorState.status;return(0,j.jsx)(i.V,{intent:o?"primary":"none",icon:"sensors",children:(0,j.jsxs)(a.x,{flex:{direction:"row",alignItems:"center",gap:4},children:[(0,j.jsx)(h.rU,{to:(0,m.$U)(t,"/sensors/".concat(e.name)),style:{maxWidth:200,overflow:"hidden"},children:(0,j.jsx)(d.g,{text:e.name})}),r?(0,j.jsx)(f.c,{size:"small",repoAddress:t,sensor:e}):null]})})}},13688:function(n,e,t){t.d(e,{y:function(){return r}});var r="overview-collapsed-state"},51012:function(n,e,t){t.d(e,{ac:function(){return K},ux:function(){return V},Rc:function(){return M}});var r,i,o,s=t(99500),a=t(19065),l=t(95764),c=t(81034),d=t(47427),u=t(922),h=t(73701),p=t(3159),x=t(8358),f=t(32030),m=t(75453),g=t(23730),j=t(7838),y=t(762),v=t(8412),w=t(18961),b=t.n(w),S=t(325),k=t(39061),N=t(57676),C=t(39151),I=t(88291),R=t(69305),E=t(55752),P=t(90933),T=t(26306),_=t(34595),Z=t(89646),O=t(79082),U=t(22797),L=t(28064),G=t(32289),F=function(n){var e=(0,h.a)(D,{variables:{filter:{pipelineName:n.pipelineName,tags:[{key:L.H.Partition,value:n.partitionName}]}}}),t=e.data;return e.loading||!t?(0,G.jsx)(_.$,{purpose:"section"}):"Runs"!==t.pipelineRunsOrError.__typename?(0,G.jsx)(Z.t,{icon:"error",title:"Query Error",description:t.pipelineRunsOrError.message}):(0,G.jsx)("div",{children:(0,G.jsx)(U.A,{runs:t.pipelineRunsOrError.results})})},D=(0,p.Ps)(r||(r=(0,s.Z)(["\n  query PartitionRunListQuery($filter: RunsFilter!) {\n    pipelineRunsOrError(filter: $filter, limit: 500) {\n      ... on PipelineRuns {\n        results {\n          ...RunTableRunFragment\n          id\n          runId\n        }\n      }\n      ... on InvalidPipelineRunsFilterError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"])),U.Z,O.B),A=t(54920),z=t(87188),q=t(30150),B=["assetHealth","rangeDimension","rangeDimensionIdx","assetQueryItems"],$=["repoAddress","pipelineName","partitions","partitionNames"],M=function(n){return Math.ceil(n/z.Bj)-3},K=function(n){var e=n.assetHealth,t=n.rangeDimension,r=n.rangeDimensionIdx,i=n.assetQueryItems,o=(0,c.Z)(n,B),s=b()(e,(function(n){return(0,k.Je)(n.assetKey)})),a=(0,C.tc)({nodes:i,mode:N.hS.FLAT}).boxes.filter((function(n){var e,i;return(null===(e=s[n.node.name])||void 0===e||null===(i=e.dimensions[r])||void 0===i?void 0:i.name)===t.name})),d={stepRows:a.map((function(n){return{x:n.x,name:n.node.name,totalFailurePercent:0,finalFailurePercent:0}})),partitions:[],partitionColumns:t.partitionKeys.map((function(n,e){return{idx:e,name:n,runsLoaded:!0,runs:[],steps:a.map((function(e){return{name:e.node.name,unix:0,color:J(s[e.node.name].stateForSingleDimension(r,n))}}))}}))};return(0,G.jsx)(H,(0,l.Z)((0,l.Z)({},o),{},{partitionNames:t.partitionKeys,data:d,showLatestRun:!1}))},J=function(n){return n===A.AB.SUCCESS?"SUCCESS":n===A.AB.SUCCESS_MISSING?"SUCCESS-MISSING":"MISSING"},V=function(n){var e,t=n.repoAddress,r=n.pipelineName,i=n.partitions,o=n.partitionNames,s=(0,c.Z)(n,$),a=(0,T.$)(t),d=(0,l.Z)((0,l.Z)({},a),{},{pipelineName:r}),u=(0,h.a)(X,{variables:{pipelineSelector:d}}),p="PipelineSnapshot"===(null===(e=u.data)||void 0===e?void 0:e.pipelineSnapshotOrError.__typename)&&u.data.pipelineSnapshotOrError.solidHandles,x=(0,q.J2)({partitionNames:o,partitions:i,stepQuery:"",solidHandles:p});return x?(0,G.jsx)(H,(0,l.Z)((0,l.Z)({},s),{},{showLatestRun:!0,pipelineName:r,partitionNames:o,data:x})):(0,G.jsx)("span",{})},H=function(n){var e=(0,I.S)(),t=e.viewport,r=e.containerProps,i=S.useState(null),o=(0,a.Z)(i,2),s=o[0],c=o[1],u=S.useState(null),h=(0,a.Z)(u,2),p=h[0],j=h[1],y=n.setPageSize,v=n.data;S.useEffect((function(){t.width&&y(M(t.width))}),[t.width,y]);var w=v.stepRows,b=v.partitionColumns,k=function(n){var e={};return n.forEach((function(n){return e[n.name]=n})),w.map((function(n){return e[n.name]}))},N=M(t.width),C=Math.max(0,b.length-n.offset-N),R=Math.max(N,b.length-n.offset),E=b.slice(C,R),P=function(n){var e,t=Date.now()/1e3,r=1,i=(0,d.Z)(n);try{for(i.s();!(e=i.n()).done;){var o,s=e.value,a=(0,d.Z)(s.steps);try{for(a.s();!(o=a.n()).done;){var l=o.value;if(0!==l.unix){var c=[Math.min(t,l.unix),Math.max(r,l.unix)];t=c[0],r=c[1]}}}catch(u){a.e(u)}finally{a.f()}}}catch(u){i.e(u)}finally{i.f()}return[t,r]}(b),T=(0,a.Z)(P,2),_=T[0],Z=T[1],O=(0,z.G3)(b.map((function(n){return n.name})));return(0,G.jsxs)(Y,{children:[(0,G.jsxs)(x.Vq,{isOpen:!!p,onClose:function(){return j(null)},style:{width:"90vw"},title:p?"".concat(p.partitionName," runs"):"",children:[(0,G.jsx)(f.x,{padding:{bottom:12},children:p&&(0,G.jsx)(F,{pipelineName:n.pipelineName,partitionName:p.partitionName})}),(0,G.jsx)(x.cN,{children:(0,G.jsx)(m.zx,{intent:"primary",autoFocus:!0,onClick:function(){return j(null)},children:"OK"})})]}),(0,G.jsxs)("div",{style:{position:"relative",display:"flex"},children:[(0,G.jsx)(z.NF,{floating:n.offset+N<n.partitionNames.length,children:(0,G.jsxs)(z.C4,{disabled:!0,style:{flex:1,flexShrink:1,overflow:"hidden"},children:[(0,G.jsx)(z.eh,{style:{height:O}}),n.showLatestRun&&(0,G.jsx)(z.p$,{style:{paddingLeft:24},children:"Last Run"}),(0,G.jsx)(Q,{}),w.map((function(n){return(0,G.jsx)(z.p$,{style:{paddingLeft:8+n.x},"data-tooltip":n.name,hovered:n.name===(null===s||void 0===s?void 0:s.stepName),children:n.name},n.name)}))]})}),n.offset+N<n.partitionNames.length?(0,G.jsx)(W,{$direction:"left",onClick:function(){return n.setOffset(Math.max(0,Math.min(n.offset+N-1,n.partitionNames.length-N)))},children:(0,G.jsx)(g.JO,{name:"chevron_left"})}):null,(0,G.jsx)("div",(0,l.Z)((0,l.Z)({style:{flex:1,overflow:"hidden",position:"relative"}},r),{},{children:(0,G.jsx)("div",{style:{width:b.length*z.Bj,position:"absolute",height:"100%",right:0,zIndex:1},children:E.map((function(e,t){return(0,G.jsxs)(z.C4,{style:{zIndex:E.length-t,width:z.Bj,position:"absolute",right:(N-t)*z.Bj+20},children:[(0,G.jsx)(z.kD,{$height:O,label:e.name}),n.showLatestRun&&(0,G.jsx)(z.p$,{style:{textAlign:"center"},children:(0,G.jsx)(en,{runs:e.runs,runsLoaded:e.runsLoaded,minUnix:_,maxUnix:Z,hovered:s,setHovered:c,setFocused:j,partitionName:e.name},"".concat(e.name,":__full_status"))}),(0,G.jsx)(Q,{}),k(e.steps).map((function(n){return(0,G.jsx)(en,{step:n,runs:e.runs,runsLoaded:e.runsLoaded,minUnix:_,maxUnix:Z,hovered:s,setHovered:c,setFocused:j,partitionName:e.name},n.name)}))]},e.name)}))})})),n.offset>0?(0,G.jsx)(W,{$direction:"right",onClick:function(){return n.setOffset(Math.max(0,n.offset-N))},children:(0,G.jsx)(g.JO,{name:"chevron_right"})}):null]})]})},W=u.ZP.div.withConfig({displayName:"PartitionStepStatus__PagerControl",componentId:"fy1jed-0"})(["width:30px;position:absolute;border:1px solid ",";border-radius:3px;display:flex;justify-content:center;align-items:center;top:calc(50% - 15px);bottom:calc(50% - 15px);"," background:white;z-index:10;justify-content:center;align-items:center;cursor:pointer;display:flex;&:hover{background:#ececec;}"],j.w.KeylineGray,(function(n){return"left"===n.$direction?"left: 315px;":"right: 0;"})),Y=u.ZP.div.withConfig({displayName:"PartitionStepStatus__PartitionRunMatrixContainer",componentId:"fy1jed-1"})(["display:block;"]),Q=u.ZP.div.withConfig({displayName:"PartitionStepStatus__Divider",componentId:"fy1jed-2"})(["height:1px;width:100%;margin-top:5px;border-top:1px solid ",";"],j.w.KeylineGray),X=((0,p.Ps)(i||(i=(0,s.Z)(["\n  fragment PartitionStepStatusRun on Run {\n    id\n    runId\n    tags {\n      key\n      value\n    }\n    stepStats {\n      __typename\n      stepKey\n      status\n    }\n  }\n"]))),(0,p.Ps)(o||(o=(0,s.Z)(["\n  query PartitionStepStatusPipelineQuery($pipelineSelector: PipelineSelector) {\n    pipelineSnapshotOrError(activePipelineSelector: $pipelineSelector) {\n      ... on PipelineSnapshot {\n        id\n        name\n        solidHandles {\n          ...PartitionMatrixSolidHandleFragment\n        }\n      }\n    }\n  }\n\n  ","\n"])),q.Tg)),nn=JSON.stringify({top:20,left:10}),en=function(n){var e,t=n.step,r=n.runs,i=n.runsLoaded,o=n.hovered,s=n.setHovered,l=n.setFocused,c=n.partitionName,d=S.useState(!1),u=(0,a.Z)(d,2),h=u[0],p=u[1];if(i)if(t)e=t.color.toLowerCase();else if(0===r.length)e="empty";else{var x=r[r.length-1].status;e=x===R.VO.CANCELED?"failure":x.toLowerCase()}else e="loading";var f=(0,G.jsx)("div",{className:"square ".concat(e),onMouseEnter:function(){return s({stepName:null===t||void 0===t?void 0:t.name,partitionName:c})},onMouseLeave:function(){return s(null)},"data-tooltip":i&&!t?1===r.length?"1 run":"".concat(r.length," runs"):void 0,"data-tooltip-style":nn});return h||r.length&&(null===o||void 0===o?void 0:o.stepName)===(null===t||void 0===t?void 0:t.name)&&(null===o||void 0===o?void 0:o.partitionName)===c?(0,G.jsx)(y.J,{interactionKind:"click",placement:"bottom-start",onOpening:function(){return p(!0)},onClosed:function(){return p(!1)},content:(0,G.jsxs)(v.v2,{children:[(0,G.jsx)(P.U,{icon:"open_in_new",text:"Show logs from last run",to:(0,E.tA)(r[r.length-1],{stepKey:t?t.name:null})}),(0,G.jsx)(v.sN,{icon:"settings_backup_restore",text:"View runs (".concat(r.length,")"),onClick:function(){return l({stepName:null===t||void 0===t?void 0:t.name,partitionName:c})}})]}),children:f}):f}},87188:function(n,e,t){t.d(e,{Bj:function(){return a},C4:function(){return d},p$:function(){return u},eh:function(){return h},G3:function(){return p},kD:function(){return x},AQ:function(){return m},NF:function(){return g}});var r=t(59019),i=t(922),o=t(7838),s=(t(325),t(32289)),a=32,l={SUCCESS:o.w.Green500,SUCCESS_SKIPPED:o.w.Green200,FAILURE:o.w.Red500,FAILURE_SKIPPED:o.w.Red200,SKIPPED:o.w.Yellow500,IN_PROGRESS:"#eee"},c=function(n){return"linear-gradient(to left, ".concat(n," 0%, ").concat(n," 100%)")},d=i.ZP.div.withConfig({displayName:"RunMatrixUtils__GridColumn",componentId:"sc-2pzmq3-0"})(["display:flex;flex-direction:column;flex-shrink:0;line-height:0;"," "," "," "," .cell{height:","px;display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:12px;padding:2px;box-sizing:border-box;line-height:initial;}.square{width:20px;height:20px;margin:6px;display:inline-block;&:hover:not(.empty):before{box-shadow:"," 0 0 0 3px;}&:before{content:' ';background:rgba(248,247,245,1);border-radius:10px;display:inline-block;width:20px;height:20px;}&.loading{&:before{background:radial-gradient(white 0%,white 45%,rgba(248,247,245,1) 60%);}}&.success{&:before{background:",";}}&.failure{&:before{background:",";}}&.success-missing{&:before{background:",";}}&.failure-missing{&:before{background:",";}}&.failure-blank{&:before{background:",";}}&.skipped{&:before{background:",";}}}"],(function(n){var e=n.disabled,t=n.focused,r=n.multiselectFocused,i=n.hovered;return!e&&!t&&!r&&"&".concat(i?"":":hover"," {\n      background: ").concat(o.w.Gray100,";\n      cursor: default;\n      ").concat(f," {\n        background: ").concat(o.w.White,";\n        .tilted {\n          background: ").concat(o.w.Gray100,";\n        }\n      }\n      .square {\n        filter: brightness(95%);\n      }\n    }")}),(function(n){return n.disabled&&"\n      ".concat(f," {\n        color: ").concat(o.w.Gray400,"\n      }\n    ")}),(function(n){return n.focused&&"background: ".concat(o.w.Blue500,";\n    ").concat(u," {\n      color: white;\n    }\n    ").concat(f," {\n      background: ").concat(o.w.White,";\n      color: white;\n      .tilted {\n        background: ").concat(o.w.Blue500,";\n      }\n    }\n  }")}),(function(n){return n.multiselectFocused&&"background: ".concat(o.w.Blue200,";\n    ").concat(u," {\n      color: white;\n    }\n    ").concat(f," {\n      background: ").concat(o.w.White,";\n      color: white;\n      .tilted {\n        background: ").concat(o.w.Blue200,";\n      }\n    }\n  }")}),a,o.w.Blue500,l.SUCCESS,l.FAILURE,l.SUCCESS_SKIPPED,l.FAILURE_SKIPPED,l.FAILURE_SKIPPED,l.SKIPPED),u=i.ZP.div.withConfig({displayName:"RunMatrixUtils__LeftLabel",componentId:"sc-2pzmq3-1"})(["height:","px;line-height:","px;font-size:13px;overflow:hidden;text-overflow:ellipsis;position:relative;background:",";"],a,a,(function(n){var e=n.hovered;return[e?o.w.Gray100:"transparent"].map(c).join(",")})),h=i.ZP.div.withConfig({displayName:"RunMatrixUtils__TopLabel",componentId:"sc-2pzmq3-2"})(["position:relative;height:70px;padding:4px;padding-bottom:0;min-width:15px;align-items:flex-end;display:flex;"]);function p(n){var e=Math.max.apply(Math,(0,r.Z)(n.map((function(n){return n.length}))));return 15+(e>10?4.9*e:55)}var x=function(n){var e=n.label,t=n.$height;return(0,s.jsx)(f,{style:{height:t-15},children:(0,s.jsx)("div",{className:"tilted",children:e})})},f=i.ZP.div.withConfig({displayName:"RunMatrixUtils__TopLabelTiltedInner",componentId:"sc-2pzmq3-3"})(["position:relative;height:unset;padding:4px;padding-bottom:0;min-width:15px;margin-bottom:","px;align-items:end;display:flex;line-height:normal;& > div.tilted{font-size:12px;white-space:nowrap;position:absolute;bottom:-20px;left:0;padding:2px;padding-right:4px;padding-left:0;transform:rotate(-","deg);transform-origin:top left;}"],15,41),m=330,g=i.ZP.div.withConfig({displayName:"RunMatrixUtils__GridFloatingContainer",componentId:"sc-2pzmq3-4"})(["display:flex;border-right:1px solid ",";padding-bottom:16px;width:","px;z-index:1;",";"],o.w.Gray200,m,(function(n){return n.floating?"box-shadow: 1px 0 4px rgba(0, 0, 0, 0.15)":""}));i.ZP.div.withConfig({displayName:"RunMatrixUtils__GridScrollContainer",componentId:"sc-2pzmq3-5"})(["padding-right:60px;padding-bottom:16px;overflow-x:scroll;overscroll-behavior-x:contain;z-index:0;background:",";flex:1;scrollbar-color:"," ",";scrollbar-width:thin;::-webkit-scrollbar{-webkit-appearance:none;}&::-webkit-scrollbar:vertical{width:11px;}&::-webkit-scrollbar:horizontal{height:11px;}&::-webkit-scrollbar-thumb{border-radius:8px;border:2px solid ",";background-color:",";}&::-webkit-scrollbar-track{background-color:",";}"],o.w.White,o.w.Gray500,o.w.Gray100,o.w.Gray100,o.w.Gray500,o.w.Gray100)},30150:function(n,e,t){t.d(e,{J2:function(){return v},iv:function(){return w},Tg:function(){return b}});var r,i,o=t(99500),s=t(95764),a=t(3159),l=t(24972),c=t(325),d=t(25496),u=t(47072),h=t(39151),p=t(69305),x=t(27218),f=t(2112),m=new Set([p.SG.IN_PROGRESS,p.SG.SKIPPED]);function g(n){return n.startTime||0}function j(n,e){return g(n)-g(e)}function y(n,e){var t=new RegExp(n+"\\[.*\\]");return e===n||e==="".concat(n,".compute")||e.match(t)}var v=function(n){var e=c.useRef();if(!n.solidHandles)return null;if(e.current&&(0,l.shallowCompareKeys)(n,e.current.inputs))return e.current.result;var t=(0,x.i)(n.solidHandles).map((function(n){return n.solid})),r=(0,d.V)(t,n.stepQuery),i=function(n,e,t,r){var i={};t.forEach((function(n){n.runs.sort(j),i[n.name]=n}));var o=e.map((function(e,t){var r=i[e]||{name:e,runsLoaded:!1,runs:[]},o=n.boxes.map((function(n){var e,t=n.node,i={name:t.name,color:"MISSING",unix:0};if(!r.runs.length)return i;var o,s=r.runs[r.runs.length-1],a=null===(e=s.stepStats.find((function(n){return y(t.name,n.stepKey)})))||void 0===e?void 0:e.status;if(r.runs.length>1&&(!a||m.has(a)))for(var l=r.runs.length-2;l>=0&&!o;){var c,d=null===(c=r.runs[l].stepStats.find((function(n){return y(t.name,n.stepKey)})))||void 0===c?void 0:c.status;if(d&&!m.has(d)){o=d;break}l--}if(!a&&!o)return i;var u=!a||m.has(a)?"".concat(o,"-MISSING"):a;return{name:t.name,unix:g(s),color:u}}));return(0,s.Z)((0,s.Z)({},r),{},{steps:o,idx:t})})),a=o.filter((function(n){return n.runs.length>0})).length,l=n.boxes.map((function(n,e){var t=o.filter((function(n){return n.steps[e].color.includes("FAILURE")})),r=o.filter((function(n){return n.steps[e].color.endsWith("FAILURE")}));return{x:n.x,name:n.node.name,totalFailurePercent:a?Math.round(t.length/a*100):0,finalFailurePercent:a?Math.round(r.length/a*100):0}}));if(null!==r&&void 0!==r&&r.showFailuresAndGapsOnly){for(var c=function(n){0===l[n].finalFailurePercent&&(l.splice(n,1),o.forEach((function(e){return e.steps.splice(n,1)})))},d=l.length-1;d>=0;d--)c(d);for(var u=o.length-1;u>=0;u--)(0===o[u].runs.length||o[u].steps.every((function(n){return n.color.includes("SUCCESS")})))&&o.splice(u,1)}return{stepRows:l,partitions:t,partitionColumns:o}}((0,h.tc)({nodes:r.all,mode:u.hS.FLAT}),n.partitionNames,n.partitions,n.options);return e.current={result:i,inputs:n},i},w=(0,a.Ps)(r||(r=(0,o.Z)(["\n  fragment PartitionMatrixStepRunFragment on Run {\n    id\n    runId\n    status\n    startTime\n    endTime\n    stepStats {\n      stepKey\n      startTime\n      endTime\n      status\n    }\n    tags {\n      key\n      value\n    }\n  }\n"]))),b=(0,a.Ps)(i||(i=(0,o.Z)(["\n  fragment PartitionMatrixSolidHandleFragment on SolidHandle {\n    handleID\n    solid {\n      name\n      definition {\n        name\n      }\n      inputs {\n        dependsOn {\n          solid {\n            name\n          }\n        }\n      }\n      outputs {\n        dependedBy {\n          solid {\n            name\n          }\n        }\n      }\n    }\n    ...GraphExplorerSolidHandleFragment\n  }\n\n  ","\n"])),f.Q)},73974:function(n,e,t){t.d(e,{T:function(){return y}});var r,i=t(99500),o=t(85358),s=t(95764),a=t(59019),l=t(19065),c=t(95550),d=t.n(c),u=t(31522),h=t(3159),p=t(325),x=t(79082),f=t(69305),m=t(28064),g=t(30150),j={runs:[],partitionNames:[],loading:!1,loadingCursorIdx:0};function y(n){var e=n.partitionSetName,t=n.partitionTagName,r=n.partitionNames,i=n.pageSize,c=n.runsFilter,h=n.jobName,x=n.repositorySelector,g=n.offset,y=n.skipQuery,w=(0,u.x)(),b=p.useRef(0),S=p.useState(j),k=(0,l.Z)(S,2),N=k[0],C=k[1],I=JSON.stringify([].concat((0,a.Z)(c.map((function(n){var e=n.value.split("="),t=(0,l.Z)(e,2);return{key:t[0],value:t[1]}}))),[{key:m.H.RepositoryLabelTag,value:"".concat(x.repositoryName,"@").concat(x.repositoryLocationName)}]));return p.useEffect((function(){var n=b.current+1;b.current=n;var l=JSON.parse(I);C((function(n){return(0,s.Z)((0,s.Z)({},n),{},{runs:[],loading:!0})}));var c=function(){var c=(0,o.Z)(d().mark((function c(){var u,p,x,j,y;return d().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(b.current===n){c.next=2;break}return c.abrupt("return");case 2:u=r.length-(g||0),p=Math.max(0,u-i),C((function(n){return(0,s.Z)((0,s.Z)({},n),{},{partitionNames:r,loadingCursorIdx:u})})),5,x=d().mark((function i(){var o,c,p;return d().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return o=Math.max(u-5,0),c=r.slice(o,u),i.next=4,Promise.all(c.map((function(n){var r={key:m.H.PartitionSet,value:e},i={key:t,value:n},o=h?{pipelineName:h,tags:[].concat((0,a.Z)(l),[i])}:{tags:[].concat((0,a.Z)(l),[i,r])};return v(w,{limit:1e3,filter:o})})));case 4:if(p=i.sent,b.current===n){i.next=7;break}return i.abrupt("return",{v:void 0});case 7:u=o,C((function(n){var e;return(0,s.Z)((0,s.Z)({},n),{},{runs:(e=(0,a.Z)(n.runs)).concat.apply(e,(0,a.Z)(p)),loading:u>0,loadingCursorIdx:u})}));case 9:case"end":return i.stop()}}),i)}));case 7:if(!(u>p)){c.next=14;break}return c.delegateYield(x(),"t0",9);case 9:if("object"!==typeof(j=c.t0)){c.next=12;break}return c.abrupt("return",j.v);case 12:c.next=7;break;case 14:y=setInterval((0,o.Z)(d().mark((function i(){var o,c,u;return d().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(b.current===n){i.next=2;break}return i.abrupt("return",clearInterval(y));case 2:return C((function(n){return(0,s.Z)((0,s.Z)({},n),{},{loading:!0})})),i.next=5,v(w,{limit:10,filter:{tags:[].concat((0,a.Z)(l),[{key:m.H.PartitionSet,value:e}])}});case 5:return o=i.sent,i.next=8,v(w,{filter:{statuses:[f.VO.STARTED],tags:[].concat((0,a.Z)(l),[{key:m.H.PartitionSet,value:e}])}});case 8:if(c=i.sent,b.current===n){i.next=11;break}return i.abrupt("return",clearInterval(y));case 11:u=[].concat((0,a.Z)(c),(0,a.Z)(o)).filter((function(n){return n.tags.find((function(n){return n.key===t&&r.includes(n.value)}))})),C((function(n){var e=n.runs.filter((function(n){return!u.some((function(e){return e.runId===n.runId}))})).concat(u);return(0,s.Z)((0,s.Z)({},n),{},{loading:!1,runs:e})}));case 13:case"end":return i.stop()}}),i)}))),1e4);case 15:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}}();return y||c(),function(){b.current+=1}}),[i,w,e,t,I,h,g,r,y]),function(n,e){var t=[],r={};return n.partitionNames.forEach((function(e,i){r[e]={name:e,runsLoaded:i>=n.loadingCursorIdx,runs:[]},t.push(r[e])})),n.runs.forEach((function(n){var t,i,o=(null===(t=n.tags.find((function(n){return n.key===e})))||void 0===t?void 0:t.value)||"";null===(i=r[o])||void 0===i||i.runs.push(n)})),t}(N,t)}function v(n,e){return w.apply(this,arguments)}function w(){return(w=(0,o.Z)(d().mark((function n(e,t){var r;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.query({fetchPolicy:"network-only",query:b,variables:t});case 2:return r=n.sent,n.abrupt("return","Runs"===r.data.pipelineRunsOrError.__typename&&r.data.pipelineRunsOrError.results||[]);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var b=(0,h.Ps)(r||(r=(0,i.Z)(["\n  query PartitionStepLoaderQuery($filter: RunsFilter!, $cursor: String, $limit: Int) {\n    pipelineRunsOrError(filter: $filter, cursor: $cursor, limit: $limit) {\n      ... on Runs {\n        results {\n          id\n          ...PartitionMatrixStepRunFragment\n        }\n      }\n      ... on InvalidPipelineRunsFilterError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"])),g.iv,x.B)},35815:function(n,e,t){t.d(e,{l:function(){return c},L:function(){return d}});var r=t(922),i=t(32030),o=t(23730),s=t(7838),a=(t(325),t(37099)),l=t(32289),c=32,d=function(n){var e=n.expanded,t=n.onClick,r=n.repoName,c=n.repoLocation,d=n.showLocation,x=n.rightElement,f=r===a.Js;return(0,l.jsx)(u,{$open:e,onClick:t,children:(0,l.jsxs)(i.x,{flex:{alignItems:"center",justifyContent:"space-between"},padding:{horizontal:24},children:[(0,l.jsxs)(i.x,{flex:{alignItems:"center",gap:8},children:[(0,l.jsx)(o.JO,{name:"folder",color:s.w.Dark}),(0,l.jsxs)("div",{children:[(0,l.jsx)(h,{children:f?c:r}),d&&!f?(0,l.jsx)(p,{children:"@".concat(c)}):null]})]}),(0,l.jsxs)(i.x,{flex:{alignItems:"center",gap:8},children:[x,(0,l.jsx)(i.x,{margin:{top:2},children:(0,l.jsx)(o.JO,{name:"arrow_drop_down"})})]})]})})},u=r.ZP.button.withConfig({displayName:"RepoSectionHeader__SectionHeaderButton",componentId:"sc-1b0a72j-0"})(["background-color:",";border:0;box-shadow:inset 0px -1px 0 ",",inset 0px 1px 0 ",";cursor:pointer;display:block;padding:0;width:100%;margin:0;height:","px;text-align:left;:focus,:active{outline:none;}:hover{background-color:",";}",'[aria-label="arrow_drop_down"]{transition:transform 100ms linear;',"}"],s.w.Gray50,s.w.KeylineGray,s.w.KeylineGray,c,s.w.Gray100,o.a1,(function(n){return n.$open?null:"transform: rotate(-90deg);"})),h=r.ZP.span.withConfig({displayName:"RepoSectionHeader__RepoName",componentId:"sc-1b0a72j-1"})(["font-weight:600;"]),p=r.ZP.span.withConfig({displayName:"RepoSectionHeader__RepoLocation",componentId:"sc-1b0a72j-2"})(["font-weight:400;color:",";"],s.w.Gray700)},9091:function(n,e,t){t.d(e,{JH:function(){return g},qL:function(){return j}});var r=t(922),i=t(7838),o=t(32030),s=t(762),a=t(12745),l=t(8546),c=(t(325),t(74549)),d=t(80609),u=t(59549),h=t(34653),p=t(55752),x=t(32289),f={QUEUED:i.w.Blue500,NOT_STARTED:i.w.Blue500,STARTING:i.w.Blue500,MANAGED:i.w.Blue500,STARTED:i.w.Blue500,SUCCESS:i.w.Green500,FAILURE:i.w.Red500,CANCELING:i.w.Red500,CANCELED:i.w.Red500},m=function(n){var e=n.status,t=n.opacity,r=void 0===t?1:t,i=f[e];return(0,x.jsx)(S,{$color:i,$opacity:r})},g=function(n){var e=n.fade,t=n.jobName,r=n.runs,i=r.length,a=.8/Math.max(3,i);return(0,x.jsx)(o.x,{flex:{direction:"row",alignItems:"center",gap:2},children:r.map((function(n,r){return(0,x.jsx)(s.J,{position:"top",interactionKind:"hover",content:(0,x.jsx)("div",{children:(0,x.jsx)(j,{run:n,name:t})}),hoverOpenDelay:100,children:(0,x.jsx)(m,{runId:n.runId,status:n.status,opacity:e?1-(i-r-1)*a:1},n.runId)},n.runId)}))})},j=function(n){var e=n.name,t=n.run;return(0,x.jsxs)(y,{children:[(0,x.jsx)(v,{children:e}),(0,x.jsxs)(w,{children:[(0,x.jsxs)(o.x,{flex:{alignItems:"center",direction:"row",gap:8},children:[(0,x.jsx)(u.K9,{status:t.status}),(0,x.jsx)(c.rU,{to:"/runs/".concat(t.runId),children:(0,x.jsx)(a.fv,{style:{fontSize:"14px"},children:(0,p.EI)(t)})})]}),(0,x.jsxs)(o.x,{flex:{direction:"column",gap:4},padding:{top:2},children:[(0,x.jsx)(p.Zr,{run:t}),(0,x.jsx)(p.Tw,{run:t})]})]}),h.hd.has(t.status)||h.Ys.has(t.status)?(0,x.jsx)(b,{children:(0,x.jsx)(d.I,{runId:t.id})}):null]})},y=r.ZP.div.withConfig({displayName:"RunStatusPez__OverlayContainer",componentId:"sc-1eclpuq-0"})(["padding:4px;font-size:12px;width:220px;"]),v=r.ZP.div.withConfig({displayName:"RunStatusPez__OverlayTitle",componentId:"sc-1eclpuq-1"})(["padding:8px;box-shadow:inset 0 -1px ",";font-family:",";font-size:14px;font-weight:500;color:",";max-width:100%;text-overflow:ellipsis;overflow:hidden;min-width:0px;"],i.w.KeylineGray,l.b.default,i.w.Dark),w=r.ZP.div.withConfig({displayName:"RunStatusPez__RunRow",componentId:"sc-1eclpuq-2"})(["padding:8px;font-size:12px;display:flex;align-items:flex-start;justify-content:space-between;"]),b=r.ZP.div.withConfig({displayName:"RunStatusPez__SummaryContainer",componentId:"sc-1eclpuq-3"})(["overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:4px 8px 8px;:empty{display:none;}"]),S=r.ZP.div.withConfig({displayName:"RunStatusPez__Pez",componentId:"sc-1eclpuq-4"})(["background-color:",";border-radius:2px;height:16px;opacity:",";width:8px;"],(function(n){return n.$color}),(function(n){return n.$opacity}))},52453:function(n,e,t){t.d(e,{Y:function(){return z},q:function(){return F}});var r=t(16798),i=t(59019),o=t(95764),s=t(19065),a=t(922),l=t(32030),c=t(7838),d=t(11831),u=t(54268),h=t(8546),p=t(23730),x=t(14198),f=t(762),m=t(34595),g=t(12745),j=t(325),y=t(74549),v=t(13688),w=t(68156),b=t(28797),S=t(65864),k=t(37971),N=t(7489),C=t(71824),I=t(33902),R=t(36114),E=t(35815),P=t(59549),T=t(34653),_=t(32460),Z=t(18499),O=function(n){switch(n){case"queued":case"scheduled":return c.w.Blue200;case"inProgress":return c.w.Blue500;case"failed":return c.w.Red500;case"succeeded":return c.w.Green500}},U=function(n){var e={scheduled:0,queued:0,inProgress:0,failed:0,succeeded:0};n.forEach((function(n){var t=n.status;"SCHEDULED"===t?e.scheduled++:T.sy.has(t)?e.queued++:T.Ys.has(t)?e.inProgress++:T.hd.has(t)?e.failed++:T._m.has(t)&&e.succeeded++}));var t=Object.keys(e).filter((function(n){return e[n]>0}));if(1===t.length){var r=(0,s.Z)(t,1)[0];return O(r)}for(var i=n.length,o=[e.failed>0?{status:"failed",pct:100*e.failed/i}:null,e.succeeded>0?{status:"succeeded",pct:100*e.succeeded/i}:null,e.inProgress>0?{status:"inProgress",pct:100*e.inProgress/i}:null,e.queued>0?{status:"queued",pct:100*e.queued/i}:null,e.scheduled>0?{status:"scheduled",pct:100*e.scheduled/i}:null].filter(Boolean),a="",l=0,c=0,d=0;d<o.length;d++){var u=o[d];if(u){var h=u.status,p=u.pct;c=l,l+=p;var x=O(h);0===d?a+="".concat(x," ").concat(p.toFixed(1),"%, "):d===o.length-1?a+="".concat(x," ").concat(c.toFixed(1),"%"):a+="".concat(x," ").concat(c.toFixed(1),"% ").concat(l.toFixed(1),"%, ")}}return"linear-gradient(to right, ".concat(a,")")},L=t(32289),G=32,F=function(n){var e=n.loading,t=void 0!==e&&e,a=n.jobs,d=n.range,u=j.useState(null),h=(0,s.Z)(u,2),p=h[0],x=h[1],f=Date.now(),m=(0,s.Z)(d,2),g=(m[0],f<=m[1]),y=a.reduce((function(n,e){var t=e.repoAddress,s=(0,I.Qj)(t),a=n[s]||[];return(0,o.Z)((0,o.Z)({},n),{},(0,r.Z)({},s,[].concat((0,i.Z)(a),[e])))}),{}),w=Object.keys(y),b=(0,C.N)(v.y,w),k=b.expandedKeys,N=b.onToggle,P=b.onToggleAll,T=j.useRef(null),_=j.useCallback((function(n){var e;n?(T.current=new ResizeObserver((function(n){var e=n[0];x(e.contentRect.width)})),T.current.observe(n)):null===(e=T.current)||void 0===e||e.disconnect()}),[]);if(!p)return(0,L.jsx)(rn,{$height:174,ref:_,children:(0,L.jsx)("div",{})});var Z=Object.keys(y).sort((function(n,e){return n.localeCompare(e)})),O=64,U=Z.filter((function(n){return k.includes(n)})).reduce((function(n,e){return n+y[e].length}),0),F=Z.length*E.l+G*U,A=(0,S.w)(Z.map((function(n){var e;return(null===(e=(0,R.g)(n))||void 0===e?void 0:e.name)||""}))),z=Z.length>0,q=64+(z?F:110);return(0,L.jsxs)(rn,{$height:q,ref:_,children:[(0,L.jsx)(l.x,{padding:{left:24},flex:{direction:"column",justifyContent:"center"},style:{fontSize:"16px",height:64},border:{side:"top",width:1,color:c.w.KeylineGray},children:"Jobs"}),(0,L.jsx)(J,{interval:36e5,range:d,height:z?F:0}),Z.length?Z.map((function(n){var e,t=null===(e=(0,R.g)(n))||void 0===e?void 0:e.name,r=y[n],i=O,o=k.includes(n);return O=i+E.l+(o?r.length*G:0),(0,L.jsx)(D,{expanded:o,range:d,top:i,repoKey:n,isDuplicateRepoName:!(!t||!A.has(t)),jobs:y[n],onToggle:N,onToggleAll:P,width:p},n)})):(0,L.jsx)(tn,{loading:t,includesTicks:g})]})},D=function(n){var e=n.expanded,t=n.onToggle,r=n.onToggleAll,i=n.repoKey,o=n.isDuplicateRepoName,s=n.jobs,a=n.range,l=n.top,c=n.width,d=(0,R.g)(i),u=(null===d||void 0===d?void 0:d.name)||"Unknown repo",h=(null===d||void 0===d?void 0:d.location)||"Unknown location",p=j.useCallback((function(n){n.getModifierState("Shift")?r(!e):d&&t(d)}),[e,t,r,d]);return(0,L.jsxs)("div",{children:[(0,L.jsx)(B,{$top:l,children:(0,L.jsx)(E.L,{expanded:e,repoName:u,repoLocation:h,onClick:p,showLocation:o,rightElement:(0,L.jsx)(A,{jobs:s})})}),e?s.map((function(n,e){return(0,L.jsx)(en,{job:n,top:l+E.l+e*G,range:a,width:c},n.key)})):null]})},A=j.memo((function(n){var e=n.jobs,t=j.useMemo((function(){var n=0,t=0,r=0;return e.forEach((function(e){e.runs.forEach((function(e){var i=e.status;"SCHEDULED"!==i&&(T.Ys.has(i)?n++:T.hd.has(i)?t++:T._m.has(i)&&r++)}))})),{inProgressCount:n,failedCount:t,succeededCount:r}}),[e]);return(0,L.jsx)(z,(0,o.Z)({},t))})),z=function(n){var e=n.inProgressCount,t=n.succeededCount,r=n.failedCount,i=1===e?"1 run in progress":"".concat(e," runs in progress"),o=1===t?"1 run succeeded":"".concat(t," runs succeeded"),s=1===r?"1 run failed":"".concat(r," runs failed");return(0,L.jsxs)(l.x,{flex:{direction:"row",gap:4,alignItems:"center"},children:[e>0?(0,L.jsx)(d.u,{content:(0,L.jsx)(q,{children:i}),placement:"top",children:(0,L.jsx)(u.V,{intent:"primary",children:e})}):null,t>0?(0,L.jsx)(d.u,{content:(0,L.jsx)(q,{children:o}),placement:"top",children:(0,L.jsx)(u.V,{intent:"success",children:t})}):null,r>0?(0,L.jsx)(d.u,{content:(0,L.jsx)(q,{children:s}),placement:"top",children:(0,L.jsx)(u.V,{intent:"danger",children:r})}):null]})},q=a.ZP.span.withConfig({displayName:"RunTimeline__StatusSpan",componentId:"sc-1k6kbha-0"})(["white-space:nowrap;"]),B=a.ZP.div.withConfig({displayName:"RunTimeline__SectionHeaderContainer",componentId:"sc-1k6kbha-1"})(["position:absolute;top:0;left:0;right:0;",""],(function(n){var e=n.$top;return"transform: translateY(".concat(e,"px);")})),$={month:"numeric",day:"numeric",year:"numeric"},M={month:"numeric",day:"numeric",year:"numeric",timeZoneName:"short"},K={hour:"numeric"},J=function(n){var e=n.interval,t=n.range,r=n.height,a=(0,s.Z)(t,2),d=a[0],u=a[1],h=function(){var n=j.useContext(k.jA),e=(0,s.Z)(n,1)[0],t="Automatic"===e?(0,N.cw)():e;return j.useCallback((function(n,e){return Intl.DateTimeFormat(navigator.language,(0,o.Z)({timeZone:t},e)).format(n)}),[t])}(),p=j.useMemo((function(){for(var n=u-d,e=new Date(d),t=h(e,M),r=[],i=new Date(t);i.valueOf()<u;){var o=i.getTime(),s=new Date(o).setDate(i.getDate()+1);i=new Date(s),r.push({dayStart:o,dayEnd:s})}return r.map((function(e){var t=e.dayStart,r=e.dayEnd,i=new Date(t),o=t-d,s=o+(r-t),a=Math.max(0,o/n*100),l=Math.min(100,s/n*100);return{label:h(i,$),key:i.toString(),left:a,width:l-a}}))}),[u,h,d]),x=j.useMemo((function(){var n=u-d,t=d-d%e,r=Math.ceil(n/e)+1;return(0,i.Z)(new Array(r)).map((function(r,i){var o=t+i*e,s=new Date(o);return{label:h(s,K).replace(" ",""),key:s.toString(),left:(o-d)/n*100}})).filter((function(n){return n.left>0}))}),[u,d,e,h]),f=Date.now(),m="".concat(((f-d)/(u-d)*100).toPrecision(3),"%");return(0,L.jsxs)(V,{style:{height:"".concat(r,"px")},children:[(0,L.jsx)(H,{children:p.map((function(n){return(0,L.jsx)(W,{style:{left:"".concat(n.left.toPrecision(3),"%"),width:"".concat(n.width.toPrecision(3),"%")},children:n.width>10?(0,L.jsx)(l.x,{flex:{justifyContent:"center"},children:n.label}):null},n.key)}))}),(0,L.jsx)(H,{children:x.map((function(n){return(0,L.jsx)(Y,{style:{left:"".concat(n.left.toPrecision(3),"%")},children:n.label},n.key)}))}),(0,L.jsxs)(Q,{children:[(0,L.jsx)(X,{style:{left:0,backgroundColor:c.w.Gray200}}),x.map((function(n){return(0,L.jsx)(X,{style:{left:"".concat(n.left.toPrecision(3),"%")}},n.key)})),f>=d&&f<=u?(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(nn,{style:{left:m},children:"Now"}),(0,L.jsx)(X,{style:{left:m,backgroundColor:c.w.Blue500,zIndex:1}})]}):null]})]})},V=a.ZP.div.withConfig({displayName:"RunTimeline__DividerContainer",componentId:"sc-1k6kbha-2"})(["position:absolute;top:0;left:","px;right:0;font-family:",";color:",";"],320,h.b.monospace,c.w.Gray800),H=a.ZP.div.withConfig({displayName:"RunTimeline__DividerLabels",componentId:"sc-1k6kbha-3"})(["display:flex;align-items:center;box-shadow:inset 1px 0 0 ",",inset 0 1px 0 ",",inset -1px 0 0 ",";height:","px;position:relative;user-select:none;font-size:12px;width:100%;overflow:hidden;"],c.w.KeylineGray,c.w.KeylineGray,c.w.KeylineGray,32),W=a.ZP.div.withConfig({displayName:"RunTimeline__DateLabel",componentId:"sc-1k6kbha-4"})(["position:absolute;padding:8px 0;box-shadow:inset 1px 0 0 ",";white-space:nowrap;"],c.w.KeylineGray),Y=a.ZP.div.withConfig({displayName:"RunTimeline__TimeLabel",componentId:"sc-1k6kbha-5"})(["position:absolute;padding:8px;box-shadow:inset 1px 0 0 ",";white-space:nowrap;"],c.w.KeylineGray),Q=a.ZP.div.withConfig({displayName:"RunTimeline__DividerLines",componentId:"sc-1k6kbha-6"})(["height:100%;position:relative;width:100%;box-shadow:inset 1px 0 0 ",",inset -1px 0 0 ",";"],c.w.KeylineGray,c.w.KeylineGray),X=a.ZP.div.withConfig({displayName:"RunTimeline__DividerLine",componentId:"sc-1k6kbha-7"})(["background-color:",";height:100%;position:absolute;top:0;width:1px;"],c.w.KeylineGray),nn=a.ZP.div.withConfig({displayName:"RunTimeline__NowMarker",componentId:"sc-1k6kbha-8"})(["background-color:",";border-radius:1px;color:",";cursor:default;font-size:12px;line-height:12px;margin-left:-12px;padding:1px 4px;position:absolute;top:-14px;user-select:none;"],c.w.Blue500,c.w.White),en=function(n){var e=n.job,t=n.top,r=n.range,i=n.width,o=(0,s.Z)(r,2),a=o[0],d=o[1],u=i-320,h=e.runs,m=j.useMemo((function(){return(0,Z.i)({runs:h,start:a,end:d,width:u,minChunkWidth:2,minMultipleWidth:12})}),[h,a,d,u]);return e.runs.length?(0,L.jsxs)(on,{$top:t,children:[(0,L.jsxs)(sn,{children:[(0,L.jsx)(p.JO,{name:"asset"===e.jobType?"asset":"job"}),(0,L.jsx)("div",{style:{width:268},children:"asset"===e.jobType?(0,L.jsx)("span",{style:{color:c.w.Gray900},children:(0,L.jsx)(x.g,{text:e.jobName})}):(0,L.jsx)(y.rU,{to:e.path,children:(0,L.jsx)(x.g,{text:e.jobName})})})]}),(0,L.jsx)(an,{children:m.map((function(n){var t=n.left,r=n.width,i=n.runs.length;return(0,L.jsx)(ln,{$background:U(n.runs),$multiple:i>1,style:{left:"".concat(t,"px"),width:"".concat(r,"px")},children:(0,L.jsx)(f.J,{content:(0,L.jsx)(dn,{job:e,batch:n}),position:"top",interactionKind:"hover",className:"chunk-popover-target",children:(0,L.jsx)(l.x,{flex:{direction:"row",justifyContent:"center",alignItems:"center"},style:{height:"100%"},children:i>1?(0,L.jsx)(cn,{children:n.runs.length}):null})})},n.runs[0].id)}))})]}):null},tn=function(n){var e=n.loading,t=n.includesTicks;return(0,L.jsx)(l.x,{background:c.w.White,padding:{vertical:24},flex:{direction:"row",justifyContent:"center"},border:{side:"horizontal",width:1,color:c.w.KeylineGray},children:e?(0,L.jsxs)(l.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,L.jsx)(m.$,{purpose:"body-text"}),t?"Loading runs and scheduled ticks":"Loading runs"]}):(0,L.jsxs)(l.x,{flex:{direction:"column",gap:12,alignItems:"center"},children:[(0,L.jsx)("div",{children:t?"No runs or scheduled ticks in this time period.":"No runs in this time period."}),(0,L.jsxs)(l.x,{flex:{direction:"row",gap:12,alignItems:"center"},children:[(0,L.jsx)(b.A,{icon:(0,L.jsx)(p.JO,{name:"add_circle"}),to:"/overview/jobs",children:"Launch a run"}),(0,L.jsx)("span",{children:"or"}),(0,L.jsx)(b.A,{icon:(0,L.jsx)(p.JO,{name:"materialization"}),to:"/asset-groups",children:"Materialize an asset"})]})]})})},rn=a.ZP.div.withConfig({displayName:"RunTimeline__Timeline",componentId:"sc-1k6kbha-9"})([""," position:relative;"],(function(n){var e=n.$height;return"height: ".concat(e,"px;")})),on=a.ZP.div.withConfig({displayName:"RunTimeline__Row",componentId:"sc-1k6kbha-10"})(["align-items:center;box-shadow:inset 0 -1px 0 ",";display:flex;flex-direction:row;width:100%;height:","px;padding:1px 0;position:absolute;left:0;top:0;",":first-child,:hover{box-shadow:inset 0 1px 0 ",",inset 0 -1px 0 ",";}:hover{background-color:",";}"],c.w.KeylineGray,33,(function(n){var e=n.$top;return"transform: translateY(".concat(e,"px);")}),c.w.KeylineGray,c.w.KeylineGray,c.w.Gray10),sn=a.ZP.div.withConfig({displayName:"RunTimeline__JobName",componentId:"sc-1k6kbha-11"})(["align-items:center;display:flex;font-size:13px;justify-content:flex-start;gap:8px;line-height:16px;overflow:hidden;padding:0 12px 0 24px;text-overflow:ellipsis;white-space:nowrap;width:","px;"],320),an=a.ZP.div.withConfig({displayName:"RunTimeline__RunChunks",componentId:"sc-1k6kbha-12"})(["flex:1;position:relative;height:","px;"],G),ln=a.ZP.div.withConfig({displayName:"RunTimeline__RunChunk",componentId:"sc-1k6kbha-13"})(["align-items:center;background:",";border-radius:2px;height:","px;position:absolute;top:2px;",";transition:background-color 300ms linear,width 300ms ease-in-out;.chunk-popover-target{display:block;height:100%;width:100%;}"],(function(n){return n.$background}),28,(function(n){return n.$multiple?"min-width: ".concat(12,"px"):null})),cn=a.ZP.div.withConfig({displayName:"RunTimeline__BatchCount",componentId:"sc-1k6kbha-14"})(["color:",";cursor:default;font-family:",";font-size:14px;font-weight:600;user-select:none;"],c.w.White,h.b.monospace),dn=function(n){var e=n.job,t=n.batch,r=t.runs.slice(0,50),i=t.runs.length-r.length;return(0,L.jsxs)(l.x,{style:{width:"260px"},children:[(0,L.jsx)(l.x,{padding:12,border:{side:"bottom",width:1,color:c.w.KeylineGray},children:(0,L.jsx)(un,{children:e.jobName})}),(0,L.jsx)("div",{style:{maxHeight:"240px",overflowY:"auto"},children:r.map((function(n,e){return(0,L.jsxs)(l.x,{border:e>0?{side:"top",width:1,color:c.w.KeylineGray}:null,flex:{direction:"row",justifyContent:"space-between",alignItems:"center"},padding:{vertical:8,horizontal:12},children:[(0,L.jsxs)(l.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,L.jsx)(P.O_,{status:n.status,size:8}),"SCHEDULED"===n.status?"Scheduled":(0,L.jsx)(y.rU,{to:"/runs/".concat(n.id),children:(0,L.jsx)(g.fv,{children:n.id.slice(0,8)})})]}),(0,L.jsx)(g.fv,{children:"SCHEDULED"===n.status?(0,L.jsx)(w.v,{timestamp:n.startTime/1e3}):(0,L.jsx)(_.Q,{startUnix:n.startTime/1e3,endUnix:n.endTime/1e3})})]},n.id)}))}),i>0?(0,L.jsx)(l.x,{padding:12,border:{side:"top",width:1,color:c.w.KeylineGray},children:(0,L.jsxs)(y.rU,{to:"".concat(e.path,"runs"),children:["+ ",i," more"]})}):null]})},un=a.ZP.strong.withConfig({displayName:"RunTimeline__HoverContentJobName",componentId:"sc-1k6kbha-15"})(["display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%;"])},18499:function(n,e,t){t.d(e,{a:function(){return i},i:function(){return o}});var r=t(59019),i=function(n,e){return!(n.end<e.start||e.end<n.start)},o=function(n){for(var e=n.runs,t=n.start,i=n.end,o=n.width,a=n.minChunkWidth,l=n.minMultipleWidth,c=i-t,d=(Date.now()-t)/(i-t)*o,u=e.map((function(n){var e=n.startTime,r=n.endTime||Date.now();return{runs:[n],startTime:e,endTime:r,left:Math.max(0,Math.floor((e-t)/c*o)),width:Math.max(a,Math.min(Math.ceil((r-e)/c*o),Math.ceil((r-t)/c*o)))}})).sort((function(n,e){return e.left-n.left})),h=[];u.length;){var p=u.shift(),x=u[0];if(p)if(x&&s(p,x,l,d)){u.shift(),p.runs=[].concat((0,r.Z)(p.runs),(0,r.Z)(x.runs)),p.startTime=Math.min(p.startTime,x.startTime),p.endTime=Math.max(p.endTime,x.endTime);var f=Math.max(p.left+l,p.left+p.width,x.left+x.width),m=Math.min(p.left,x.left);p.width=f-m,p.left=m,u.unshift(p)}else h.push(p)}return h},s=function(n,e,t,r){var o=n.left,s=n.left+Math.max(n.width,t),a=e.left,l=e.left+Math.max(e.width,t),c=Math.min(n.left,e.left),d=Math.max(n.left+Math.max(n.width,t),e.left+Math.max(e.width,t));return i({start:o,end:s},{start:a,end:l})&&(c>r||d<r)}},79580:function(n,e,t){t.d(e,{W:function(){return p}});var r=t(85358),i=t(19065),o=t(95550),s=t.n(o),a=t(49148),l=t(325),c=t(27601),d=t(25429),u=t(39956),h=t(55752),p=function(n){var e=(0,c.k6)(),t=(0,a.D)(h.kO),o=(0,i.Z)(t,1)[0],p=(0,u._)(n);return l.useCallback(function(){var t=(0,r.Z)(s().mark((function t(r){var i,a,l;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n&&n.pipelineSnapshotId&&p){t.next=2;break}return t.abrupt("return");case 2:return i=(0,h.kz)({run:n,style:r,repositoryLocationName:p.match.repositoryLocation.name,repositoryName:p.match.repository.name}),t.prev=3,t.next=6,o({variables:i});case 6:l=t.sent,(0,h.lF)(n.pipelineName,null===(a=l.data)||void 0===a?void 0:a.launchPipelineReexecution,e,{preserveQuerystring:!0,behavior:"open"}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),(0,d.t)(t.t0);case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(n){return t.apply(this,arguments)}}(),[e,o,p,n])}},3656:function(n,e,t){t.d(e,{b:function(){return k}});var r,i=t(99500),o=t(59019),s=t(19065),a=t(65880),l=t(3159),c=t(12745),d=t(7838),u=t(60652),h=t(6466),p=t(41332),x=t.n(p),f=t(325),m=t(74549),g=t(76341),j=t(69305),y=t(45352),v=t(76336),w=t(25582),b=t(32289),S=["Succeeded","Failed","Missing","Pending"],k=f.memo((function(n){var e=n.repoAddress,t=n.schedule,r=(0,v.Ux)(e),i=t.name,o=t.partitionSet,l=t.pipelineName,p=null===o||void 0===o?void 0:o.name,g=(0,v.E8)(r,l),j=f.useMemo((function(){var n=p?x().stringify({partitionSet:p},{addQueryPrefix:!0}):"";return"/".concat(g?"jobs":"pipelines","/").concat(l,"/partitions").concat(n)}),[p,g,l]),y=(0,w.$U)(e,j),S=(0,a.t)(C,{variables:{scheduleSelector:{scheduleName:i,repositoryName:e.name,repositoryLocationName:e.location}}}),k=(0,s.Z)(S,2),I=k[0],R=k[1],E=R.data,P=R.loading,T=f.useCallback((function(){return I()}),[I]);return(0,b.jsxs)(h.Z,{direction:"column",spacing:4,children:[(0,b.jsx)(m.rU,{to:y,children:p}),function(){if(P)return(0,b.jsx)(c.YS,{style:{color:d.w.Gray400},children:"Loading\u2026"});if(!E)return(0,b.jsx)(u.Z,{onClick:T,children:(0,b.jsx)(c.YS,{children:"Show coverage"})});var n=E.scheduleOrError;return"Schedule"===n.__typename?(0,b.jsx)(N,{schedule:n,partitionURL:y}):(0,b.jsx)(c.YS,{style:{color:d.w.Red700},children:"Partition set not found!"})}()]})})),N=function(n){var e=n.schedule,t=n.partitionURL,r=e.partitionSet;if(!r||"PartitionStatuses"!==r.partitionStatusesOrError.__typename)return(0,b.jsx)("span",{style:{color:d.w.Gray300},children:"None"});var i=r.partitionStatusesOrError.results,s={};return i.forEach((function(n){var e=function(n){switch(n.runStatus){case null:return"Missing";case j.VO.SUCCESS:return"Succeeded";case j.VO.FAILURE:case j.VO.CANCELED:case j.VO.CANCELING:return"Failed";case j.VO.MANAGED:case j.VO.QUEUED:case j.VO.NOT_STARTED:case j.VO.STARTED:case j.VO.STARTING:return"Pending";default:return(0,g.UT)(n.runStatus)}}(n);s[e]=[].concat((0,o.Z)(s[e]||[]),[n])})),(0,b.jsx)(y.Jy,{children:(0,b.jsx)("tbody",{children:S.map((function(n){return n in s?(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{style:{width:"100px"},children:n}),(0,b.jsx)("td",{children:"Failed"===n||"Missing"===n?(0,b.jsx)(m.rU,{to:"".concat(t,"?showFailuresAndGapsOnly=true"),style:{color:d.w.Gray900},children:s[n].length}):s[n].length})]},n):null}))})})},C=(0,l.Ps)(r||(r=(0,i.Z)(["\n  query SchedulePartitionStatusQuery($scheduleSelector: ScheduleSelector!) {\n    scheduleOrError(scheduleSelector: $scheduleSelector) {\n      ... on Schedule {\n        id\n        ...SchedulePartitionStatusFragment\n      }\n    }\n  }\n\n  fragment SchedulePartitionStatusFragment on Schedule {\n    id\n    mode\n    pipelineName\n    partitionSet {\n      id\n      name\n      partitionStatusesOrError {\n        ... on PartitionStatuses {\n          results {\n            id\n            ...SchedulePartitionStatusResult\n          }\n        }\n      }\n    }\n  }\n\n  fragment SchedulePartitionStatusResult on PartitionStatus {\n    id\n    partitionName\n    runStatus\n  }\n"])))},89324:function(n,e,t){t.d(e,{K:function(){return c}});var r=t(95764),i=t(81034),o=t(32030),s=t(60736),a=(t(325),t(32289)),l=["daemonHealth"],c=function(n){var e=n.daemonHealth,t=(0,i.Z)(n,l),c=void 0;if(e){var d=e.allDaemonStatuses.filter((function(n){return"SCHEDULER"===n.daemonType}));if(d){var u=d[0];c=!(!u.required||!u.healthy)}}return!1===c?(0,a.jsx)(o.x,(0,r.Z)((0,r.Z)({},t),{},{children:(0,a.jsx)(s.b,{intent:"warning",title:"The scheduler daemon is not running.",description:(0,a.jsxs)("div",{children:["See the"," ",(0,a.jsx)("a",{href:"https://docs.dagster.io/deployment/dagster-daemon",children:"dagster-daemon documentation"})," ","for more information on how to deploy the dagster-daemon process."]})})})):null}},98191:function(n,e,t){t.d(e,{P:function(){return N},l:function(){return C}});var r=t(55113),i=t(32030),o=t(11831),s=t(23730),a=t(7838),l=t(762),c=t(54268),d=t(8412),u=t(75453),h=(t(325),t(74549)),p=t(69305),x=t(62997),f=t(45352),m=t(62e3),g=t(90933),j=t(76336),y=t(25582),v=t(3656),w=t(9315),b=t(68156),S=t(36243),k=t(32289),N=function(n){var e=n.repoAddress,t=n.schedules,l=(0,k.jsxs)("div",{style:{width:300},children:[(0,k.jsx)("p",{children:"The status of each partition in the partition set associated with this schedule."}),(0,k.jsx)("p",{children:"Partitions have a `Success` status if the last run for that partition completed successfully."}),(0,k.jsx)("p",{children:"Partititons have a `Missing` status if no run has been executed for that partition."})]});return(0,k.jsxs)(r.i,{children:[(0,k.jsx)("thead",{children:(0,k.jsxs)("tr",{children:[(0,k.jsx)("th",{style:{width:"60px"}}),(0,k.jsx)("th",{children:"Schedule name"}),(0,k.jsx)("th",{style:{width:"15%"},children:"Schedule"}),(0,k.jsx)("th",{style:{width:"10%"},children:"Next tick"}),(0,k.jsx)("th",{style:{width:"10%"},children:(0,k.jsxs)(i.x,{flex:{gap:8,alignItems:"end"},children:["Last tick",(0,k.jsx)(o.u,{position:"top",content:"Status of the last tick: One of `Started`, `Skipped`, `Requested`, `Failed`",children:(0,k.jsx)(s.JO,{name:"info",color:a.w.Gray400})})]})}),(0,k.jsx)("th",{style:{width:130},children:(0,k.jsxs)(i.x,{flex:{gap:8,alignItems:"end"},children:["Last run",(0,k.jsx)(o.u,{position:"top",content:"The status of the last run requested by this schedule",children:(0,k.jsx)(s.JO,{name:"info",color:a.w.Gray400})})]})}),(0,k.jsx)("th",{style:{width:"30%"},children:(0,k.jsxs)(i.x,{flex:{gap:8,alignItems:"end"},children:["Partition Set",(0,k.jsx)(o.u,{position:"top",content:l,children:(0,k.jsx)(s.JO,{name:"info",color:a.w.Gray400})})]})}),(0,k.jsx)("th",{style:{width:80}})]})}),(0,k.jsx)("tbody",{children:t.map((function(n){return(0,k.jsx)(I,{repoAddress:e,schedule:n},n.name)}))})]})},C=function(n,e){if(n===p.yn.STOPPED&&0===e)return null;if(n===p.yn.RUNNING&&1===e)return null;var t=[];return n===p.yn.RUNNING&&0===e?t.push("Schedule is set to be running, but either the scheduler is not configured or the scheduler is not running the schedule"):n===p.yn.STOPPED&&e>0&&t.push("Schedule is set to be stopped, but the scheduler is still running the schedule"),e>0&&t.push("Duplicate cron job for schedule found."),(0,k.jsx)(l.J,{interactionKind:"hover",popoverClassName:"bp3-popover-content-sizing",position:"right",content:(0,k.jsxs)(i.x,{flex:{direction:"column",gap:8},padding:12,children:[(0,k.jsx)("strong",{children:"There are errors with this schedule."}),(0,k.jsx)("div",{children:"Errors:"}),(0,k.jsx)("ul",{children:t.map((function(n,e){return(0,k.jsx)("li",{children:n},e)}))})]}),children:(0,k.jsx)(c.V,{fill:!0,interactive:!0,intent:"danger",children:"Error"})})},I=function(n){var e=n.repoAddress,t=n.schedule,r=(0,j.Ux)(e),c=(0,j.E8)(r,t.pipelineName),N=t.name,I=t.cronSchedule,R=t.executionTimezone,E=t.futureTicks,P=t.pipelineName,T=t.scheduleState,_=T.status,Z=T.ticks,O=T.runningCount,U=Z.length>0?Z[0]:null;return(0,k.jsxs)("tr",{children:[(0,k.jsx)("td",{children:(0,k.jsxs)(i.x,{flex:{direction:"column",gap:4},children:[(0,k.jsx)(w.M,{repoAddress:e,schedule:t}),C(_,O)]})}),(0,k.jsx)("td",{children:(0,k.jsxs)(i.x,{flex:{direction:"column",gap:4},children:[(0,k.jsx)("span",{style:{fontWeight:500},children:(0,k.jsx)(h.rU,{to:(0,y.$U)(e,"/schedules/".concat(N)),children:N})}),(0,k.jsx)(m.h,{showIcon:!0,size:"small",pipelineName:P,pipelineHrefContext:e,isJob:c})]})}),(0,k.jsx)("td",{children:I?(0,k.jsx)(o.u,{position:"bottom",content:I,children:(0,k.jsx)("span",{children:(0,S.A)(I,R||"UTC")})}):(0,k.jsx)("span",{style:{color:a.w.Gray300},children:"None"})}),(0,k.jsx)("td",{children:E.results.length&&_===p.yn.RUNNING?(0,k.jsx)(b.v,{timestamp:E.results[0].timestamp,timezone:R,timeFormat:{showSeconds:!1,showTimezone:!0}}):(0,k.jsx)("span",{style:{color:a.w.Gray300},children:"None"})}),(0,k.jsx)("td",{children:U?(0,k.jsx)(x.TW,{tick:U,instigationType:p._5.SCHEDULE}):(0,k.jsx)("span",{style:{color:a.w.Gray300},children:"None"})}),(0,k.jsx)("td",{children:(0,k.jsx)(f.UD,{instigationState:T})}),(0,k.jsx)("td",{children:t.partitionSet?(0,k.jsx)(v.b,{schedule:t,repoAddress:e}):(0,k.jsx)("div",{style:{color:a.w.Gray300},children:"None"})}),(0,k.jsx)("td",{children:t.partitionSet?(0,k.jsx)(l.J,{content:(0,k.jsxs)(d.v2,{children:[(0,k.jsx)(g.U,{text:"View Partition History...",icon:"dynamic_feed",target:"_blank",to:(0,y.$U)(e,"/".concat(c?"jobs":"pipelines","/").concat(P,"/partitions"))}),(0,k.jsx)(g.U,{text:"Launch Partition Backfill...",icon:"add_circle",target:"_blank",to:(0,y.$U)(e,"/".concat(c?"jobs":"pipelines","/").concat(P,"/partitions"))})]}),position:"bottom-left",children:(0,k.jsx)(u.zx,{icon:(0,k.jsx)(s.JO,{name:"expand_more"})})}):null})]},N)}},26304:function(n,e,t){t.d(e,{e:function(){return z},F:function(){return A}});var r,i=t(19065),o=t(31112),s=t(32030),a=t(12745),l=t(54268),c=t(57753),d=t(6466),u=t(8546),h=t(75453),p=t(325),x=t(19102),f=t(86655),m=t(69305),g=t(62997),j=t(30057),y=t(62e3),v=t(68156),w=t(76336),b=t(99500),S=t(85358),k=t(95550),N=t.n(k),C=t(49148),I=t(3159),R=t(33918),E=t(60652),P=t(7838),T=t(8358),_=(t(45436),t(14156)),Z=t(13065),O=t(79082),U=t(12436),L=t(32289),G=function(n){var e=n.sensorSelector,t=n.cursor,r=n.onClose,o=p.useState(t),s=(0,i.Z)(o,2),a=s[0],l=s[1],c=p.useState(!1),u=(0,i.Z)(c,2),x=u[0],f=u[1],m=(0,C.D)(F),g=(0,i.Z)(m,1)[0],j=function(){var n=(0,S.Z)(N().mark((function n(){var t,i,o;return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return f(!0),n.next=3,g({variables:{sensorSelector:e,cursor:a}});case 3:t=n.sent,"Sensor"===(null===(i=t.data)||void 0===i?void 0:i.setSensorCursor.__typename)?Z.L.show({message:"Cursor value updated",intent:"success"}):null!==i&&void 0!==i&&i.setSensorCursor&&(o=i.setSensorCursor,Z.L.show({intent:"danger",message:(0,L.jsxs)(d.Z,{direction:"row",spacing:8,children:[(0,L.jsx)("div",{children:"Could not set cursor value."}),(0,L.jsx)(E.Z,{color:P.w.White,underline:"always",onClick:function(){(0,_._)({title:"Python Error",body:"PythonError"===o.__typename?(0,L.jsx)(U.T9,{error:o}):"Sensor not found"})},children:"View error"})]})})),r();case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,L.jsxs)(T.Vq,{isOpen:!0,onClose:r,style:{width:"50vw"},title:"Edit ".concat(e.sensorName," cursor"),children:[(0,L.jsx)(T.a7,{children:(0,L.jsx)(R.Kx,{value:a,onChange:function(n){return l(n.target.value)},style:{width:"100%"}})}),(0,L.jsxs)(T.cN,{children:[(0,L.jsx)(h.zx,{onClick:r,children:"Cancel"}),(0,L.jsx)(h.zx,{intent:"primary",onClick:j,disabled:x,children:"Set cursor value"})]})]})},F=(0,I.Ps)(r||(r=(0,b.Z)(["\n  mutation SetSensorCursorMutation($sensorSelector: SensorSelector!, $cursor: String) {\n    setSensorCursor(sensorSelector: $sensorSelector, cursor: $cursor) {\n      ... on Sensor {\n        id\n        sensorState {\n          id\n          status\n          typeSpecificData {\n            ... on SensorData {\n              lastCursor\n            }\n          }\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n"])),O.B),D=t(86875),A=function(n){return n||(n=30),(n=Math.max(30,n))<60||n%60?"~".concat(n," sec"):3600===n?"~1 hour":n<3600||n%3600?"~".concat(n/60," min"):86400===n?"~1 day":n<86400||n%86400?"~".concat(n/3600," hours"):"~".concat(n/86400," days")},z=function(n){var e=n.sensor,t=n.repoAddress,r=n.daemonHealth,b=n.refreshState,S=e.name,k=e.sensorState,N=k.status,C=k.ticks,I=e.targets,R=e.metadata,E=p.useState(!1),P=(0,i.Z)(E,2),T=P[0],_=P[1],Z={sensorName:e.name,repositoryName:t.name,repositoryLocationName:t.location},O=(0,w.Ux)(t),U=null===O||void 0===O?void 0:O.repository.pipelines,F=C.length?C[0]:null,z=(null===I||void 0===I?void 0:I.length)||0,q=p.useMemo((function(){return new Set((I||[]).map((function(n){return n.pipelineName})))}),[I]),B=p.useMemo((function(){return(U||[]).some((function(n){return!n.isJob&&q.has(n.name)}))}),[U,q]),$=p.useMemo((function(){return B?z>1?"Jobs / Pipelines":"Pipeline":z>1?"Jobs":"Job"}),[B,z]),M=e.sensorState.typeSpecificData&&"SensorData"===e.sensorState.typeSpecificData.__typename&&e.sensorState.typeSpecificData.lastCursor;return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(o.m,{title:(0,L.jsxs)(s.x,{flex:{direction:"row",alignItems:"center",gap:12},children:[(0,L.jsx)(a.X6,{children:S}),(0,L.jsx)(D.c,{repoAddress:t,sensor:e})]}),icon:"sensors",tags:(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)(l.V,{icon:"sensors",children:["Sensor in ",(0,L.jsx)(j.b,{repoAddress:t})]}),e.nextTick&&r&&N===m.yn.RUNNING?(0,L.jsxs)(l.V,{icon:"timer",children:["Next tick: ",(0,L.jsx)(v.v,{timestamp:e.nextTick.timestamp})]}):null]}),right:(0,L.jsx)(s.x,{margin:{top:4},children:(0,L.jsx)(x.xi,{refreshState:b})})}),(0,L.jsx)(c.fJ,{children:(0,L.jsxs)("tbody",{children:[e.description?(0,L.jsxs)("tr",{children:[(0,L.jsx)("td",{children:"Description"}),(0,L.jsx)("td",{children:e.description})]}):null,(0,L.jsxs)("tr",{children:[(0,L.jsx)("td",{children:"Latest tick"}),(0,L.jsx)("td",{children:F?(0,L.jsx)(L.Fragment,{children:(0,L.jsxs)(s.x,{flex:{direction:"row",gap:8,alignItems:"center"},style:{marginTop:"-2px"},children:[(0,L.jsx)(v.v,{timestamp:F.timestamp}),(0,L.jsx)(g.TW,{tick:F,instigationType:m._5.SENSOR})]})}):"Sensor has never run"})]}),e.targets&&e.targets.length?(0,L.jsxs)("tr",{children:[(0,L.jsx)("td",{children:$}),(0,L.jsx)("td",{children:(0,L.jsx)(d.Z,{direction:"column",spacing:2,children:e.targets.map((function(n){return n.pipelineName?(0,L.jsx)(y.h,{pipelineName:n.pipelineName,pipelineHrefContext:t,isJob:!(!O||!(0,w.E8)(O,n.pipelineName))},n.pipelineName):null}))})})]}):null,(0,L.jsxs)("tr",{children:[(0,L.jsx)("td",{children:"Cursor"}),(0,L.jsxs)("td",{children:[T?(0,L.jsx)(G,{sensorSelector:Z,cursor:M||"",onClose:function(){return _(!1)}}):null,(0,L.jsxs)(s.x,{flex:{direction:"row",alignItems:"center"},children:[(0,L.jsx)(s.x,{style:{fontFamily:u.b.monospace,marginRight:10},children:M||"None"}),(0,L.jsx)(h.zx,{onClick:function(){return _(!0)},children:"Edit"})]})]})]}),(0,L.jsxs)("tr",{children:[(0,L.jsx)("td",{children:"Frequency"}),(0,L.jsx)("td",{children:A(e.minIntervalSeconds)})]}),R.assetKeys&&R.assetKeys.length?(0,L.jsxs)("tr",{children:[(0,L.jsx)("td",{children:"Monitored Assets"}),(0,L.jsx)("td",{children:(0,L.jsx)(s.x,{flex:{direction:"column",gap:2},children:R.assetKeys.map((function(n){return(0,L.jsx)(f.R,{path:n.path,icon:"asset"},n.path.join("/"))}))})})]}):null]})})]})}},57466:function(n,e,t){t.d(e,{F:function(){return c}});var r=t(95764),i=t(81034),o=t(32030),s=t(60736),a=(t(325),t(32289)),l=["daemonHealth"],c=function(n){var e=n.daemonHealth,t=(0,i.Z)(n,l),c=void 0;if(e){var d=e.allDaemonStatuses.filter((function(n){return"SENSOR"===n.daemonType}));if(d){var u=d[0];c=!(!u.required||!u.healthy)}}return!1===c?(0,a.jsx)(o.x,(0,r.Z)((0,r.Z)({},t),{},{children:(0,a.jsx)(s.b,{intent:"warning",title:"The sensor daemon is not running.",description:(0,a.jsxs)("div",{children:["See the"," ",(0,a.jsx)("a",{href:"https://docs.dagster.io/deployment/dagster-daemon",target:"_blank",rel:"noreferrer",children:"dagster-daemon documentation"})," ","for more information on how to deploy the dagster-daemon process."]})})})):null}},3580:function(n,e,t){t.d(e,{qN:function(){return a},E5:function(){return l},W2:function(){return c},Nh:function(){return d},X2:function(){return u}});var r=t(922),i=t(32030),o=t(7838),s=(t(325),t(32289)),a=function(n){var e=n.children;return(0,s.jsx)(i.x,{padding:{vertical:8,horizontal:24},border:{side:"right",width:1,color:o.w.KeylineGray},style:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},children:e})},l=function(n){var e=n.children;return(0,s.jsx)(i.x,{padding:{horizontal:24,vertical:12},flex:{direction:"column",justifyContent:"flex-start"},style:{color:o.w.Gray500,overflow:"hidden"},border:{side:"right",width:1,color:o.w.KeylineGray},children:e})},c=r.ZP.div.withConfig({displayName:"VirtualizedTable__Container",componentId:"sc-1e309bi-0"})(["height:100%;overflow:auto;"]),d=r.ZP.div.attrs((function(n){var e=n.$totalHeight;return{style:{height:"".concat(e,"px")}}})).withConfig({displayName:"VirtualizedTable__Inner",componentId:"sc-1e309bi-1"})(["position:relative;width:100%;"]),u=r.ZP.div.attrs((function(n){var e=n.$height,t=n.$start;return{style:{height:"".concat(e,"px"),transform:"translateY(".concat(t,"px)")}}})).withConfig({displayName:"VirtualizedTable__Row",componentId:"sc-1e309bi-2"})(["left:0;position:absolute;right:0;top:0;overflow:hidden;"])},65864:function(n,e,t){t.d(e,{w:function(){return r}});var r=function(n){var e=new Set,t=new Set;return n.forEach((function(n){e.has(n)?t.add(n):e.add(n)})),t}},71824:function(n,e,t){t.d(e,{N:function(){return c}});var r=t(19065),i=t(325),o=t(52848),s=t(76314),a=t(33902),l=function(n){return Array.isArray(n)?n:[]},c=function(n,e){var t=function(n,e){return"".concat(n,":dagit.").concat(e)}(i.useContext(o.I).basePath,n),c=(0,s.U)(t,l),d=(0,r.Z)(c,2),u=d[0],h=d[1],p=i.useCallback((function(n){var e=(0,a.Uz)(n);h((function(n){var t=new Set(n||[]);return t.has(e)?t.delete(e):t.add(e),Array.from(t)}))}),[h]),x=i.useCallback((function(n){h((function(t){var r=new Set(t||[]);return e.forEach((function(e){n?r.delete(e):r.add(e)})),Array.from(r)}))}),[e,h]),f=i.useMemo((function(){var n=new Set(u);return e.filter((function(e){return!n.has(e)}))}),[e,u]);return i.useMemo((function(){return{expandedKeys:f,onToggle:p,onToggleAll:x}}),[f,p,x])}},82426:function(n,e,t){t.d(e,{I:function(){return q},b:function(){return z}});var r,i,o=t(99500),s=t(59019),a=t(19065),l=t(922),c=t(65880),d=t(3159),u=t(7838),h=t(14198),p=t(32030),x=t(325),f=t(74549),m=t(19102),g=t(8412),j=t(762),y=t(11831),v=t(75453),w=t(23730),b=t(63579),S=t(3148),k=t(92497),N=t(79580),C=t(90933),I=t(25582),R=t(32289),E=function(n){var e=n.job,t=n.repoAddress,r=e.runs.length?e.runs[0]:null,i=(0,b.xz)(t.location).canLaunchPipelineReexecution,o=(0,c.t)(P),s=(0,a.Z)(o,2),l=s[0],d=s[1].data,u="Run"===(null===d||void 0===d?void 0:d.pipelineRunOrError.__typename)?null===d||void 0===d?void 0:d.pipelineRunOrError:null,h=x.useCallback((function(){null!==r&&void 0!==r&&r.id&&l({variables:{runId:r.id}})}),[r,l]),p=(0,N.W)(u),f=(0,R.jsx)(g.sN,{icon:"replay",text:"Re-execute latest run",onClick:function(){return p({type:"all"})},disabled:!i.enabled||!u||!(0,S.EP)(u)}),m=(0,R.jsx)(g.sN,{icon:"sync_problem",text:"Re-execute latest run from failure",onClick:function(){return p({type:"from-failure"})},disabled:!i.enabled||!u||!(0,S.VM)(u)});return(0,R.jsx)(j.J,{onOpened:function(){return h()},content:(0,R.jsxs)(g.v2,{children:[(0,R.jsx)(C.U,{to:(0,I.jT)({repoName:t.name,repoLocation:t.location,pipelineName:e.name,isJob:e.isJob}),icon:"job",text:"View job"}),(0,R.jsx)(C.U,{to:(0,I.jT)({repoName:t.name,repoLocation:t.location,pipelineName:e.name,isJob:e.isJob,path:"/runs"}),icon:"checklist",text:"View all recent runs"}),i.enabled?f:(0,R.jsx)(y.u,{content:i.disabledReason,display:"block",children:f}),i.enabled?m:(0,R.jsx)(y.u,{content:i.disabledReason,display:"block",children:m})]}),position:"bottom-left",children:(0,R.jsx)(v.zx,{icon:(0,R.jsx)(w.JO,{name:"expand_more"})})})},P=(0,d.Ps)(r||(r=(0,o.Z)(["\n  query RunReExecutionQuery($runId: ID!) {\n    pipelineRunOrError(runId: $runId) {\n      ... on Run {\n        id\n        ...RunFragment\n      }\n    }\n  }\n\n  ","\n"])),k.J3),T=t(85548),_=t(86476),Z=t(9091),O=t(55752),U=t(9315),L=t(86875),G=t(3580),F=t(16279),D=t(76336),A="1.5fr 1fr 180px 96px 80px",z=function(n){var e=n.name,t=n.isJob,r=n.repoAddress,i=n.start,o=n.height,l=(0,c.t)(M,{variables:{selector:(0,D._T)(r,e)}}),d=(0,a.Z)(l,2),g=d[0],j=d[1];(0,F.v5)(g),(0,m.C4)(j,m.dT);var y=j.data,v=x.useMemo((function(){if("Pipeline"===(null===y||void 0===y?void 0:y.pipelineOrError.__typename)){var n=y.pipelineOrError;return{schedules:n.schedules,sensors:n.sensors}}return{schedules:[],sensors:[]}}),[y]),w=v.schedules,b=v.sensors,S=x.useMemo((function(){if("Pipeline"===(null===y||void 0===y?void 0:y.pipelineOrError.__typename)){var n=y.pipelineOrError.runs;if(n.length)return(0,s.Z)(n)}return[]}),[y]);return(0,R.jsx)(G.X2,{$height:o,$start:i,children:(0,R.jsxs)(B,{border:{side:"bottom",width:1,color:u.w.KeylineGray},children:[(0,R.jsxs)(G.E5,{children:[(0,R.jsx)("div",{style:{maxWidth:"100%",whiteSpace:"nowrap",fontWeight:500},children:(0,R.jsx)(f.rU,{to:(0,I.$U)(r,"/jobs/".concat(e)),children:(0,R.jsx)(h.g,{text:e})})}),(0,R.jsx)(F.HB,{children:"Pipeline"===(null===y||void 0===y?void 0:y.pipelineOrError.__typename)?y.pipelineOrError.description:""})]}),(0,R.jsx)(G.E5,{children:w.length||b.length?(0,R.jsx)(p.x,{flex:{direction:"column",alignItems:"flex-start",gap:8},children:(0,R.jsx)($,{children:(0,R.jsx)(_.I,{schedules:w,sensors:b,repoAddress:r})})}):(0,R.jsx)(F.mq,{queryResult:j})}),(0,R.jsx)(G.E5,{children:S.length?(0,R.jsx)(T.Z,{run:S[0],showButton:!1,showHover:!0,showSummary:!1,name:e}):(0,R.jsx)(F.mq,{queryResult:j})}),(0,R.jsx)(G.E5,{children:S.length?(0,R.jsx)(p.x,{padding:{top:4},children:(0,R.jsx)(Z.JH,{jobName:e,runs:(0,s.Z)(S).reverse(),fade:!0})}):(0,R.jsx)(F.mq,{queryResult:j})}),(0,R.jsx)(G.E5,{children:(0,R.jsx)(p.x,{flex:{justifyContent:"flex-end"},style:{marginTop:"-2px"},children:(0,R.jsx)(E,{job:{isJob:t,name:e,runs:S},repoAddress:r})})})]})})},q=function(){return(0,R.jsxs)(p.x,{border:{side:"horizontal",width:1,color:u.w.KeylineGray},style:{display:"grid",gridTemplateColumns:A,height:"32px",fontSize:"12px",color:u.w.Gray600},children:[(0,R.jsx)(G.qN,{children:"Name"}),(0,R.jsx)(G.qN,{children:"Schedules/sensors"}),(0,R.jsx)(G.qN,{children:"Latest run"}),(0,R.jsx)(G.qN,{children:"Run history"}),(0,R.jsx)(G.qN,{})]})},B=(0,l.ZP)(p.x).withConfig({displayName:"VirtualizedJobRow__RowGrid",componentId:"otbkv8-0"})(["display:grid;grid-template-columns:",";height:100%;"],A),$=l.ZP.div.withConfig({displayName:"VirtualizedJobRow__ScheduleSensorTagContainer",componentId:"otbkv8-1"})(["width:100%;> .bp3-popover2-target{width:100%;}"]),M=(0,d.Ps)(i||(i=(0,o.Z)(["\n  query SingleJobQuery($selector: PipelineSelector!) {\n    pipelineOrError(params: $selector) {\n      ... on Pipeline {\n        id\n        name\n        isJob\n        description\n        runs(limit: 5) {\n          id\n          ...RunTimeFragment\n        }\n        schedules {\n          id\n          ...ScheduleSwitchFragment\n        }\n        sensors {\n          id\n          ...SensorSwitchFragment\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n"])),O.$X,U.J,L.U)},31834:function(n,e,t){t.d(e,{i:function(){return G},o:function(){return F}});var r,i=t(99500),o=t(19065),s=t(922),a=t(65880),l=t(3159),c=t(7838),d=t(32030),u=t(14198),h=t(12745),p=t(11831),x=t(762),f=t(8412),m=t(75453),g=t(23730),j=t(325),y=t(74549),v=t(19102),w=t(69305),b=t(85548),S=t(62997),k=t(62e3),N=t(55752),C=t(9315),I=t(98191),R=t(68156),E=t(36243),P=t(90933),T=t(3580),_=t(16279),Z=t(76336),O=t(25582),U=t(32289),L="76px 1fr 1fr 148px 180px 80px",G=function(n){var e=n.name,t=n.repoAddress,r=n.start,i=n.height,s=(0,Z.Ux)(t),l=(0,a.t)(z,{variables:{selector:{repositoryName:t.name,repositoryLocationName:t.location,scheduleName:e}},notifyOnNetworkStatusChange:!0}),N=(0,o.Z)(l,2),L=N[0],G=N[1];(0,_.v5)(L),(0,v.C4)(G,v.dT);var F=G.data,q=j.useMemo((function(){return"Schedule"!==(null===F||void 0===F?void 0:F.scheduleOrError.__typename)?null:F.scheduleOrError}),[F]),B=!(!q||!(0,Z.E8)(s,q.pipelineName)),$=q?(0,E.A)(q.cronSchedule,q.executionTimezone||"UTC"):"";return(0,U.jsx)(T.X2,{$height:i,$start:r,children:(0,U.jsxs)(D,{border:{side:"bottom",width:1,color:c.w.KeylineGray},children:[(0,U.jsx)(T.E5,{children:q?(0,U.jsxs)(d.x,{flex:{direction:"column",gap:4},children:[(0,U.jsx)(C.M,{repoAddress:t,schedule:q},e),(0,I.l)(q.scheduleState.status,q.scheduleState.runningCount)]}):null}),(0,U.jsx)(T.E5,{children:(0,U.jsxs)(d.x,{flex:{direction:"column",gap:4},children:[(0,U.jsx)("span",{style:{fontWeight:500},children:(0,U.jsx)(y.rU,{to:(0,O.$U)(t,"/schedules/".concat(e)),children:(0,U.jsx)(u.g,{text:e})})}),q?(0,U.jsx)(h.YS,{children:(0,U.jsx)(k.h,{showIcon:!0,size:"small",pipelineName:q.pipelineName,pipelineHrefContext:t,isJob:B})}):null]})}),(0,U.jsx)(T.E5,{children:q?(0,U.jsxs)(d.x,{flex:{direction:"column",gap:4},children:[(0,U.jsx)(A,{style:{maxWidth:"100%"},children:(0,U.jsx)(p.u,{position:"top-left",content:q.cronSchedule,display:"block",children:(0,U.jsx)("div",{style:{color:c.w.Dark,overflow:"hidden",whiteSpace:"nowrap",maxWidth:"100%",textOverflow:"ellipsis"},title:$,children:$})})}),q.scheduleState.nextTick&&q.scheduleState.status===w.yn.RUNNING?(0,U.jsx)(h.YS,{children:(0,U.jsxs)("div",{style:{overflow:"hidden",whiteSpace:"nowrap",maxWidth:"100%",textOverflow:"ellipsis"},children:["Next tick:\xa0",(0,U.jsx)(R.v,{timestamp:q.scheduleState.nextTick.timestamp,timezone:q.executionTimezone,timeFormat:{showSeconds:!1,showTimezone:!0}})]})}):null]}):(0,U.jsx)(_.mq,{queryResult:G})}),(0,U.jsx)(T.E5,{children:null!==q&&void 0!==q&&q.scheduleState.ticks.length?(0,U.jsx)("div",{children:(0,U.jsx)(S.TW,{tick:q.scheduleState.ticks[0],instigationType:w._5.SCHEDULE})}):(0,U.jsx)(_.mq,{queryResult:G})}),(0,U.jsx)(T.E5,{children:null!==q&&void 0!==q&&q.scheduleState&&(null===q||void 0===q?void 0:q.scheduleState.runs.length)>0?(0,U.jsx)(b.Z,{run:q.scheduleState.runs[0],name:e,showButton:!1,showHover:!0,showSummary:!1}):(0,U.jsx)(_.mq,{queryResult:G})}),(0,U.jsx)(T.E5,{children:null!==q&&void 0!==q&&q.partitionSet?(0,U.jsx)(x.J,{content:(0,U.jsxs)(f.v2,{children:[(0,U.jsx)(P.U,{text:"View partition history",icon:"dynamic_feed",target:"_blank",to:(0,O.$U)(t,"/".concat(B?"jobs":"pipelines","/").concat(q.pipelineName,"/partitions"))}),(0,U.jsx)(P.U,{text:"Launch partition backfill",icon:"add_circle",target:"_blank",to:(0,O.$U)(t,"/".concat(B?"jobs":"pipelines","/").concat(q.pipelineName,"/partitions"))})]}),position:"bottom-left",children:(0,U.jsx)(m.zx,{icon:(0,U.jsx)(g.JO,{name:"expand_more"})})}):null})]})})},F=function(){return(0,U.jsxs)(d.x,{border:{side:"horizontal",width:1,color:c.w.KeylineGray},style:{display:"grid",gridTemplateColumns:L,height:"32px",fontSize:"12px",color:c.w.Gray600},children:[(0,U.jsx)(T.qN,{}),(0,U.jsx)(T.qN,{children:"Schedule name"}),(0,U.jsx)(T.qN,{children:"Schedule"}),(0,U.jsx)(T.qN,{children:"Last tick"}),(0,U.jsx)(T.qN,{children:"Last run"}),(0,U.jsx)(T.qN,{})]})},D=(0,s.ZP)(d.x).withConfig({displayName:"VirtualizedScheduleRow__RowGrid",componentId:"sc-9ps3vz-0"})(["display:grid;grid-template-columns:",";height:100%;"],L),A=s.ZP.div.withConfig({displayName:"VirtualizedScheduleRow__ScheduleStringContainer",componentId:"sc-9ps3vz-1"})(["max-width:100%;.bp3-popover2-target{max-width:100%;:focus{outline:none;}}"]),z=(0,l.Ps)(r||(r=(0,i.Z)(["\n  query SingleScheduleQuery($selector: ScheduleSelector!) {\n    scheduleOrError(scheduleSelector: $selector) {\n      ... on Schedule {\n        id\n        name\n        pipelineName\n        description\n        scheduleState {\n          id\n          runningCount\n          ticks(limit: 1) {\n            id\n            ...TickTagFragment\n          }\n          runs(limit: 1) {\n            id\n            ...RunTimeFragment\n          }\n          nextTick {\n            timestamp\n          }\n        }\n        partitionSet {\n          id\n          name\n        }\n        ...ScheduleSwitchFragment\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n"])),S.dY,N.$X,C.J)},19377:function(n,e,t){t.d(e,{R:function(){return P},K:function(){return T}});var r,i=t(99500),o=t(19065),s=t(922),a=t(65880),l=t(3159),c=t(7838),d=t(32030),u=t(14198),h=t(12745),p=t(325),x=t(74549),f=t(19102),m=t(86655),g=t(69305),j=t(85548),y=t(62997),v=t(62e3),w=t(55752),b=t(26304),S=t(86875),k=t(3580),N=t(16279),C=t(76336),I=t(25582),R=t(32289),E="76px 1.5fr 1fr 120px 148px 180px",P=function(n){var e=n.name,t=n.repoAddress,r=n.start,i=n.height,s=(0,C.Ux)(t),l=(0,a.t)(Z,{variables:{selector:{repositoryName:t.name,repositoryLocationName:t.location,sensorName:e}}}),w=(0,o.Z)(l,2),E=w[0],P=w[1];(0,N.v5)(E),(0,f.C4)(P,f.dT);var T=P.data,O=p.useMemo((function(){return"Sensor"!==(null===T||void 0===T?void 0:T.sensorOrError.__typename)?null:T.sensorOrError}),[T]);return(0,R.jsx)(k.X2,{$height:i,$start:r,children:(0,R.jsxs)(_,{border:{side:"bottom",width:1,color:c.w.KeylineGray},children:[(0,R.jsx)(k.E5,{children:O?(0,R.jsx)(d.x,{flex:{direction:"column",gap:4},children:(0,R.jsx)(S.c,{repoAddress:t,sensor:O},e)}):null}),(0,R.jsx)(k.E5,{children:(0,R.jsxs)(d.x,{flex:{direction:"column",gap:4},children:[(0,R.jsx)("span",{style:{fontWeight:500},children:(0,R.jsx)(x.rU,{to:(0,I.$U)(t,"/sensors/".concat(e)),children:(0,R.jsx)(u.g,{text:e})})}),(0,R.jsx)("div",{style:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis"},children:(0,R.jsx)(h.YS,{style:{color:c.w.Gray500,whiteSpace:"nowrap"},children:null===O||void 0===O?void 0:O.description})})]})}),(0,R.jsx)(k.E5,{children:(0,R.jsxs)(d.x,{flex:{direction:"column",gap:4},style:{fontSize:"12px"},children:[null!==O&&void 0!==O&&O.targets&&O.targets.length?(0,R.jsx)(d.x,{flex:{direction:"column",gap:2},children:O.targets.map((function(n){return(0,R.jsx)(v.h,{showIcon:!0,size:"small",pipelineName:n.pipelineName,pipelineHrefContext:t,isJob:!(!s||!(0,C.E8)(s,n.pipelineName))},n.pipelineName)}))}):null,null!==O&&void 0!==O&&O.metadata.assetKeys&&O.metadata.assetKeys.length?(0,R.jsx)(d.x,{flex:{direction:"column",gap:2},children:O.metadata.assetKeys.map((function(n){return(0,R.jsx)(m.R,{path:n.path,icon:"asset"},n.path.join("/"))}))}):null]})}),(0,R.jsx)(k.E5,{children:O?(0,R.jsx)("div",{style:{color:c.w.Dark},children:(0,b.F)(O.minIntervalSeconds)}):(0,R.jsx)(N.mq,{queryResult:P})}),(0,R.jsx)(k.E5,{children:null!==O&&void 0!==O&&O.sensorState.ticks.length?(0,R.jsx)("div",{children:(0,R.jsx)(y.TW,{tick:O.sensorState.ticks[0],instigationType:g._5.SENSOR})}):(0,R.jsx)(N.mq,{queryResult:P})}),(0,R.jsx)(k.E5,{children:null!==O&&void 0!==O&&O.sensorState&&(null===O||void 0===O?void 0:O.sensorState.runs.length)>0?(0,R.jsx)(j.Z,{run:O.sensorState.runs[0],name:e,showButton:!1,showHover:!0,showSummary:!1}):(0,R.jsx)(N.mq,{queryResult:P})})]})})},T=function(){return(0,R.jsxs)(d.x,{border:{side:"horizontal",width:1,color:c.w.KeylineGray},style:{display:"grid",gridTemplateColumns:E,height:"32px",fontSize:"12px",color:c.w.Gray600},children:[(0,R.jsx)(k.qN,{}),(0,R.jsx)(k.qN,{children:"Name"}),(0,R.jsx)(k.qN,{children:"Job / Asset"}),(0,R.jsx)(k.qN,{children:"Frequency"}),(0,R.jsx)(k.qN,{children:"Last tick"}),(0,R.jsx)(k.qN,{children:"Last run"})]})},_=(0,s.ZP)(d.x).withConfig({displayName:"VirtualizedSensorRow__RowGrid",componentId:"sc-1sgrm9e-0"})(["display:grid;grid-template-columns:",";height:100%;"],E),Z=(0,l.Ps)(r||(r=(0,i.Z)(["\n  query SingleSensorQuery($selector: SensorSelector!) {\n    sensorOrError(sensorSelector: $selector) {\n      ... on Sensor {\n        id\n        description\n        name\n        targets {\n          pipelineName\n        }\n        metadata {\n          assetKeys {\n            path\n          }\n        }\n        minIntervalSeconds\n        description\n        sensorState {\n          id\n          runningCount\n          ticks(limit: 1) {\n            id\n            ...TickTagFragment\n          }\n          runs(limit: 1) {\n            id\n            ...RunTimeFragment\n          }\n          nextTick {\n            timestamp\n          }\n        }\n        ...SensorSwitchFragment\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n"])),y.dY,w.$X,S.U)},16279:function(n,e,t){t.d(e,{vG:function(){return d},mq:function(){return u},HB:function(){return h},v5:function(){return x}});var r=t(922),i=t(7838),o=t(12745),s=t(325),a=t(35815),l=t(3580),c=t(32289),d=function(n){var e=n.repoAddress,t=n.height,r=n.start,i=n.expanded,o=n.onToggle,s=n.onToggleAll,d=n.showLocation,u=n.rightElement;return(0,c.jsx)(l.X2,{$height:t,$start:r,children:(0,c.jsx)(a.L,{repoName:e.name,repoLocation:e.location,expanded:i,onClick:function(n){return n.getModifierState("Shift")?s(!i):o(e)},showLocation:d,rightElement:u})})},u=function(n){var e=n.queryResult,t=n.noneString,r=void 0===t?"None":t,o=e.called,s=e.loading,a=e.data;return(0,c.jsx)("div",{style:{color:i.w.Gray500},children:!o||s&&!a?"Loading":r})},h=function(n){var e=n.children;return(0,c.jsx)(p,{children:(0,c.jsx)(o.YS,{children:e})})},p=r.ZP.div.withConfig({displayName:"VirtualizedWorkspaceTable__CaptionTextContainer",componentId:"k24uol-0"})(["max-width:100%;overflow:hidden;text-overflow:ellipsis;","{color:",";white-space:nowrap;}"],o.YS,i.w.Gray500),x=function(n){s.useEffect((function(){var e=setTimeout((function(){n()}),100);return function(){return clearTimeout(e)}}),[n])}}}]);
//# sourceMappingURL=113.2136a32d.chunk.js.map