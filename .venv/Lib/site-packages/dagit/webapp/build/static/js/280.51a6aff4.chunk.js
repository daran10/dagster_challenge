"use strict";(self.webpackChunk_dagster_io_dagit_app=self.webpackChunk_dagster_io_dagit_app||[]).push([[280],{86655:function(e,n,t){t.d(n,{R:function(){return p}});var i=t(59019),r=t(32030),s=t(23730),a=t(7838),o=t(14198),l=(t(325),t(74549)),d=t(77171),c=t(32289),p=function(e){var n=e.path,t=e.icon,p=e.url,u=e.isGroup,x=e.textStyle,h=void 0===x?"break-word":x,m=p||(0,d.p)({path:n}),f=n.reduce((function(e,n,t){return[].concat((0,i.Z)(e),[t>0?" / ":"",n])}),[]).join("")+(u?"/":"");return(0,c.jsxs)(r.x,{flex:{direction:"row",alignItems:"flex-start",display:"inline-flex"},style:{maxWidth:"100%"},children:[t?(0,c.jsx)(r.x,{margin:{right:8,top:2},children:(0,c.jsx)(s.JO,{name:t,color:a.w.Gray400})}):null,(0,c.jsx)(l.rU,{to:m,style:{overflow:"hidden"},children:"break-word"===h?(0,c.jsx)("span",{style:{wordBreak:"break-word"},children:f}):(0,c.jsx)(o.g,{text:f})})]})}},25502:function(e,n,t){t.r(n),t.d(n,{AssetsCatalogRoot:function(){return Qn},default:function(){return Yn}});var i,r=t(99500),s=t(73701),a=t(3159),o=t(30804),l=t(32030),d=t(34595),c=t(7838),p=t(325),u=t(27601),x=t(78093),h=t(39061),m=t(82348),f=t(78072),g=t(1223),j=t(95764),y=t(19065),v=t(31269),w=t(32028),b=t(89646),N=t(60736),I=t(60652),K=t(54268),S=t(74549),C=t(19102),z=t(55419),_=t(18819),k=t(64424),A=t(90815),E=t(6297),O=t(44198),D=t(30057),Z=t(37099),G=t(25582),L=t(12745),M=t(87011),P=t(23730),U=t(6466),T=t(62e3),F=t(59549),R=t(55752),B=t(76336),$=t(922),J=t(13008),V=t.n(J),H=t(4735),W=t(32289),q=function(e){var n=e.event,t=e.observations;if(!n||!n.metadataEntries.length&&(null===t||void 0===t||!t.length))return(0,W.jsx)(L.YS,{color:c.w.Gray500,children:"No materializations"});var i=n.metadataEntries,r=n.timestamp;return(0,W.jsx)(Q,{children:(0,W.jsx)(Y,{children:(0,W.jsxs)("tbody",{children:[i.map((function(e){return(0,W.jsxs)("tr",{children:[(0,W.jsx)("td",{children:(0,W.jsx)(L.fv,{children:e.label})}),(0,W.jsx)("td",{children:(0,W.jsx)(L.fv,{children:(0,W.jsx)(H.BL,{entry:e,expandSmallValues:!0})})}),(0,W.jsx)("td",{style:{opacity:.7},children:e.description})]},"metadata-".concat(e.label))})),(t||[]).map((function(e){return(0,W.jsx)(p.Fragment,{children:e.metadataEntries.map((function(n){return(0,W.jsxs)("tr",{children:[(0,W.jsx)("td",{children:(0,W.jsx)(L.fv,{children:n.label})}),(0,W.jsx)("td",{children:(0,W.jsx)(L.fv,{children:(0,W.jsx)(H.BL,{entry:n,expandSmallValues:!0})})}),(0,W.jsxs)("td",{style:{opacity:.7},children:[(0,W.jsxs)(l.x,{flex:{gap:8},children:[(0,W.jsx)(P.JO,{name:"observation",size:16,style:{marginTop:2}}),(0,W.jsxs)("span",{children:["".concat(e.stepKey," in "),(0,W.jsx)(S.rU,{to:"/runs/".concat(e.runId,"?timestamp=").concat(e.timestamp),children:(0,W.jsx)(L.fv,{children:(0,R.EI)({runId:e.runId})})})]})]}),(0,W.jsx)(L.YS,{style:{marginLeft:24},children:"(".concat(V()(e.timestamp).from(r,!0)," later)")}),n.description]})]},"metadata-".concat(e.timestamp,"-").concat(n.label))}))},e.timestamp)}))]})})})},Q=$.ZP.div.withConfig({displayName:"AssetEventMetadataEntriesTable__AssetEventMetadataScrollContainer",componentId:"cvsmtb-0"})(["width:100%;overflow-x:auto;"]),Y=$.ZP.table.withConfig({displayName:"AssetEventMetadataEntriesTable__AssetEventMetadataTable",componentId:"cvsmtb-1"})(["width:100%;border-spacing:0;border-collapse:collapse;tr td:first-child{max-width:300px;word-wrap:break-word;width:25%;}tr td{border:1px solid ",";padding:8px 12px;font-size:14px;vertical-align:top;}"],c.w.KeylineGray),X=t(91847),ee=t(52598),ne=t(59019),te=t(14198),ie=t(93975),re=t.n(ie),se=t(77171);V().extend(re());var ae,oe,le,de,ce=function(e){var n,t=e.assetKey,i=e.timestamp,r=(0,s.a)(pe,{skip:!i,variables:{assetKey:t,timestamp:i||""}}),a=(0,h.ll)(t),o="AssetNode"===(null===(n=r.data)||void 0===n?void 0:n.assetNodeOrError.__typename)?r.data.assetNodeOrError.assetMaterializationUsedData:[],d=function e(n,t,r){var s=(0,h.ll)(n.assetKey),a=(0,se.p)(n.assetKey,{view:"events",time:n.timestamp});return[(0,W.jsxs)("tr",{children:[(0,W.jsx)("td",{children:(0,W.jsxs)(l.x,{flex:{gap:4},style:{paddingLeft:20*Math.max(0,t)},children:[r&&(0,W.jsx)(P.JO,{name:"arrow_indent",style:{marginLeft:-20}}),(0,W.jsx)(S.rU,{to:a,children:(0,W.jsxs)(l.x,{flex:{gap:4},children:[(0,W.jsx)(P.JO,{name:"asset"}),(0,W.jsx)(te.g,{text:s})]})})]})}),(0,W.jsx)("td",{children:(0,W.jsxs)(l.x,{flex:{gap:8},style:{whiteSpace:"nowrap"},children:[(0,W.jsx)(S.rU,{to:a,children:(0,W.jsx)(z.E,{timestamp:{ms:Number(n.timestamp)},timeFormat:{showSeconds:!0,showTimezone:!1}})}),(0,W.jsxs)("span",{children:["(",V()(Number(n.timestamp)).from(Number(i),!0)," earlier)"]})]})})]},s)].concat((0,ne.Z)(o.filter((function(e){return(0,h.ll)(e.downstreamAssetKey)===s})).map((function(n,i){return e(n,t+1,0===i)}))))};return r.loading?(0,W.jsx)(ue,{children:(0,W.jsx)("tbody",{children:(0,W.jsx)("tr",{children:(0,W.jsx)("td",{children:"Loading\u2026"})})})}):o.length?(0,W.jsx)(ue,{children:(0,W.jsx)("tbody",{children:o.filter((function(e){return(0,h.ll)(e.downstreamAssetKey)===a})).map((function(e){return d(e,0,!1)}))})}):(0,W.jsx)(ue,{children:(0,W.jsx)("tbody",{children:(0,W.jsx)("tr",{children:(0,W.jsx)("td",{children:"No materializations to display."})})})})},pe=(0,a.Ps)(i||(i=(0,r.Z)(["\n  query AssetMaterializationUpstreamQuery($assetKey: AssetKeyInput!, $timestamp: String!) {\n    assetNodeOrError(assetKey: $assetKey) {\n      __typename\n      ... on AssetNode {\n        id\n        assetMaterializationUsedData(timestampMillis: $timestamp) {\n          ...MaterializationUpstreamDataVersionFragment\n        }\n      }\n    }\n  }\n\n  fragment MaterializationUpstreamDataVersionFragment on MaterializationUpstreamDataVersion {\n    __typename\n    timestamp\n    assetKey {\n      path\n    }\n    downstreamAssetKey {\n      path\n    }\n  }\n"]))),ue=$.ZP.table.withConfig({displayName:"AssetMaterializationUpstreamData__AssetUpstreamDataTable",componentId:"s4nk8c-0"})(["width:100%;border-spacing:0;border-collapse:collapse;tr td{border:1px solid ",";padding:8px 12px;font-size:14px;vertical-align:top;}"],c.w.KeylineGray),xe=function(e){var n,t=e.event,i=e.assetKey,r="Run"===(null===(n=t.runOrError)||void 0===n?void 0:n.__typename)?t.runOrError:null,s=null===r||void 0===r?void 0:r.repositoryOrigin,a=s?(0,Z.kQ)(s.repositoryName,s.repositoryLocationName):null,o=(0,B.Ux)(a),d="MaterializationEvent"===t.__typename?t.assetLineage:[];return(0,W.jsxs)(l.x,{padding:{horizontal:24,bottom:24},style:{flex:1},children:[(0,W.jsx)(l.x,{padding:{vertical:24},border:{side:"bottom",width:1,color:c.w.KeylineGray},flex:{alignItems:"center",justifyContent:"space-between"},children:(0,W.jsx)(L.X6,{children:(0,W.jsx)(z.E,{timestamp:{ms:Number(t.timestamp)}})})}),(0,W.jsxs)(l.x,{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr",gap:16},border:{side:"bottom",width:1,color:c.w.KeylineGray},padding:{vertical:16},children:[(0,W.jsxs)(l.x,{flex:{gap:4,direction:"column"},children:[(0,W.jsx)(L.pm,{children:"Event"}),"MaterializationEvent"===t.__typename?(0,W.jsxs)(l.x,{flex:{gap:4},children:[(0,W.jsx)(P.JO,{name:"materialization"}),"Materialization"]}):(0,W.jsxs)(l.x,{flex:{gap:4},children:[(0,W.jsx)(P.JO,{name:"observation"}),"Observation"]})]}),t.partition&&(0,W.jsxs)(l.x,{flex:{gap:4,direction:"column"},children:[(0,W.jsx)(L.pm,{children:"Partition"}),(0,W.jsx)(l.x,{flex:{gap:4},children:t.partition})]}),(0,W.jsxs)(l.x,{flex:{gap:4,direction:"column"},style:{minHeight:64},children:[(0,W.jsx)(L.pm,{children:"Run"}),r?(0,W.jsxs)(l.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,W.jsx)(F.hk,{runId:r.runId,status:r.status}),(0,W.jsx)(S.rU,{to:(0,R.tA)(r,t),children:(0,W.jsx)(L.fv,{children:(0,R.EI)(r)})})]}):"\u2014"]}),(0,W.jsxs)(l.x,{flex:{gap:4,direction:"column"},children:[(0,W.jsx)(L.pm,{children:"Job"}),r&&!(0,h.pv)(r.pipelineName)?(0,W.jsxs)(l.x,{children:[(0,W.jsx)(l.x,{children:(0,W.jsx)(T.h,{showIcon:!0,pipelineName:r.pipelineName,pipelineHrefContext:a||"repo-unknown",snapshotId:r.pipelineSnapshotId,isJob:(0,B.E8)(o,r.pipelineName)})}),(0,W.jsxs)(U.Z,{direction:"row",spacing:8,alignItems:"center",children:[(0,W.jsx)(P.JO,{name:"linear_scale",color:c.w.Gray400}),(0,W.jsx)(S.rU,{to:(0,R.tA)(r,t),children:t.stepKey})]})]}):"\u2014"]})]}),t.description&&(0,W.jsxs)(l.x,{padding:{top:24},flex:{direction:"column",gap:8},children:[(0,W.jsx)(L.pm,{children:"Description"}),t.description]}),(0,W.jsxs)(l.x,{padding:{top:24},flex:{direction:"column",gap:8},children:[(0,W.jsx)(L.pm,{children:"Metadata"}),(0,W.jsx)(q,{event:t})]}),"MaterializationEvent"===t.__typename&&(0,W.jsxs)(l.x,{padding:{top:24},flex:{direction:"column",gap:8},children:[(0,W.jsx)(L.pm,{children:"Source data"}),(0,W.jsx)(ce,{timestamp:t.timestamp,assetKey:i})]}),(0,W.jsxs)(l.x,{padding:{top:24},flex:{direction:"column",gap:8},children:[(0,W.jsx)(L.pm,{children:"System tags"}),(0,W.jsx)(X.M,{event:t,collapsible:!0})]}),d.length>0&&(0,W.jsxs)(l.x,{padding:{top:24},flex:{direction:"column",gap:8},children:[(0,W.jsx)(L.pm,{children:"Parent materializations"}),(0,W.jsx)(ee.i,{elements:d,timestamp:t.timestamp})]})]})},he=function(){return(0,W.jsxs)(l.x,{padding:{horizontal:24},style:{flex:1},children:[(0,W.jsx)(l.x,{padding:{vertical:24},border:{side:"bottom",width:1,color:c.w.KeylineGray},flex:{alignItems:"center",justifyContent:"space-between"},children:(0,W.jsx)(L.X6,{color:c.w.Gray400,children:"No Event Selected"})}),(0,W.jsxs)(l.x,{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr",gap:16},border:{side:"bottom",width:1,color:c.w.KeylineGray},padding:{vertical:16},children:[(0,W.jsx)(l.x,{flex:{gap:4,direction:"column"},children:(0,W.jsx)(L.pm,{children:"Event"})}),(0,W.jsxs)(l.x,{flex:{gap:4,direction:"column"},style:{minHeight:64},children:[(0,W.jsx)(L.pm,{children:"Run"}),"\u2014"]}),(0,W.jsxs)(l.x,{flex:{gap:4,direction:"column"},children:[(0,W.jsx)(L.pm,{children:"Job"}),"\u2014"]})]}),(0,W.jsxs)(l.x,{padding:{top:24},flex:{direction:"column",gap:8},children:[(0,W.jsx)(L.pm,{children:"Metadata"}),(0,W.jsx)(q,{event:null})]})]})},me=t(519),fe=t(79714),ge=t(3580),je=function(e){var n=e.groups,t=e.focused,i=e.setFocused,r=e.xAxis,s=p.useRef(null),a=p.useRef(null),o=(0,me.useVirtualizer)({count:n.length,getScrollElement:function(){return s.current},estimateSize:function(){return 80},overscan:10}),d=o.getTotalSize(),u=o.getVirtualItems();return p.useEffect((function(){if(a.current){var e=a.current;e&&e instanceof HTMLElement&&"scrollIntoView"in e&&e.scrollIntoView({block:"nearest"})}}),[t]),(0,W.jsx)(ye,{ref:s,children:(0,W.jsx)(ge.Nh,{$totalHeight:d,children:u.map((function(e){var s=e.index,o=e.key,d=e.size,p=e.start,u=n[s];return(0,W.jsx)(ve,{$height:d,$start:p,$focused:u===t,ref:u===t?a:void 0,onClick:function(e){e.target instanceof HTMLElement&&e.target.closest("a")||null===i||void 0===i||i(t!==u?u:void 0)},children:(0,W.jsx)(l.x,{style:{height:d},padding:{left:24,right:12},flex:{direction:"column",justifyContent:"center",gap:8},border:{side:"bottom",width:1,color:c.w.KeylineGray},children:"partition"===r?(0,W.jsx)(we,{group:u}):(0,W.jsx)(be,{group:u})})},o)}))})})},ye=(0,$.ZP)(ge.W2).withConfig({displayName:"AssetEventList__AssetListContainer",componentId:"y5fuyp-0"})(["outline:none;&:focus{box-shadow:0 -1px ",";}"],c.w.Blue500),ve=(0,$.ZP)(ge.X2).withConfig({displayName:"AssetEventList__AssetListRow",componentId:"y5fuyp-1"})(["cursor:pointer;user-select:none;:focus,:active,:hover{outline:none;background:",";}",""],c.w.Gray100,(function(e){return e.$focused&&"background: ".concat(c.w.Blue50,";\n     color: ").concat(c.w.Blue700,";\n     :hover {\n       background: ").concat(c.w.Blue50,";\n     }\n    ")})),we=function(e){var n=e.group,t=n.partition,i=n.latest,r=n.timestamp;return(0,W.jsxs)(W.Fragment,{children:[(0,W.jsxs)(l.x,{flex:{gap:4,direction:"row",alignItems:"flex-start"},children:[(0,W.jsx)(P.JO,{name:"partition"}),t,(0,W.jsx)("div",{style:{flex:1}}),i?(0,W.jsx)(K.V,{intent:"success",children:"Materialized"}):(0,W.jsx)(K.V,{intent:"none",children:"Missing"})]}),(0,W.jsx)(L.YS,{color:c.w.Gray600,style:{userSelect:"none"},children:r?(0,W.jsxs)("span",{children:["Materialized ",(0,W.jsx)(z.E,{timestamp:{ms:Number(r)}})]}):"Never materialized"})]})},be=function(e){var n=e.group,t=n.latest,i=n.partition,r=n.timestamp,s="Run"===(null===t||void 0===t?void 0:t.runOrError.__typename)?t.runOrError:null;return(0,W.jsxs)(W.Fragment,{children:[(0,W.jsxs)(l.x,{flex:{gap:4,direction:"row"},children:["MaterializationEvent"===(null===t||void 0===t?void 0:t.__typename)?(0,W.jsx)(P.JO,{name:"materialization"}):(0,W.jsx)(P.JO,{name:"observation"}),(0,W.jsx)(z.E,{timestamp:{ms:Number(r)}})]}),(0,W.jsxs)(l.x,{flex:{gap:4,direction:"row"},children:[i&&(0,W.jsx)(K.V,{children:i}),t&&s&&(0,W.jsx)(K.V,{children:(0,W.jsx)(fe.Tj,{runId:s.runId,event:{stepKey:t.stepKey,timestamp:t.timestamp},children:(0,W.jsxs)(l.x,{flex:{gap:4,direction:"row",alignItems:"center"},children:[(0,W.jsx)(F.hk,{runId:s.runId,status:s.status,size:8}),(0,R.EI)(s)]})})})]})]})},Ne=t(55113),Ie=t(8358),Ke=t(75453),Se=function(e){var n=e.hasPartitions,t=e.hasLineage,i=e.groups,r=e.focused,s=e.setFocused;return(0,W.jsxs)(Ne.i,{children:[(0,W.jsx)("thead",{children:(0,W.jsxs)("tr",{children:[n&&(0,W.jsx)("th",{style:{minWidth:100},children:"Partition"}),(0,W.jsx)("th",{style:{minWidth:150},children:"Timestamp"}),(0,W.jsx)("th",{style:{minWidth:150},children:"Job"}),(0,W.jsx)("th",{style:{width:100},children:"Run"})]})}),(0,W.jsx)("tbody",{children:i.map((function(e){return(0,W.jsxs)(p.Fragment,{children:[(0,W.jsx)(ke,{onClick:function(n){n.target instanceof HTMLElement&&n.target.closest("a")||null===s||void 0===s||s(r!==e?e:void 0)},children:(0,W.jsx)(_e,{group:e,hasPartitions:n,hasLineage:t,isFocused:r===e})}),r===e?(0,W.jsx)(ze,{hasLineage:t,group:e}):void 0]},e.timestamp||e.partition)}))})]})},Ce=function(){return(0,W.jsx)("span",{style:{color:c.w.Gray400},children:"None"})},ze=p.memo((function(e){var n=e.group,t=e.hasLineage,i=n.latest,r=n.timestamp;if(!i)return(0,W.jsx)("tr",{});var s="MaterializationEvent"===i.__typename?i.assetLineage:[],a="MaterializationEvent"===i.__typename?n.all.filter((function(e){return"ObservationEvent"===e.__typename&&Number(e.timestamp)>Number(i.timestamp)})):[];return(0,W.jsx)("tr",{style:{background:c.w.Gray50},children:(0,W.jsxs)("td",{colSpan:6,style:{fontSize:14,padding:0},children:[i.description&&(0,W.jsx)(l.x,{padding:{horizontal:24,vertical:12},children:i.description}),i.metadataEntries.length||t?(0,W.jsx)(Ae,{children:(0,W.jsxs)("tbody",{children:[i.metadataEntries.map((function(e){return(0,W.jsxs)("tr",{children:[(0,W.jsx)("td",{style:{maxWidth:300},children:e.label}),(0,W.jsx)("td",{children:(0,W.jsx)(H.BL,{entry:e,expandSmallValues:!0})}),(0,W.jsx)("td",{style:{opacity:.7},children:e.description})]},"metadata-".concat(e.label))})),a.map((function(e){return(0,W.jsx)(p.Fragment,{children:e.metadataEntries.map((function(n){return(0,W.jsxs)("tr",{children:[(0,W.jsx)("td",{children:n.label}),(0,W.jsx)("td",{children:(0,W.jsx)(H.BL,{entry:n,expandSmallValues:!0})}),(0,W.jsxs)("td",{style:{opacity:.7},children:[(0,W.jsxs)(l.x,{flex:{gap:8,alignItems:"center"},children:[(0,W.jsx)(P.JO,{name:"observation",size:16}),(0,W.jsxs)("span",{children:["".concat(e.stepKey," in "),(0,W.jsx)(S.rU,{to:"/runs/".concat(e.runId,"?timestamp=").concat(e.timestamp),children:(0,W.jsx)(L.fv,{children:(0,R.EI)({runId:e.runId})})})," (".concat(V()(e.timestamp).from(r,!0)," later)")]})]}),n.description]})]},"metadata-".concat(e.timestamp,"-").concat(n.label))}))},e.timestamp)})),t&&(0,W.jsxs)("tr",{children:[(0,W.jsx)("td",{children:"Parent Materializations"}),(0,W.jsx)("td",{children:(0,W.jsx)(ee.i,{elements:s,timestamp:r})})]})]})}):(0,W.jsx)(l.x,{padding:{horizontal:24,vertical:12},children:"No materialization event metadata"})]})})})),_e=p.memo((function(e){var n=e.group,t=e.hasPartitions,i=e.hasLineage,r=e.isFocused,s=n.latest,a=n.partition,o=n.timestamp,d=n.all,p=r?{paddingLeft:4,borderLeft:"4px solid ".concat(c.w.HighlightGreen)}:{paddingLeft:8},u="Run"===(null===s||void 0===s?void 0:s.runOrError.__typename)?s.runOrError:void 0,x=null===u||void 0===u?void 0:u.repositoryOrigin,m=x?(0,Z.kQ)(x.repositoryName,x.repositoryLocationName):null,f=(0,B.Ux)(m);return s?u?(0,W.jsxs)(W.Fragment,{children:[t&&(0,W.jsx)("td",{style:(0,j.Z)({whiteSpace:"nowrap"},p),children:(0,W.jsxs)(U.Z,{direction:"row",spacing:2,children:[(0,W.jsx)(Oe,{open:r}),a||(0,W.jsx)(Ce,{})]})}),(0,W.jsx)("td",{style:t?{}:p,children:(0,W.jsxs)(U.Z,{direction:"row",spacing:4,children:[!t&&(0,W.jsx)(Oe,{open:r}),(0,W.jsxs)(U.Z,{direction:"column",spacing:4,children:[(0,W.jsx)(z.E,{timestamp:{ms:Number(o)}}),(null===d||void 0===d?void 0:d.length)>1?(0,W.jsx)(Ee,{hasPartitions:t,hasLineage:i,events:d,children:"View ".concat(d.length," events")}):"MaterializationEvent"===s.__typename?(0,W.jsxs)(l.x,{flex:{gap:8,alignItems:"center"},style:{color:c.w.Gray600},children:[(0,W.jsx)(P.JO,{name:"materialization",size:16,color:c.w.Gray600}),"Materialization"]}):(0,W.jsxs)(l.x,{flex:{gap:8,alignItems:"center"},style:{color:c.w.Gray600},children:[(0,W.jsx)(P.JO,{name:"observation",size:16,color:c.w.Gray600})," Observation"]})]})]})}),(0,W.jsx)("td",{children:!(0,h.pv)(u.pipelineName)&&(0,W.jsxs)(l.x,{margin:{bottom:4},children:[(0,W.jsx)(l.x,{padding:{left:8},children:(0,W.jsx)(T.h,{showIcon:!0,pipelineName:u.pipelineName,pipelineHrefContext:m||"repo-unknown",snapshotId:u.pipelineSnapshotId,isJob:(0,B.E8)(f,u.pipelineName)})}),(0,W.jsxs)(U.Z,{direction:"row",padding:{left:8},spacing:8,alignItems:"center",children:[(0,W.jsx)(P.JO,{name:"linear_scale",color:c.w.Gray400}),(0,W.jsx)(S.rU,{to:(0,R.tA)(u,s),children:s.stepKey})]})]})}),(0,W.jsx)("td",{children:(0,W.jsxs)(l.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,W.jsx)(F.hk,{runId:u.runId,status:u.status}),(0,W.jsx)(S.rU,{to:"/runs/".concat(u.runId,"?timestamp=").concat(o),children:(0,W.jsx)(L.fv,{children:(0,R.EI)(u)})})]})})]}):(0,W.jsx)("span",{}):(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)("td",{style:{whiteSpace:"nowrap",paddingLeft:24},children:a||(0,W.jsx)(Ce,{})}),(0,W.jsx)("td",{colSpan:3})]})})),ke=$.ZP.tr.withConfig({displayName:"AllIndividualEventsLink__HoverableRow",componentId:"jy8lfp-0"})(["&:hover{background:",";}"],c.w.Gray10),Ae=$.ZP.table.withConfig({displayName:"AllIndividualEventsLink__DetailsTable",componentId:"jy8lfp-1"})(["width:100%;margin:-2px -2px -3px;tr td{font-size:14px;}"]),Ee=function(e){var n=e.hasLineage,t=e.hasPartitions,i=e.events,r=e.children,s=p.useState(!1),a=(0,y.Z)(s,2),o=a[0],d=a[1],c=p.useState(),u=(0,y.Z)(c,2),x=u[0],h=u[1],m=p.useMemo((function(){return i.map((function(e){return{latest:e,partition:e.partition||void 0,timestamp:e.timestamp,all:[]}}))}),[i]);return(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(I.Z,{onClick:function(){return d(!0)},children:r}),(0,W.jsxs)(Ie.Vq,{isOpen:o,canEscapeKeyClose:!0,canOutsideClickClose:!0,onClose:function(){return d(!1)},style:{width:"80%",minWidth:"800px"},title:function(){if(t){var e=i[0].partition;if(e)return"Materialization and observation events for ".concat(e)}return"Materialization and observation events"}(),children:[o&&(0,W.jsx)(l.x,{padding:{bottom:8},onClick:function(e){return e.stopPropagation()},children:(0,W.jsx)(Se,{hasLineage:n,hasPartitions:t,focused:x,setFocused:h,groups:m})}),(0,W.jsx)(Ie.cN,{children:(0,W.jsx)(Ke.zx,{intent:"primary",onClick:function(){return d(!1)},children:"OK"})})]})]})},Oe=function(e){var n=e.open,t=e.onClick;return(0,W.jsx)(De,{onClick:t,$open:n,children:(0,W.jsx)(P.JO,{name:"arrow_drop_down",size:24})})},De=$.ZP.button.withConfig({displayName:"AllIndividualEventsLink__DisclosureTriangleButton",componentId:"jy8lfp-2"})(["padding:4px;margin:-4px;cursor:pointer;border:0;background:transparent;outline:none;","{margin:-2px -5px;transform:",";opacity:0.25;}:focus{outline:none;","{background:",";opacity:0.5;}}"],P.a1,(function(e){return e.$open?"rotate(0deg)":"rotate(-90deg)"}),P.a1,c.w.Dark),Ze=t(66855),Ge=function(e){var n,t=(0,s.a)(Le,{variables:{assetKey:e.assetKey,partitionKey:e.partitionKey}}),i=p.useMemo((function(){var e,n;return"AssetNode"!==(null===(e=t.data)||void 0===e||null===(n=e.assetNodeOrError)||void 0===n?void 0:n.__typename)?{materializations:[],observations:[],hasLineage:!1}:{materializations:(0,ne.Z)(t.data.assetNodeOrError.assetMaterializations).sort((function(e,n){return Number(n.timestamp)-Number(e.timestamp)})),observations:(0,ne.Z)(t.data.assetNodeOrError.assetObservations).sort((function(e,n){return Number(n.timestamp)-Number(e.timestamp)})),hasLineage:t.data.assetNodeOrError.assetMaterializations.some((function(e){return e.assetLineage.length>0}))}}),[t.data]),r=i.materializations,a=i.observations,o=i.hasLineage;return t.loading||!t.data?(0,W.jsx)(Pe,{partitionKey:e.partitionKey}):(0,W.jsx)(Me,{assetKey:e.assetKey,hasLineage:o,group:{latest:r[0],timestamp:null===(n=r[0])||void 0===n?void 0:n.timestamp,partition:e.partitionKey,all:[].concat((0,ne.Z)(r),(0,ne.Z)(a)).sort((function(e,n){return Number(n.timestamp)-Number(e.timestamp)}))}})},Le=(0,a.Ps)(ae||(ae=(0,r.Z)(["\n  query AssetPartitionDetailQuery($assetKey: AssetKeyInput!, $partitionKey: String!) {\n    assetNodeOrError(assetKey: $assetKey) {\n      __typename\n      ... on AssetNode {\n        id\n        assetMaterializations(partitions: [$partitionKey]) {\n          ... on MaterializationEvent {\n            runId\n            ...AssetMaterializationFragment\n          }\n        }\n        assetObservations(partitions: [$partitionKey]) {\n          ... on ObservationEvent {\n            runId\n            ...AssetObservationFragment\n          }\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n"])),Ze.ZC,Ze.T8),Me=function(e){var n,t,i=e.assetKey,r=e.group,s=e.hasLineage,a=e.hasLoadingState,o=r.latest,p=r.partition,u=r.all,x="Run"===(null===o||void 0===o||null===(n=o.runOrError)||void 0===n?void 0:n.__typename)?o.runOrError:null,m=null===x||void 0===x?void 0:x.repositoryOrigin,f=m?(0,Z.kQ)(m.repositoryName,m.repositoryLocationName):null,g=(0,B.Ux)(f),j="MaterializationEvent"===(null===o||void 0===o?void 0:o.__typename)?r.all.filter((function(e){return"ObservationEvent"===e.__typename&&Number(e.timestamp)>Number(o.timestamp)})):[];return(0,W.jsxs)(l.x,{padding:{horizontal:24,bottom:24},style:{flex:1},children:[(0,W.jsxs)(l.x,{padding:{vertical:24},border:{side:"bottom",width:1,color:c.w.KeylineGray},flex:{alignItems:"center"},children:[p?(0,W.jsxs)(l.x,{flex:{gap:12,alignItems:"center"},children:[(0,W.jsx)(L.X6,{children:p}),a?(0,W.jsx)(d.$,{purpose:"body-text"}):o?(0,W.jsx)(K.V,{intent:"success",children:"Materialized"}):(0,W.jsx)(K.V,{intent:"none",children:"Missing"})]}):(0,W.jsx)(L.X6,{color:c.w.Gray400,children:"No partition selected"}),(0,W.jsx)("div",{style:{flex:1}})]}),(0,W.jsxs)(l.x,{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr",gap:16,minHeight:76},border:{side:"bottom",width:1,color:c.w.KeylineGray},padding:{vertical:16},children:[(0,W.jsxs)(l.x,{flex:{gap:4,direction:"column"},children:[(0,W.jsx)(L.pm,{children:"Latest event"}),o?(0,W.jsxs)(l.x,{flex:{gap:4},style:{whiteSpace:"nowrap"},children:["MaterializationEvent"===o.__typename?(0,W.jsx)(P.JO,{name:"materialization"}):(0,W.jsx)(P.JO,{name:"observation"}),(0,W.jsx)(z.E,{timestamp:{ms:Number(o.timestamp)}}),u.length>1&&(0,W.jsx)(Ee,{hasPartitions:!0,hasLineage:s,events:u,children:"(".concat(u.length," events)")})]}):(0,W.jsxs)(l.x,{flex:{gap:4},children:[(0,W.jsx)(P.JO,{name:"materialization"}),"None"]})]}),(0,W.jsxs)(l.x,{flex:{gap:4,direction:"column"},children:[(0,W.jsx)(L.pm,{children:"Run"}),"Run"===(null===o||void 0===o||null===(t=o.runOrError)||void 0===t?void 0:t.__typename)?(0,W.jsxs)(l.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,W.jsx)(F.hk,{runId:o.runOrError.runId,status:o.runOrError.status}),(0,W.jsx)(S.rU,{to:(0,R.tA)(o.runOrError,o),children:(0,W.jsx)(L.fv,{children:(0,R.EI)(o.runOrError)})})]}):"None"]}),(0,W.jsxs)(l.x,{flex:{gap:4,direction:"column"},children:[(0,W.jsx)(L.pm,{children:"Job"}),o&&x&&!(0,h.pv)(x.pipelineName)?(0,W.jsxs)(l.x,{children:[(0,W.jsx)(l.x,{children:(0,W.jsx)(T.h,{showIcon:!0,pipelineName:x.pipelineName,pipelineHrefContext:f||"repo-unknown",snapshotId:x.pipelineSnapshotId,isJob:(0,B.E8)(g,x.pipelineName)})}),(0,W.jsxs)(U.Z,{direction:"row",spacing:8,alignItems:"center",children:[(0,W.jsx)(P.JO,{name:"linear_scale",color:c.w.Gray400}),(0,W.jsx)(S.rU,{to:(0,R.tA)(x,o),children:o.stepKey})]})]}):"None"]})]}),(0,W.jsxs)(l.x,{padding:{top:24},flex:{direction:"column",gap:8},children:[(0,W.jsx)(L.pm,{children:"Metadata"}),(0,W.jsx)(q,{event:o,observations:j})]}),(0,W.jsxs)(l.x,{padding:{top:24},flex:{direction:"column",gap:8},children:[(0,W.jsx)(L.pm,{children:"Source data"}),(0,W.jsx)(ce,{timestamp:null===o||void 0===o?void 0:o.timestamp,assetKey:i})]}),(0,W.jsxs)(l.x,{padding:{top:24},flex:{direction:"column",gap:8},children:[(0,W.jsx)(L.pm,{children:"System tags"}),(0,W.jsx)(X.M,{event:o,collapsible:!0})]})]})},Pe=function(e){var n=e.partitionKey;return(0,W.jsx)(Me,{assetKey:{path:[""]},group:{all:[],latest:null,timestamp:"0",partition:n},hasLineage:!1,hasLoadingState:!0})},Ue=t(73522),Te=t(13885),Fe=t(33682),Re=function(e){var n=e.assetKey,t=e.assetLastMaterializedAt,i=e.assetHasDefinedPartitions,r=e.params,s=e.setParams,a=e.liveData,o=(0,Ze.fE)(n,r,{assetHasDefinedPartitions:!1}),u=o.xAxis,x=o.materializations,h=o.observations,m=o.loadedPartitionKeys,f=o.refetch,g=o.loading;p.useEffect((function(){r.asOf||f()}),[r.asOf,t,f]);var y=(0,Fe.L)(u,x,h,m),v=function(e){var n="time"===u?{time:(null===e||void 0===e?void 0:e.timestamp)!==r.time&&(null===e||void 0===e?void 0:e.timestamp)||""}:{partition:(null===e||void 0===e?void 0:e.partition)!==r.partition&&(null===e||void 0===e?void 0:e.partition)||""};s((0,j.Z)((0,j.Z)({},r),n))},b=y.find((function(e){return r.time?Number(e.timestamp)<=Number(r.time):!!r.partition&&e.partition===r.partition}))||y[0],N=!i&&y.some((function(e){return e.partition})),I=x.some((function(e){return e.assetLineage.length>0}));return(0,W.jsxs)(W.Fragment,{children:[N&&(0,W.jsxs)(l.x,{flex:{justifyContent:"space-between",alignItems:"center"},border:{side:"bottom",width:1,color:c.w.KeylineGray},padding:{vertical:16,horizontal:24},style:{marginBottom:-1},children:[(0,W.jsx)(L.pm,{children:"Asset Events"}),(0,W.jsx)("div",{style:{margin:"-6px 0 "},children:(0,W.jsx)(M.h,{activeItems:new Set([u]),buttons:[{id:"partition",label:"By partition"},{id:"time",label:"By timestamp"}],onClick:function(e){return s("time"===e?(0,j.Z)((0,j.Z)({},r),{},{partition:void 0,time:(null===b||void 0===b?void 0:b.timestamp)||""}):(0,j.Z)((0,j.Z)({},r),{},{partition:(null===b||void 0===b?void 0:b.partition)||"",time:void 0}))}})})]}),(0,W.jsx)(Te.b,{liveData:a,border:{side:"bottom",width:1,color:c.w.KeylineGray}}),(0,W.jsx)(Ue.j,{liveData:a,border:{side:"bottom",width:1,color:c.w.KeylineGray}}),(0,W.jsxs)(l.x,{style:{flex:1,minHeight:0,outline:"none"},flex:{direction:"row"},onKeyDown:function(e){var n={ArrowDown:1,ArrowUp:-1}[e.key];if(n&&b&&!e.isDefaultPrevented()){var t=y[y.indexOf(b)+n];t&&(e.preventDefault(),v(t))}},tabIndex:-1,children:[(0,W.jsx)(l.x,{style:{display:"flex",flex:1,minWidth:200},flex:{direction:"column"},background:c.w.Gray50,children:g?(0,W.jsx)(l.x,{flex:{alignItems:"center",justifyContent:"center"},style:{flex:1},children:(0,W.jsx)(d.$,{purpose:"section"})}):(0,W.jsx)(je,{xAxis:u,groups:y,focused:b,setFocused:v})}),(0,W.jsx)(l.x,{flex:{direction:"column"},style:{flex:3,minWidth:0,overflowY:"auto"},border:{side:"left",color:c.w.KeylineGray,width:1},children:(0,W.jsx)(w.S,{region:"event",resetErrorOnChange:[b],children:"partition"===u?b?(0,W.jsx)(Me,{group:b,hasLineage:I,assetKey:n}):(0,W.jsx)(Pe,{}):null!==b&&void 0!==b&&b.latest?(0,W.jsx)(xe,{assetKey:n,event:b.latest}):(0,W.jsx)(he,{})})})]})]})},Be=t(71725),$e=t(11540),Je=t(33208),Ve=t(10922),He=t(14848),We=t(34449),qe=t(61460),Qe=t(7713),Ye=function(e){var n=e.items,t=e.liveDataByNode,i=(0,u.k6)();return null===n?(0,W.jsx)(Xe,{flex:{alignItems:"center",justifyContent:"center"},children:(0,W.jsx)(d.$,{purpose:"section"})}):(0,W.jsx)(Xe,{flex:{gap:4},padding:{horizontal:12},children:n.map((function(e){return(0,W.jsx)(en,{onClick:function(n){n.stopPropagation(),i.push((0,se.p)(e.assetKey,{view:"definition"}))},children:(0,W.jsx)($e.p4,{definition:e,selected:!1,liveData:t[(0,h.Wu)(e.assetKey)]})},e.id)}))})},Xe=(0,$.ZP)(l.x).withConfig({displayName:"AssetNodeList__Container",componentId:"sc-1ee72i3-0"})(["height:154px;overflow-x:auto;width:100%;white-space:nowrap;"]),en=$.ZP.div.withConfig({displayName:"AssetNodeList__AssetNodeWrapper",componentId:"sc-1ee72i3-1"})(["cursor:pointer;width:260px;flex-shrink:0;"]),nn=t(79986),tn=t(11936),rn=function(e){var n,t=e.assetNode,i=e.upstream,r=e.downstream,s=e.liveDataByNode,a=e.dependsOnSelf,o=(0,Qe.U6)(t),d=o.assetMetadata,p=o.assetType,u=s[(0,h.Wu)(t.assetKey)],x=null===(n=t.configField)||void 0===n?void 0:n.configType,m=(0,Z.kQ)(t.repository.name,t.repository.location.name);return(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(qe.N,{assetKey:t.assetKey,loadedFromRepo:m,padded:!0}),(0,W.jsxs)(l.x,{flex:{direction:"row"},style:{flex:1},children:[(0,W.jsxs)(l.x,{style:{flex:1,minWidth:0},flex:{direction:"column"},border:{side:"right",width:1,color:c.w.KeylineGray},children:[(0,W.jsxs)(l.x,{padding:{vertical:16,horizontal:24},border:{side:"bottom",width:1,color:c.w.KeylineGray},flex:{justifyContent:"space-between",gap:8},children:[(0,W.jsx)(L.pm,{children:"Description"}),(0,W.jsx)(sn,{assetNode:t,repoAddress:m})]}),(0,W.jsx)(l.x,{padding:{vertical:16,horizontal:24},style:{flex:1,flexBasis:"content",flexGrow:0,minHeight:120},children:(0,W.jsx)(Ve.d,{description:t.description||"No description provided.",maxHeight:260})}),t.opVersion&&(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(l.x,{padding:{vertical:16,horizontal:24},border:{side:"horizontal",width:1,color:c.w.KeylineGray},children:(0,W.jsx)(L.pm,{children:"Code version"})}),(0,W.jsx)(l.x,{padding:{vertical:16,horizontal:24},flex:{gap:12,alignItems:"center"},children:(0,W.jsx)(He.G,{children:t.opVersion})})]}),(null===u||void 0===u?void 0:u.freshnessPolicy)&&(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(l.x,{padding:{vertical:16,horizontal:24},border:{side:"horizontal",width:1,color:c.w.KeylineGray},children:(0,W.jsx)(L.pm,{children:"Freshness Policy"})}),(0,W.jsxs)(l.x,{padding:{vertical:16,horizontal:24},flex:{gap:12,alignItems:"center"},children:[(0,W.jsx)(nn.vy,{liveData:u}),(0,W.jsx)(L.uT,{children:(0,nn.jY)(u.freshnessPolicy)})]})]}),(0,W.jsxs)(l.x,{padding:{vertical:16,horizontal:24},border:{side:"horizontal",width:1,color:c.w.KeylineGray},flex:{justifyContent:"space-between",gap:8},children:[(0,W.jsxs)(L.pm,{children:["Upstream Assets",null!==i&&void 0!==i&&i.length?" (".concat(i.length,")"):""]}),(0,W.jsx)(S.rU,{to:"?view=lineage&lineageScope=upstream",children:(0,W.jsxs)(l.x,{flex:{gap:4,alignItems:"center"},children:["View upstream graph",(0,W.jsx)(P.JO,{name:"open_in_new",color:c.w.Link})]})})]}),a&&(0,W.jsx)(tn.x,{}),(0,W.jsx)(Ye,{items:i,liveDataByNode:s}),(0,W.jsxs)(l.x,{padding:{vertical:16,horizontal:24},border:{side:"horizontal",width:1,color:c.w.KeylineGray},flex:{justifyContent:"space-between",gap:8},children:[(0,W.jsxs)(L.pm,{children:["Downstream Assets",null!==r&&void 0!==r&&r.length?" (".concat(r.length,")"):""]}),(0,W.jsx)(S.rU,{to:"?view=lineage&lineageScope=downstream",children:(0,W.jsxs)(l.x,{flex:{gap:4,alignItems:"center"},children:["View downstream graph",(0,W.jsx)(P.JO,{name:"open_in_new",color:c.w.Link})]})})]}),(0,W.jsx)(Ye,{items:r,liveDataByNode:s}),(0,W.jsx)("div",{style:{flex:1}})]}),x?(0,W.jsxs)(l.x,{border:{side:"vertical",width:1,color:c.w.KeylineGray},style:{flex:.5,minWidth:0},flex:{direction:"column"},children:[(0,W.jsx)(l.x,{padding:{vertical:16,horizontal:24},border:{side:"bottom",width:1,color:c.w.KeylineGray},children:(0,W.jsx)(L.pm,{children:"Config"})}),(0,W.jsx)(l.x,{padding:{vertical:16,horizontal:24},children:(0,W.jsx)(Be.L,{type:x,typesInScope:x.recursiveConfigTypes})})]}):null,(0,W.jsxs)(l.x,{style:{flex:.5,minWidth:0},flex:{direction:"column"},children:[(0,W.jsx)(l.x,{padding:{vertical:16,horizontal:24},border:{side:"bottom",width:1,color:c.w.KeylineGray},children:(0,W.jsx)(L.pm,{children:"Type"})}),p?(0,W.jsx)(Je.Ot,{type:p}):(0,W.jsx)(l.x,{padding:{vertical:16,horizontal:24},children:(0,W.jsx)(Ve.d,{description:"No type data provided."})}),d.length>0&&(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(l.x,{padding:{vertical:16,horizontal:24},border:{side:"horizontal",width:1,color:c.w.KeylineGray},flex:{justifyContent:"space-between",gap:8},children:(0,W.jsx)(L.pm,{children:"Metadata"})}),(0,W.jsx)(l.x,{style:{flex:1},children:(0,W.jsx)(Qe.mQ,{assetMetadata:d,repoLocation:null===m||void 0===m?void 0:m.location})})]})]})]})]})},sn=function(e){var n=e.assetNode,t=e.repoAddress;return(0,W.jsxs)(l.x,{flex:{alignItems:"baseline",gap:16,wrap:"wrap"},style:{lineHeight:0},children:[n.jobNames.filter((function(e){return!(0,h.pv)(e)})).map((function(e){return(0,W.jsx)(L.fv,{children:(0,W.jsx)(T.h,{isJob:!0,showIcon:!0,pipelineName:e,pipelineHrefContext:t})},e)})),(0,W.jsx)(an,{assetNode:n,repoAddress:t}),n.isSource&&(0,W.jsx)(L.YS,{style:{lineHeight:"16px",marginTop:2},children:"Source Asset"})]})},an=function(e){var n=e.assetNode,t=e.repoAddress,i=n.assetKey,r=n.graphName,s=n.opNames,a=n.jobNames,o=s.length;if(!o)return null;if(!r){var d=s[0];if((0,h.ll)(i)===d)return null;var c=(0,G.$U)(t,"/ops/".concat(d));return(0,W.jsxs)(l.x,{flex:{gap:4,alignItems:"center"},children:[(0,W.jsx)(P.JO,{name:"op",size:16}),(0,W.jsx)(L.fv,{children:(0,W.jsx)(S.rU,{to:c,children:d})})]})}return a.length?(0,W.jsxs)(l.x,{flex:{gap:4,alignItems:"center"},children:[(0,W.jsx)(P.JO,{name:"schema",size:16}),(0,W.jsxs)(L.fv,{children:[(0,W.jsx)(S.rU,{to:(0,G.$U)(t,"/graphs/".concat(a[0],"/").concat(r,"/")),children:r})," (".concat(1===o?"1 op":"".concat(o," ops"),")")]})]}):null},on=(0,a.Ps)(oe||(oe=(0,r.Z)(["\n  fragment AssetNodeDefinitionFragment on AssetNode {\n    id\n    description\n    graphName\n    opNames\n    opVersion\n    jobNames\n    partitionDefinition {\n      description\n    }\n    repository {\n      id\n      name\n      location {\n        id\n        name\n      }\n    }\n    ...AssetNodeConfigFragment\n    ...AssetNodeFragment\n    ...AssetNodeOpMetadataFragment\n  }\n\n  ","\n  ","\n  ","\n"])),We.r,$e.zU,Qe.Ws),ln=t(62816),dn=t.n(ln),cn=t(86476),pn=t(9315),un=t(86875),xn=function(e){var n=e.assetNode,t=e.repoAddress,i=dn()(n.jobs,(function(e){return e.schedules})),r=dn()(n.jobs,(function(e){return e.sensors}));return(0,W.jsx)(cn.I,{repoAddress:t,schedules:i,sensors:r,showSwitch:!1})},hn=(0,a.Ps)(le||(le=(0,r.Z)(["\n  fragment AssetNodeInstigatorsFragment on AssetNode {\n    id\n    jobs {\n      id\n      name\n      schedules {\n        id\n        __typename\n        ...ScheduleSwitchFragment\n      }\n      sensors {\n        id\n        __typename\n        ...SensorSwitchFragment\n      }\n    }\n  }\n\n  ","\n  ","\n"])),pn.J,un.U),mn=t(88863),fn=t(96391),gn=t(13253),jn=t(9),yn=t(38376),vn=t(85532),wn=t(76867),bn=t(76314),Nn="lineageGraphZoomLevel",In=function(e){var n=e.assetNode,t=e.assetGraphData,i=e.liveDataByNode,r=e.params,s=(0,h.Wu)(n.assetKey),a=p.useState(null),o=(0,y.Z)(a,2),c=o[0],x=o[1],m=(0,wn.oJ)(t),f=m.layout,g=m.loading,v=p.useRef(),w=(0,u.k6)();return p.useEffect((function(){if(v.current&&f){var e=Number((0,bn.n)(Nn));v.current.autocenter(!1,e),v.current.focus()}}),[v,f,s]),!f||g?(0,W.jsx)(l.x,{style:{flex:1},flex:{alignItems:"center",justifyContent:"center"},children:(0,W.jsx)(d.$,{purpose:"page"})}):(0,W.jsx)(vn.l,{ref:function(e){return v.current=e||void 0},interactor:vn.l.Interactors.PanAndZoom,graphWidth:f.width,graphHeight:f.height,onDoubleClick:function(e){var n;null===(n=v.current)||void 0===n||n.autocenter(!0),e.stopPropagation()},maxZoom:1.2,maxAutocenterZoom:1.2,children:function(e){var n=e.scale;return(0,W.jsxs)(Sn,{width:f.width,height:f.height,children:[v.current&&(0,W.jsx)(Kn,{scale:n}),(0,W.jsx)(fn.i,{highlighted:c,edges:f.edges}),Object.values(f.groups).sort((function(e,n){return e.id.length-n.id.length})).map((function(e){return(0,p.createElement)("foreignObject",(0,j.Z)((0,j.Z)({},e.bounds),{},{key:e.id}),(0,W.jsx)(jn.l,{group:e,scale:n}))})),Object.values(f.nodes).map((function(e){var a=e.id,o=e.bounds,l=t.nodes[a],d=JSON.parse(a);return(0,p.createElement)("foreignObject",(0,j.Z)((0,j.Z)({},o),{},{key:a,style:{overflow:"visible"},onMouseEnter:function(){return x(a)},onMouseLeave:function(){return x(null)},onClick:function(){return e={path:d},void w.push((0,se.p)(e,(0,j.Z)((0,j.Z)({},r),{},{lineageScope:"neighbors"})));var e},onDoubleClick:function(e){var n;null===(n=v.current)||void 0===n||n.zoomToSVGBox(o,!0,1.2),e.stopPropagation()}}),l?n<gn.CZ?(0,W.jsx)($e.t$,{definition:l.definition,liveData:i[l.id],selected:l.id===s}):(0,W.jsx)($e.p4,{definition:l.definition,liveData:i[l.id],selected:l.id===s}):(0,W.jsx)(yn.w,{assetKey:{path:d}}))}))]})}})},Kn=function(e){var n=e.scale;return p.useEffect((function(){try{window.localStorage.setItem(Nn,JSON.stringify(n))}catch(e){}}),[n]),(0,W.jsx)(W.Fragment,{})},Sn=$.ZP.svg.withConfig({displayName:"AssetNodeLineageGraph__SVGContainer",componentId:"q47dxd-0"})(["overflow:visible;border-radius:0;"]),Cn=t(78196),zn=function(e){var n=e.params,t=e.setParams,i=e.assetNode,r=e.liveDataByNode,s=e.assetGraphData,a=e.graphQueryItems,o=e.requestedDepth,d=p.useMemo((function(){return(0,_.B)(a,i.assetKey)}),[a,i]),u="upstream"===n.lineageScope?d.upstream:"downstream"===n.lineageScope?d.downstream:Math.max(d.upstream,d.downstream),x=Math.max(1,Math.min(u,o));return(0,W.jsxs)(l.x,{style:{width:"100%",flex:1,minHeight:0,position:"relative"},flex:{direction:"column"},children:[(0,W.jsxs)(l.x,{flex:{justifyContent:"space-between",alignItems:"center",gap:12},padding:{left:24,right:12,vertical:12},border:{side:"bottom",color:c.w.KeylineGray,width:1},children:[(0,W.jsx)(M.h,{activeItems:new Set([n.lineageScope||"neighbors"]),buttons:[{id:"neighbors",label:"Nearest Neighbors",icon:"graph_neighbors"},{id:"upstream",label:"Upstream",icon:"graph_upstream"},{id:"downstream",label:"Downstream",icon:"graph_downstream"}],onClick:function(e){return t((0,j.Z)((0,j.Z)({},n),{},{lineageScope:e,lineageDepth:void 0}))}}),(0,W.jsx)(kn,{value:x,onChange:function(e){return t((0,j.Z)((0,j.Z)({},n),{},{lineageDepth:e}))},max:u}),(0,W.jsx)("div",{style:{flex:1}}),Object.values(s.nodes).length>1?(0,W.jsx)(Cn.XE,{intent:"none",liveDataForStale:r,scope:{all:Object.values(s.nodes).map((function(e){return e.definition}))}}):(0,W.jsx)(Ke.zx,{icon:(0,W.jsx)(P.JO,{name:"materialization"}),disabled:!0,children:"Materialize all"})]}),x<u&&(0,W.jsx)(_n,{children:"Not all upstream/downstream assets shown. Increase the depth to show more."}),(0,W.jsx)(In,{assetNode:i,liveDataByNode:r,assetGraphData:s,params:n})]})},_n=$.ZP.div.withConfig({displayName:"AssetNodeLineage__DepthHidesAssetsNotice",componentId:"sc-1kyddw2-0"})(["background:",";border-radius:8px;color:",";align-items:center;display:flex;padding:4px 8px;gap:4px;position:absolute;right:12px;top:70px;z-index:2;"],c.w.Gray100,c.w.Gray500),kn=function(e){var n=e.value,t=e.max,i=e.onChange,r=p.useState("".concat(n)),s=(0,y.Z)(r,2),a=s[0],o=s[1];p.useEffect((function(){o("".concat(n))}),[n]);var d=function(){var e=Number(a)?Math.min(t,Number(a)):n;i(e)};return(0,W.jsxs)(l.x,{flex:{gap:8,alignItems:"center"},children:["Graph depth",(0,W.jsxs)(Ke.zH,{children:[(0,W.jsx)(Ke.zx,{disabled:n<=1,onClick:function(){return i(n-1)},icon:(0,W.jsx)(P.JO,{name:"subtract"})}),(0,W.jsx)(mn.oi,{min:1,max:t,disabled:t<=1,inputMode:"numeric",style:{width:40,marginLeft:-1,textAlign:"center",height:32,padding:6,borderRadius:0,boxShadow:"none",border:"1px solid ".concat(c.w.Gray300)},value:a,onChange:function(e){return o(e.target.value)},onKeyDown:function(e){return"Enter"===e.key||"Return"===e.key?d():void 0},onBlur:function(){return d()}},n),(0,W.jsx)(Ke.zx,{disabled:n>=t,onClick:function(){return i(n+1)},icon:(0,W.jsx)(P.JO,{name:"add"})}),(0,W.jsx)(Ke.zx,{disabled:n>=t,onClick:function(){return i(t)},children:"All"})]})]})},An=t(24502),En=t(95968),On=t(54920),Dn=function(e){var n=e.focusedDimensionKey,t=e.setFocusedDimensionKey,i=e.partitions,r=p.useRef(null),s=(0,me.useVirtualizer)({count:i.length,getItemKey:function(e){return i[e].dimensionKey},getScrollElement:function(){return r.current},estimateSize:function(){return 36},overscan:10}),a=s.getTotalSize(),o=s.getVirtualItems();return p.useEffect((function(){n&&s.scrollToIndex(i.findIndex((function(e){return e.dimensionKey===n})),{smoothScroll:!1,align:"auto"})}),[n,s,i]),(0,W.jsx)(ye,{ref:r,tabIndex:-1,onKeyDown:function(e){var r={ArrowDown:1,ArrowUp:-1}[e.key];if(t&&r&&n&&!e.isDefaultPrevented()){var s=i.findIndex((function(e){return e.dimensionKey===n}))+r,a=i[s];a&&(e.preventDefault(),t(a.dimensionKey))}},children:(0,W.jsx)(ge.Nh,{$totalHeight:a,children:o.map((function(e){var r=e.index,s=e.key,a=e.size,o=e.start,d=i[r],p=d.dimensionKey,u=d.state;return(0,W.jsx)(ve,{$height:a,$start:o,$focused:p===n,onClick:function(e){e.target instanceof HTMLElement&&e.target.closest("a")||null===t||void 0===t||t(n!==p?p:void 0)},children:(0,W.jsx)(l.x,{style:{height:a},padding:{left:24,right:12},flex:{direction:"column",justifyContent:"center",gap:8},border:{side:"bottom",width:1,color:c.w.KeylineGray},children:(0,W.jsxs)(l.x,{flex:{gap:4,direction:"row",alignItems:"center"},children:[p,(0,W.jsx)("div",{style:{flex:1}}),(u===On.AB.SUCCESS_MISSING||u===On.AB.SUCCESS)&&(0,W.jsx)(Zn,{state:On.AB.SUCCESS}),(u===On.AB.SUCCESS_MISSING||u===On.AB.MISSING)&&(0,W.jsx)(Zn,{state:On.AB.MISSING})]})})},s)}))})})},Zn=function(e){var n=e.state;return(0,W.jsx)("div",{style:(0,j.Z)({width:10,height:10,borderRadius:"100%"},(0,On.o0)(n))},n)},Gn=t(36613),Ln=t(40791),Mn=t(47619),Pn=[On.AB.MISSING,On.AB.SUCCESS],Un=function(e){var n=e.assetKey,t=e.assetPartitionDimensions,i=e.assetLastMaterializedAt,r=e.params,s=e.setParams,a=e.liveData,o=(0,Mn.mR)([n],i),u=(0,y.Z)(o,1)[0],x=(0,Ln.q)({knownDimensionNames:t,modifyQueryString:!0,assetHealth:u}),h=(0,y.Z)(x,2),m=h[0],f=h[1],g=(0,O.q)({defaults:{states:[].concat(Pn).sort().join(",")},encode:function(e){return{states:(0,ne.Z)(e).sort().join(",")}},decode:function(e){return(e.states||"").split(",").filter((function(e){return Pn.includes(e)}))}}),v=(0,y.Z)(g,2),w=v[0],b=v[1],N=m.findIndex((function(e){return(0,Gn.nv)(e.dimension)})),I=-1!==N?m[N]:null,K=p.useMemo((function(){return u?(0,Gn.f1)(m,u.stateForKey):[]}),[m,u]),S=p.useMemo((function(){return K.filter((function(e){return w.includes(e.state)}))}),[K,w]),C=r.partition?m.length>1?r.partition.split("|").filter(Boolean):[r.partition]:[],z=function(e){return(0,Gn.nv)(e.dimension)?(0,ne.Z)(e.selectedKeys).reverse():e.selectedKeys},_=function(e,n){return I&&0===I.selectedKeys.length?[]:z(e).map((function(t){return{dimensionKey:t,state:1===n&&C.length>=1?u.stateForKey([C[0],t]):u.stateForSingleDimension(n,t,e!==I?null===I||void 0===I?void 0:I.selectedKeys:void 0)}})).filter((function(e){return w.includes(e.state)||e.state===On.AB.SUCCESS_MISSING&&(w.includes(On.AB.SUCCESS)||w.includes(On.AB.MISSING))}))};return(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(Te.b,{liveData:a,border:{side:"bottom",width:1,color:c.w.KeylineGray}}),(0,W.jsx)(Ue.j,{liveData:a,border:{side:"bottom",width:1,color:c.w.KeylineGray}}),I&&(0,W.jsx)(l.x,{padding:{vertical:16,horizontal:24},border:{side:"bottom",width:1,color:c.w.KeylineGray},children:(0,W.jsx)(An.x,{partitionKeys:I.dimension.partitionKeys,partitionStateForKey:function(e){return u.stateForSingleDimension(N,e)},selected:I.selectedKeys,setSelected:function(e){return f(m.map((function(n){return n===I?(0,j.Z)((0,j.Z)({},n),{},{selectedKeys:e}):n})))}})}),(0,W.jsxs)(l.x,{padding:{vertical:16,horizontal:24},flex:{direction:"row",justifyContent:"space-between"},border:{side:"bottom",width:1,color:c.w.KeylineGray},children:[(0,W.jsxs)("div",{children:[S.length.toLocaleString()," Partitions Selected"]}),(0,W.jsx)(En.f,{partitionKeysForCounts:K,allowed:[On.AB.MISSING,On.AB.SUCCESS],value:w,onChange:b})]}),(0,W.jsxs)(l.x,{style:{flex:1,minHeight:0,outline:"none"},flex:{direction:"row"},tabIndex:-1,children:[m.map((function(e,n){return(0,W.jsxs)(l.x,{style:{display:"flex",flex:1,paddingRight:1,minWidth:200},flex:{direction:"column"},border:{side:"right",color:c.w.KeylineGray,width:1},background:c.w.Gray50,children:["default"!==e.dimension.name&&(0,W.jsxs)(l.x,{padding:{horizontal:24,vertical:8},flex:{gap:8,alignItems:"center"},background:c.w.White,border:{side:"bottom",width:1,color:c.w.KeylineGray},children:[(0,W.jsx)(P.JO,{name:"partition"}),(0,W.jsx)(L.pm,{children:e.dimension.name})]}),u?(0,W.jsx)(Dn,{partitions:_(e,n),focusedDimensionKey:C[n],setFocusedDimensionKey:function(e){for(var t=[],i=0;i<n;i++)t.push(C[i]||z(m[i])[0]);e&&t.push(e),s((0,j.Z)((0,j.Z)({},r),{},{partition:t.join("|")}))}}):(0,W.jsx)(l.x,{flex:{alignItems:"center",justifyContent:"center"},style:{flex:1},children:(0,W.jsx)(d.$,{purpose:"section"})})]},e.dimension.name)})),(0,W.jsx)(l.x,{style:{flex:3,minWidth:0,overflowY:"auto"},flex:{direction:"column"},children:r.partition&&C.length===m.length?(0,W.jsx)(Ge,{assetKey:n,partitionKey:r.partition}):(0,W.jsx)(Pe,{})})]})]})},Tn=t(4041),Fn=function(e){var n=e.assetKey,t=e.assetHasDefinedPartitions,i=e.params,r=e.setParams,s=(0,Ze.fE)(n,i,{assetHasDefinedPartitions:t}),a=s.materializations,o=s.observations,u=s.loadedPartitionKeys,x=s.loading,h=s.xAxis,m=(0,Fe.L)(h,a,o,u),f=p.useMemo((function(){return new Set([h])}),[h]);return x?(0,W.jsxs)(l.x,{children:[(0,W.jsx)(l.x,{flex:{justifyContent:"space-between",alignItems:"center"},border:{side:"bottom",color:c.w.KeylineGray,width:1},padding:{vertical:16,left:24,right:12},style:{marginBottom:-1},children:(0,W.jsx)(L.pm,{children:"Asset Plots"})}),(0,W.jsx)(l.x,{padding:{vertical:48},children:(0,W.jsx)(d.$,{purpose:"page"})})]}):(0,W.jsxs)(l.x,{children:[(0,W.jsxs)(l.x,{flex:{justifyContent:"space-between",alignItems:"center"},border:{side:"bottom",color:c.w.KeylineGray,width:1},padding:{vertical:16,left:24,right:12},style:{marginBottom:-1},children:[(0,W.jsx)(L.pm,{children:"Asset Plots"}),t?(0,W.jsx)("div",{style:{margin:"-6px 0 "},children:(0,W.jsx)(M.h,{activeItems:f,buttons:[{id:"partition",label:"Partitions",icon:"partition"},{id:"time",label:"Events",icon:"materialization"}],onClick:function(e){return r("time"===e?(0,j.Z)((0,j.Z)({},i),{},{partition:void 0,time:""}):(0,j.Z)((0,j.Z)({},i),{},{partition:"",time:void 0}))}})}):null]}),(0,W.jsx)(Tn.l,{xAxis:h,groups:m})]})},Rn=function(e){var n,t,i,r=e.assetKey,s=(0,O.q)({}),a=(0,y.Z)(s,2),o=a[0],c=a[1],u=Jn(r),x=u.definition,m=u.definitionQueryResult,f=u.lastMaterialization,b=null!==x&&void 0!==x&&x.partitionDefinition?"partitions":"events",N=o.view||b,I=function(e,n){var t=(0,h.Je)(e);if("definition"===n.view)return{query:'+"'.concat(t,'"+'),requestedDepth:1};if("lineage"===n.view){var i="neighbors"===n.lineageScope?2:5,r=Number(n.lineageDepth)||i,s="+".repeat(r);return{query:"lineage"===n.view&&"upstream"===n.lineageScope?"".concat(s,'"').concat(t,'"'):"lineage"===n.view&&"downstream"===n.lineageScope?'"'.concat(t,'"').concat(s):"".concat(s,'"').concat(t,'"').concat(s),requestedDepth:r}}return{query:'"'.concat(t,'"'),requestedDepth:0}}(r,o),K=(0,_.u)(I.query,{hideEdgesToNodesOutsideQuery:!0}),S=function(e,n){var t=(0,h.Wu)(n);return p.useMemo((function(){return e?{upstream:Object.values(e.nodes).filter((function(n){var i;return null===(i=e.upstream[t])||void 0===i?void 0:i[(0,h.Wu)(n.assetKey)]})).map((function(e){return e.definition})),downstream:Object.values(e.nodes).filter((function(n){var i;return null===(i=e.downstream[t])||void 0===i?void 0:i[(0,h.Wu)(n.assetKey)]})).map((function(e){return e.definition}))}:{upstream:null,downstream:null}}),[e,t])}(K.assetGraphData,r),z=S.upstream,A=S.downstream,E=null===(n=K.assetGraphData)||void 0===n?void 0:n.nodes[(0,h.Wu)(r)],D=(0,k.l)(K.graphAssetKeys),Z=D.liveDataRefreshState,G=D.liveDataByNode,L=D.runWatchers,M=null===(t=(null===(i=G[(0,h.Wu)(r)])||void 0===i?void 0:i.lastMaterialization)||f)||void 0===t?void 0:t.timestamp,P=!o.asOf||Number(M)<=Number(o.asOf),U=(0,C.V5)((0,C.C4)(m,C.dT),Z);return(0,W.jsxs)(l.x,{flex:{direction:"column"},style:{height:"100%",width:"100%",overflowY:"auto"},children:[L,(0,W.jsx)(g.K,{assetKey:r,tags:(0,W.jsx)(Wn,{definition:x,liveData:G[(0,h.Wu)(r)],onShowUpstream:function(){return c((0,j.Z)((0,j.Z)({},o),{},{view:"lineage",lineageScope:"upstream"}))}}),tabs:(0,W.jsxs)(l.x,{flex:{direction:"row",justifyContent:"space-between",alignItems:"flex-end"},children:[(0,W.jsxs)(v.mQ,{size:"large",selectedTabId:N,children:[(null===x||void 0===x?void 0:x.partitionDefinition)&&(0,W.jsx)(v.OK,{id:"partitions",title:"Partitions",onClick:function(){return c((0,j.Z)((0,j.Z)({},o),{},{view:"partitions"}))}}),(0,W.jsx)(v.OK,{id:"events",title:"Events",onClick:function(){return c((0,j.Z)((0,j.Z)({},o),{},{view:"events",partition:void 0}))}}),(0,W.jsx)(v.OK,{id:"plots",title:"Plots",onClick:function(){return c((0,j.Z)((0,j.Z)({},o),{},{view:"plots"}))}}),(0,W.jsx)(v.OK,{id:"definition",title:"Definition",onClick:function(){return c((0,j.Z)((0,j.Z)({},o),{},{view:"definition"}))},disabled:!x}),(0,W.jsx)(v.OK,{id:"lineage",title:"Lineage",onClick:function(){return c((0,j.Z)((0,j.Z)({},o),{},{view:"lineage"}))},disabled:!x})]}),U&&(0,W.jsx)(l.x,{padding:{bottom:8},children:(0,W.jsx)(C.xi,{refreshState:U})})]}),right:(0,W.jsx)(l.x,{style:{margin:"-4px 0"},children:x&&x.jobNames.length>0&&z&&(0,W.jsx)(Cn.XE,{scope:{all:[x]}})})}),!P&&(0,W.jsx)(Hn,{asOf:o.asOf,onClick:function(){return c({asOf:void 0,time:o.asOf})},hasDefinition:!!x}),m.loading&&!m.previousData?(0,W.jsx)(l.x,{style:{height:390},flex:{direction:"row",justifyContent:"center",alignItems:"center"},children:(0,W.jsx)(d.$,{purpose:"page"})}):(0,W.jsx)(w.S,{region:"page",resetErrorOnChange:[r,o],children:"definition"===N?x?(0,W.jsx)(rn,{assetNode:x,upstream:z,downstream:A,dependsOnSelf:!!E&&(0,h.Pz)(E),liveDataByNode:G}):(0,W.jsx)(Bn,{}):"lineage"===N?x?K.assetGraphData?(0,W.jsx)(zn,{params:o,setParams:c,assetNode:x,liveDataByNode:G,requestedDepth:I.requestedDepth,assetGraphData:K.assetGraphData,graphQueryItems:K.graphQueryItems}):(0,W.jsx)(l.x,{style:{flex:1},flex:{alignItems:"center",justifyContent:"center"},children:(0,W.jsx)(d.$,{purpose:"page"})}):(0,W.jsx)(Bn,{}):"partitions"===N?(0,W.jsx)(Un,{assetKey:r,assetPartitionDimensions:null===x||void 0===x?void 0:x.partitionKeysByDimension.map((function(e){return e.name})),assetLastMaterializedAt:M,params:o,paramsTimeWindowOnly:!!o.asOf,setParams:c,liveData:x?G[(0,h.Wu)(x.assetKey)]:void 0}):"events"===N?(0,W.jsx)(Re,{assetKey:r,assetHasDefinedPartitions:!(null===x||void 0===x||!x.partitionDefinition),assetLastMaterializedAt:M,params:o,paramsTimeWindowOnly:!!o.asOf,setParams:c,liveData:x?G[(0,h.Wu)(x.assetKey)]:void 0}):"plots"===N?(0,W.jsx)(Fn,{assetKey:r,assetHasDefinedPartitions:!(null===x||void 0===x||!x.partitionDefinition),params:o,setParams:c}):(0,W.jsx)("span",{})})]})},Bn=function(){return(0,W.jsx)(l.x,{padding:{vertical:32},children:(0,W.jsx)(b.t,{title:"No definition",description:"This asset doesn't have a software definition in any of your code locations.",icon:"materialization"})})};var $n,Jn=function(e){var n=(0,s.a)(Vn,{variables:{assetKey:{path:e.path}},notifyOnNetworkStatusChange:!0}),t=(n.data||n.previousData||{}).assetOrError,i=t&&"Asset"===t.__typename?t:null;return{definitionQueryResult:n,definition:(null===i||void 0===i?void 0:i.definition)||null,lastMaterialization:null===i||void 0===i?void 0:i.assetMaterializations[0]}},Vn=(0,a.Ps)(de||(de=(0,r.Z)(["\n  query AssetViewDefinitionQuery($assetKey: AssetKeyInput!) {\n    assetOrError(assetKey: $assetKey) {\n      ... on Asset {\n        id\n        key {\n          path\n        }\n        assetMaterializations(limit: 1) {\n          timestamp\n        }\n        definition {\n          id\n          ...AssetViewDefinitionNode\n        }\n      }\n    }\n  }\n\n  fragment AssetViewDefinitionNode on AssetNode {\n    id\n    groupName\n    partitionDefinition {\n      __typename\n      description\n    }\n    partitionKeysByDimension {\n      name\n    }\n    repository {\n      id\n      name\n      location {\n        id\n        name\n      }\n    }\n\n    ...AssetNodeInstigatorsFragment\n    ...AssetNodeDefinitionFragment\n  }\n\n  ","\n  ","\n"])),hn,on),Hn=function(e){var n=e.asOf,t=e.onClick,i=e.hasDefinition;return(0,W.jsx)(l.x,{padding:{vertical:16,horizontal:24},border:{side:"bottom",width:1,color:c.w.KeylineGray},children:(0,W.jsx)(N.b,{intent:"info",title:(0,W.jsxs)("span",{children:["This is a historical view of materializations as of"," ",(0,W.jsx)("span",{style:{fontWeight:600},children:(0,W.jsx)(z.E,{timestamp:{ms:Number(n)},timeFormat:{showSeconds:!0,showTimezone:!0}})}),"."]}),description:(0,W.jsx)(I.Z,{onClick:t,underline:"always",children:i?"Show definition and latest materializations":"Show latest materializations"})})})},Wn=function(e){var n=e.definition,t=e.liveData,i=e.onShowUpstream,r=n?(0,Z.kQ)(n.repository.name,n.repository.location.name):null;return(0,W.jsxs)(W.Fragment,{children:[n&&r?(0,W.jsxs)(K.V,{icon:"asset",children:["Asset in ",(0,W.jsx)(D.b,{repoAddress:r})]}):(0,W.jsx)(K.V,{icon:"asset_non_sda",children:"Asset"}),n&&r&&(0,W.jsx)(xn,{assetNode:n,repoAddress:r}),n&&r&&n.groupName&&(0,W.jsx)(K.V,{icon:"asset_group",children:(0,W.jsx)(S.rU,{to:(0,G.$U)(r,"/asset-groups/".concat(n.groupName)),children:n.groupName})}),(null===t||void 0===t?void 0:t.freshnessPolicy)&&(0,W.jsx)(nn.vy,{liveData:t,policyOnHover:!0}),(0,W.jsx)(A.T3,{liveData:t,onClick:i}),n&&(0,W.jsx)(E.hG,{style:{position:"relative"},definition:n,reduceColor:!0})]})},qn=t(24326),Qn=function(){var e;(0,x.Px)();var n=(0,u.UO)(),t=(0,u.k6)(),i=(n[0]||"").split("/").filter((function(e){return e})).map(decodeURIComponent),r=(0,s.a)(Xn,{skip:0===i.length,variables:{assetKey:{path:i}}});return(0,m.j)(i&&i.length?"Assets: ".concat((0,h.ll)({path:i})):"Assets"),r.loading?(0,W.jsxs)(o.T,{children:[(0,W.jsx)(g.K,{assetKey:{path:i}}),(0,W.jsx)(l.x,{flex:{direction:"row",justifyContent:"center"},style:{paddingTop:"100px"},children:(0,W.jsxs)(l.x,{flex:{direction:"row",alignItems:"center",gap:16},children:[(0,W.jsx)(d.$,{purpose:"body-text"}),(0,W.jsx)("div",{style:{color:c.w.Gray600},children:"Loading assets\u2026"})]})})]}):0===i.length||"AssetNotFoundError"===(null===(e=r.data)||void 0===e?void 0:e.assetOrError.__typename)?(0,W.jsxs)(l.x,{flex:{direction:"column"},style:{height:"100%",overflow:"hidden"},children:[(0,W.jsx)(g.K,{assetKey:{path:i},right:(0,W.jsxs)(l.x,{flex:{gap:12,alignItems:"center"},children:[(0,W.jsx)(g.w,{}),(0,W.jsx)(f.i,{label:"Reload definitions"})]})}),(0,W.jsx)(qn.fv,{prefixPath:i,setPrefixPath:function(e){return t.push((0,se.p)({path:e}))}})]}):(0,W.jsx)(Rn,{assetKey:{path:i}})},Yn=Qn,Xn=(0,a.Ps)($n||($n=(0,r.Z)(["\n  query AssetsCatalogRootQuery($assetKey: AssetKeyInput!) {\n    assetOrError(assetKey: $assetKey) {\n      __typename\n      ... on Asset {\n        id\n        key {\n          path\n        }\n      }\n    }\n  }\n"])))},82576:function(e,n,t){t.d(n,{a:function(){return o}});var i=t(19065),r=t(325),s=function(e,n){var t=new Set(Array.from(e.checkedIds));switch(n.type){case"toggle-one":var r=n.payload,s=r.checked,a=r.id;return s?t.add(a):t.delete(a),{lastCheckedId:a,checkedIds:t};case"toggle-slice":var o=n.payload,l=o.checked,d=o.id,c=o.allIds,p=e.lastCheckedId,u=p?c.indexOf(p):-1,x=c.indexOf(d);if(-1===u||-1===x)return e;for(var h=[u,x].sort(),m=(0,i.Z)(h,2),f=m[0],g=m[1],j=f;j<=g;j++)l?t.add(c[j]):t.delete(c[j]);return{lastCheckedId:d,checkedIds:t};case"toggle-all":var y=n.payload,v=y.checked,w=y.allIds;return{lastCheckedId:null,checkedIds:v?new Set(w):new Set}}},a={checkedIds:new Set,lastCheckedId:null};function o(e){var n=r.useReducer(s,a),t=(0,i.Z)(n,2),o=t[0],l=t[1];return[o,{onToggleFactory:function(n){return function(t){var i=t.checked;t.shiftKey&&o.lastCheckedId?l({type:"toggle-slice",payload:{checked:i,id:n,allIds:e}}):l({type:"toggle-one",payload:{checked:i,id:n}})}},onToggleAll:function(n){l({type:"toggle-all",payload:{checked:n,allIds:e}})}}]}},30057:function(e,n,t){t.d(n,{b:function(){return f}});var i=t(922),r=t(32030),s=t(23730),a=t(7838),o=t(14198),l=t(34595),d=t(11831),c=(t(325),t(74549)),p=t(63579),u=t(33902),x=t(25582),h=t(86562),m=t(32289),f=function(e){var n=e.repoAddress,t=e.showIcon,i=void 0!==t&&t,d=e.showRefresh,c=void 0===d||d,f=n.location,v=(0,p.xz)(n.location).canReloadRepositoryLocation,w=(0,u.Uz)(n);return(0,m.jsxs)(r.x,{flex:{display:"inline-flex",direction:"row",alignItems:"center"},title:w,children:[i&&(0,m.jsx)(s.JO,{name:"folder",style:{marginRight:8},color:a.w.Gray400}),(0,m.jsx)(g,{to:(0,x.$U)(n),style:{flex:1},children:(0,m.jsx)(o.g,{text:w})}),v.enabled&&c?(0,m.jsx)(h.s,{location:f,children:function(e){var n=e.tryReload,t=e.reloading;return(0,m.jsx)(j,{content:t?"Reloading\u2026":(0,m.jsxs)(m.Fragment,{children:["Reload location ",(0,m.jsx)("strong",{children:f})]}),children:t?(0,m.jsx)(l.$,{purpose:"body-text"}):(0,m.jsx)(y,{onClick:n,children:(0,m.jsx)(s.JO,{name:"refresh",color:a.w.Gray400})})})}}):null]})},g=(0,i.ZP)(c.rU).withConfig({displayName:"RepositoryLink__RepositoryName",componentId:"sc-1ocg9ga-0"})(["max-width:280px;"]),j=(0,i.ZP)(d.u).withConfig({displayName:"RepositoryLink__ReloadTooltip",componentId:"sc-1ocg9ga-1"})(["margin-left:4px;&&{display:block;}"]),y=i.ZP.button.withConfig({displayName:"RepositoryLink__StyledButton",componentId:"sc-1ocg9ga-2"})(["background-color:transparent;border:0;cursor:pointer;display:block;padding:0;margin:0;:focus:not(:focus-visible){outline:none;}& ","{display:block;transition:color 100ms linear;}:hover ","{color:",";}"],s.a1,s.a1,a.w.Blue500)},86476:function(e,n,t){t.d(n,{I:function(){return y}});var i=t(19065),r=t(54268),s=t(60652),a=t(7838),o=t(32030),l=t(11831),d=t(8546),c=t(14198),p=t(325),u=t(74549),x=t(9315),h=t(36243),m=t(86875),f=t(25582),g=t(72444),j=t(32289),y=function(e){var n=e.schedules,t=e.sensors,o=e.repoAddress,l=e.showSwitch,d=void 0===l||l,c=p.useState(!1),u=(0,i.Z)(c,2),x=u[0],h=u[1],m=n.length,f=t.length;if(m>1||f>1||m&&f){var y=m&&f?"".concat(m+f," schedules/sensors"):m?"".concat(m," schedules"):"".concat(f," sensors"),b=m>1?"schedule":"sensors";return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(r.V,{icon:b,children:(0,j.jsx)(s.Z,{onClick:function(){return h(!0)},color:a.w.Link,children:y})}),(0,j.jsx)(g.f,{isOpen:x,onClose:function(){return h(!1)},repoAddress:o,schedules:n,sensors:t,showSwitch:d})]})}return m?(0,j.jsx)(v,{schedule:n[0],repoAddress:o,showSwitch:d}):f?(0,j.jsx)(w,{sensor:t[0],repoAddress:o,showSwitch:d}):null},v=function(e){var n=e.schedule,t=e.repoAddress,i=e.showSwitch,s=n.cronSchedule,a=n.executionTimezone,c="RUNNING"===n.scheduleState.status,p=(0,j.jsx)(r.V,{intent:c?"primary":"none",icon:"schedule",children:(0,j.jsxs)(o.x,{flex:{direction:"row",alignItems:"center",gap:4},children:[(0,j.jsx)(u.rU,{to:(0,f.$U)(t,"/schedules/".concat(n.name)),style:{overflow:"hidden",textOverflow:"ellipsis"},children:(0,h.A)(s,a||"UTC")}),i?(0,j.jsx)(x.M,{size:"small",repoAddress:t,schedule:n}):null]})});return n.cronSchedule?(0,j.jsx)(l.u,{placement:"top-start",content:(0,j.jsxs)(o.x,{flex:{direction:"column",gap:4},children:[(0,j.jsxs)("div",{children:["Name: ",(0,j.jsx)("strong",{children:n.name})]}),(0,j.jsxs)("div",{children:["Cron:"," ",(0,j.jsxs)("span",{style:{fontFamily:d.b.monospace,marginLeft:"4px"},children:["(",n.cronSchedule,")"]})]}),(0,j.jsxs)("div",{children:["Timezone: ",(0,j.jsx)("strong",{children:n.executionTimezone||"UTC"})]})]}),children:p}):p},w=function(e){var n=e.sensor,t=e.repoAddress,i=e.showSwitch,s="RUNNING"===n.sensorState.status;return(0,j.jsx)(r.V,{intent:s?"primary":"none",icon:"sensors",children:(0,j.jsxs)(o.x,{flex:{direction:"row",alignItems:"center",gap:4},children:[(0,j.jsx)(u.rU,{to:(0,f.$U)(t,"/sensors/".concat(n.name)),style:{maxWidth:200,overflow:"hidden"},children:(0,j.jsx)(c.g,{text:n.name})}),i?(0,j.jsx)(m.c,{size:"small",repoAddress:t,sensor:n}):null]})})}},35815:function(e,n,t){t.d(n,{l:function(){return d},L:function(){return c}});var i=t(922),r=t(32030),s=t(23730),a=t(7838),o=(t(325),t(37099)),l=t(32289),d=32,c=function(e){var n=e.expanded,t=e.onClick,i=e.repoName,d=e.repoLocation,c=e.showLocation,h=e.rightElement,m=i===o.Js;return(0,l.jsx)(p,{$open:n,onClick:t,children:(0,l.jsxs)(r.x,{flex:{alignItems:"center",justifyContent:"space-between"},padding:{horizontal:24},children:[(0,l.jsxs)(r.x,{flex:{alignItems:"center",gap:8},children:[(0,l.jsx)(s.JO,{name:"folder",color:a.w.Dark}),(0,l.jsxs)("div",{children:[(0,l.jsx)(u,{children:m?d:i}),c&&!m?(0,l.jsx)(x,{children:"@".concat(d)}):null]})]}),(0,l.jsxs)(r.x,{flex:{alignItems:"center",gap:8},children:[h,(0,l.jsx)(r.x,{margin:{top:2},children:(0,l.jsx)(s.JO,{name:"arrow_drop_down"})})]})]})})},p=i.ZP.button.withConfig({displayName:"RepoSectionHeader__SectionHeaderButton",componentId:"sc-1b0a72j-0"})(["background-color:",";border:0;box-shadow:inset 0px -1px 0 ",",inset 0px 1px 0 ",";cursor:pointer;display:block;padding:0;width:100%;margin:0;height:","px;text-align:left;:focus,:active{outline:none;}:hover{background-color:",";}",'[aria-label="arrow_drop_down"]{transition:transform 100ms linear;',"}"],a.w.Gray50,a.w.KeylineGray,a.w.KeylineGray,d,a.w.Gray100,s.a1,(function(e){return e.$open?null:"transform: rotate(-90deg);"})),u=i.ZP.span.withConfig({displayName:"RepoSectionHeader__RepoName",componentId:"sc-1b0a72j-1"})(["font-weight:600;"]),x=i.ZP.span.withConfig({displayName:"RepoSectionHeader__RepoLocation",componentId:"sc-1b0a72j-2"})(["font-weight:400;color:",";"],a.w.Gray700)},90933:function(e,n,t){t.d(n,{U:function(){return x}});var i=t(95764),r=t(81034),s=t(922),a=t(8412),o=t(32030),l=t(23730),d=t(7838),c=(t(325),t(74549)),p=t(32289),u=["icon","intent","text","disabled"],x=function(e){var n=e.icon,t=e.intent,s=e.text,l=e.disabled,d=(0,r.Z)(e,u);return l?(0,p.jsx)(a.sN,{disabled:!0,icon:n,intent:t,text:s}):(0,p.jsx)(h,(0,i.Z)((0,i.Z)({},d),{},{children:(0,p.jsxs)(o.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,a.cR)(n,t),(0,p.jsx)("div",{children:s})]})}))},h=(0,s.ZP)(c.rU).withConfig({displayName:"MenuLink__StyledMenuLink",componentId:"sc-1162pbu-0"})(["text-decoration:none;border-radius:4px;display:block;line-height:20px;padding:6px 8px 6px 12px;transition:background-color 50ms,box-shadow 150ms;align-items:flex-start;user-select:none;","{margin-top:2px;}",":first-child{margin-left:-4px;}&&&:link,&&&:visited,&&&:hover,&&&:active{color:",";text-decoration:none;}&&&:hover{background:",";}"],l.a1,l.a1,d.w.Gray900,d.w.Gray100)},3580:function(e,n,t){t.d(n,{qN:function(){return o},E5:function(){return l},W2:function(){return d},Nh:function(){return c},X2:function(){return p}});var i=t(922),r=t(32030),s=t(7838),a=(t(325),t(32289)),o=function(e){var n=e.children;return(0,a.jsx)(r.x,{padding:{vertical:8,horizontal:24},border:{side:"right",width:1,color:s.w.KeylineGray},style:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},children:n})},l=function(e){var n=e.children;return(0,a.jsx)(r.x,{padding:{horizontal:24,vertical:12},flex:{direction:"column",justifyContent:"flex-start"},style:{color:s.w.Gray500,overflow:"hidden"},border:{side:"right",width:1,color:s.w.KeylineGray},children:n})},d=i.ZP.div.withConfig({displayName:"VirtualizedTable__Container",componentId:"sc-1e309bi-0"})(["height:100%;overflow:auto;"]),c=i.ZP.div.attrs((function(e){var n=e.$totalHeight;return{style:{height:"".concat(n,"px")}}})).withConfig({displayName:"VirtualizedTable__Inner",componentId:"sc-1e309bi-1"})(["position:relative;width:100%;"]),p=i.ZP.div.attrs((function(e){var n=e.$height,t=e.$start;return{style:{height:"".concat(n,"px"),transform:"translateY(".concat(t,"px)")}}})).withConfig({displayName:"VirtualizedTable__Row",componentId:"sc-1e309bi-2"})(["left:0;position:absolute;right:0;top:0;overflow:hidden;"])},16279:function(e,n,t){t.d(n,{vG:function(){return c},mq:function(){return p},HB:function(){return u},v5:function(){return h}});var i=t(922),r=t(7838),s=t(12745),a=t(325),o=t(35815),l=t(3580),d=t(32289),c=function(e){var n=e.repoAddress,t=e.height,i=e.start,r=e.expanded,s=e.onToggle,a=e.onToggleAll,c=e.showLocation,p=e.rightElement;return(0,d.jsx)(l.X2,{$height:t,$start:i,children:(0,d.jsx)(o.L,{repoName:n.name,repoLocation:n.location,expanded:r,onClick:function(e){return e.getModifierState("Shift")?a(!r):s(n)},showLocation:c,rightElement:p})})},p=function(e){var n=e.queryResult,t=e.noneString,i=void 0===t?"None":t,s=n.called,a=n.loading,o=n.data;return(0,d.jsx)("div",{style:{color:r.w.Gray500},children:!s||a&&!o?"Loading":i})},u=function(e){var n=e.children;return(0,d.jsx)(x,{children:(0,d.jsx)(s.YS,{children:n})})},x=i.ZP.div.withConfig({displayName:"VirtualizedWorkspaceTable__CaptionTextContainer",componentId:"k24uol-0"})(["max-width:100%;overflow:hidden;text-overflow:ellipsis;","{color:",";white-space:nowrap;}"],s.YS,r.w.Gray500),h=function(e){a.useEffect((function(){var n=setTimeout((function(){e()}),100);return function(){return clearTimeout(n)}}),[e])}}}]);
//# sourceMappingURL=280.51a6aff4.chunk.js.map