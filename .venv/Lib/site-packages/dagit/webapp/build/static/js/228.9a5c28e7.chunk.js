(self.webpackChunk_dagster_io_dagit_app=self.webpackChunk_dagster_io_dagit_app||[]).push([[228],{42677:function(e,n,t){"use strict";t.r(n),t.d(n,{RunRoot:function(){return mt},default:function(){return vt}});var r,o,i,s,a,u,l,c,d,p,f=t(99500),g=t(73701),h=t(3159),m=t(32030),v=t(31112),y=t(12745),x=t(8546),b=t(54268),w=t(762),C=t(89646),j=t(325),S=t(27601),L=t(76341),I=t(78093),T=t(39061),k=t(82348),R=t(62e3),E=t(68156),N=t(76336),_=t(37099),Z=t(39956),O=t(4998),D=t(59019),P=t(95764),K=t(19065),F=t(922),U=t(32028),A=t(17912),$=t(81034),q=t(70157),M=t(7838),V=t(23730),G=t(57994),J=t(98907),H=t(64428),Q=t(28463),W=t(6466),z=t(34595),B=t(65502),Y=t.n(B),X=t(32289),ee=j.memo((function(e){var n=e.logData,t=e.location,r=e.isLoading,o=e.isVisible,i=e.downloadUrl,s=j.useRef(null),a=j.useRef(),u=j.useState(!1),l=(0,K.Z)(u,2),c=l[0],d=l[1],p=function(){a.current&&(clearTimeout(a.current),a.current=0)},f=function(){d(!1),p()},g=function(){a.current=window.setTimeout(f,3e3)},h=n,m=ne(h);if(h&&m){var v=h.indexOf("\n")+1,y=v<h.length?h.slice(v):h;h="\x1b[33m...logs truncated...\x1b[39m\n"+y}var x=m?(0,X.jsx)(me,{children:(0,X.jsxs)(W.Z,{direction:"row",spacing:8,alignItems:"center",children:[(0,X.jsx)(V.JO,{name:"warning",color:M.w.Yellow500}),(0,X.jsxs)("div",{children:["This log has exceeded the 5MB limit."," ",i?(0,X.jsx)("a",{href:i,download:!0,children:"Download the full log file"}):null,"."]})]})}):null;return(0,X.jsxs)(X.Fragment,{children:[(0,X.jsxs)(ue,{isVisible:o,children:[c?(0,X.jsx)(ge,{children:(0,X.jsx)(he,{onClick:function(){s.current&&s.current.scrollToTop()},onMouseOver:p,onMouseOut:g,children:(0,X.jsxs)(W.Z,{direction:"row",spacing:8,alignItems:"center",children:[(0,X.jsx)(V.JO,{name:"arrow_upward",color:M.w.White}),"Scroll to top"]})})}):null,(0,X.jsxs)(ce,{children:[x,(0,X.jsx)(de,{children:(0,X.jsx)(pe,{isSelected:!0,content:n,onScrollUp:function(e){p(),e?(d(!0),g()):f()},onScrollDown:f,ref:s})})]}),r?(0,X.jsx)(fe,{children:(0,X.jsx)(z.$,{purpose:"page"})}):null]}),t?(0,X.jsx)(le,{isVisible:o,children:t}):null]})})),ne=function(e){return!!e&&(new TextEncoder).encode(e).length>=5242880},te=function(e){(0,H.Z)(t,e);var n=(0,Q.Z)(t);function t(){var e;(0,G.Z)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=n.call.apply(n,[this].concat(o))).container=j.createRef(),e.lastScroll=0,e.onScroll=function(){if(e.container.current&&e.props.isSelected){var n=e.props,t=n.onScrollUp,r=n.onScrollDown,o=e.container.current,i=o.scrollHeight,s=o.scrollTop/(i-o.offsetHeight);e.container.current.scrollTop<e.lastScroll?t&&t(s):r&&r(s),e.lastScroll=e.container.current.scrollTop}},e}return(0,J.Z)(t,[{key:"componentDidMount",value:function(){this.scrollToBottom(),this.container.current&&(this.container.current.focus(),this.container.current.addEventListener("scroll",this.onScroll))}},{key:"getSnapshotBeforeUpdate",value:function(){if(!this.container.current)return!1;var e=this.container.current,n=e.scrollHeight,t=e.scrollTop;return e.offsetHeight+t>=n}},{key:"componentDidUpdate",value:function(e,n,t){t&&this.scrollToBottom(),this.props.isSelected&&!e.isSelected&&this.container.current&&this.container.current.focus()}},{key:"focus",value:function(){var e=this.container.current;e&&e.focus()}},{key:"scrollToBottom",value:function(){var e=this.container.current;e&&(e.scrollTop=e.scrollHeight-e.offsetHeight)}},{key:"scrollToTop",value:function(){var e=this.container.current;e&&(e.scrollTop=0,e.focus())}},{key:"render",value:function(){var e=this.props,n=e.content,t=e.className;return n?(0,X.jsx)("div",{className:t,style:{outline:"none"},ref:this.container,tabIndex:0,children:(0,X.jsxs)(ae,{children:[(0,X.jsx)(re,{content:n}),(0,X.jsxs)(oe,{children:[(0,X.jsx)(se,{}),(0,X.jsx)(Y(),{linkify:!1,useClasses:!0,children:n})]})]})}):(0,X.jsx)("div",{className:t,ref:this.container,children:(0,X.jsx)(ae,{style:{justifyContent:"center",alignItems:"center"},children:null==n?"No log file available":"No output"})})}}]),t}(j.Component),re=function(e){var n=e.content;if(!n)return null;var t=n.match(/\n/g),r=t?t.length:0;return(0,X.jsx)(ie,{children:Array.from(Array(r),(function(e,n){return(0,X.jsx)("div",{children:String(n+1)},n)}))})},oe=F.ZP.div.withConfig({displayName:"RawLogContent__Content",componentId:"q0p96u-0"})(["padding:10px;background-color:",";"],M.w.Gray900),ie=F.ZP.div.withConfig({displayName:"RawLogContent__LineNumberContainer",componentId:"q0p96u-1"})(["display:flex;flex-direction:column;align-items:flex-end;border-right:1px solid #5c7080;padding:10px 10px 10px 20px;margin-right:5px;background-color:",";opacity:0.8;color:#858585;min-height:100%;"],M.w.Gray900),se=(0,F.vJ)(r||(r=(0,f.Z)(["\n  .ansi-black {\n    color: #586e75;\n  }\n  .ansi-red {\n    color: #dc322f;\n  }\n  .ansi-green {\n    color: #859900;\n  }\n  .ansi-yellow {\n    color: #b58900;\n  }\n  .ansi-blue {\n    color: #268bd2;\n  }\n  .ansi-magenta {\n    color: #d33682;\n  }\n  .ansi-cyan {\n    color: #2aa198;\n  }\n  .ansi-white {\n    color: #eee8d5;\n  }\n"]))),ae=F.ZP.div.withConfig({displayName:"RawLogContent__ContentContainer",componentId:"q0p96u-2"})(["display:flex;flex-direction:row;min-height:100%;background-color:",";"],M.w.Gray900),ue=F.ZP.div.withConfig({displayName:"RawLogContent__FileContainer",componentId:"q0p96u-3"})(["flex:1;height:100%;position:relative;&:first-child{border-right:0.5px solid #5c7080;}display:flex;flex-direction:column;",""],(function(e){return e.isVisible?null:"display: none;"})),le=F.ZP.div.withConfig({displayName:"RawLogContent__FileFooter",componentId:"q0p96u-4"})(["display:flex;flex-direction:row;align-items:center;height:30px;background-color:",";border-top:0.5px solid #5c7080;color:#aaaaaa;padding:2px 5px;font-size:0.85em;",""],M.w.Gray900,(function(e){return e.isVisible?null:"display: none;"})),ce=F.ZP.div.withConfig({displayName:"RawLogContent__FileContent",componentId:"q0p96u-5"})(["flex:1;display:flex;flex-direction:column;"]),de=F.ZP.div.withConfig({displayName:"RawLogContent__RelativeContainer",componentId:"q0p96u-6"})(["flex:1;position:relative;"]),pe=(0,F.ZP)(te).withConfig({displayName:"RawLogContent__LogContent",componentId:"q0p96u-7"})(["color:#eeeeee;font-family:",";font-size:16px;white-space:pre;overflow:auto;position:absolute;top:0;bottom:0;left:0;right:0;"],x.b.monospace),fe=F.ZP.div.withConfig({displayName:"RawLogContent__LoadingContainer",componentId:"q0p96u-8"})(["display:flex;justifycontent:center;alignitems:center;position:absolute;top:0;bottom:0;left:0;right:0;backgroundcolor:",";opacity:0.3;"],M.w.Gray800),ge=F.ZP.div.withConfig({displayName:"RawLogContent__ScrollToast",componentId:"q0p96u-9"})(["position:absolute;height:30px;top:0;left:0;right:0;display:flex;flex-direction:row;justify-content:center;align-items:flex-start;z-index:1;"]),he=F.ZP.div.withConfig({displayName:"RawLogContent__ScrollToTop",componentId:"q0p96u-10"})(["background-color:black;padding:10px 20px;border-bottom-right-radius:5px;border-bottom-left-radius:5px;color:white;border-bottom:0.5px solid #5c7080;border-left:0.5px solid #5c7080;border-right:0.5px solid #5c7080;cursor:pointer;"]),me=F.ZP.div.withConfig({displayName:"RawLogContent__FileWarning",componentId:"q0p96u-11"})(["background-color:#fffae3;padding:10px 20px;margin:20px 70px;border-radius:5px;"]),ve=t(52848),ye=t(99738),xe=["externalUrl"],be=j.memo((function(e){var n=e.externalUrl,t=(0,$.Z)(e,xe);return n?(0,X.jsxs)(m.x,{flex:{direction:"row",alignItems:"center",justifyContent:"center",gap:1},background:M.w.Gray900,style:{color:M.w.White,flex:1,minHeight:0},children:["View logs at",(0,X.jsx)("a",{href:n,target:"_blank",rel:"noreferrer",style:{color:M.w.White,textDecoration:"underline",marginLeft:4,marginRight:4},children:n}),(0,X.jsx)(V.JO,{name:"open_in_new",color:M.w.White,size:20,style:{marginTop:2}})]}):t.logKey.length?(0,X.jsx)(_e,(0,P.Z)({},t)):null})),we=5242880,Ce=function(e){return e.length<we?e:e.slice(-5242880)},je=function(e,n){return n?Ce(e?e+n:n):e||null},Se=function(e,n){var t,r,o;switch(n.type){case"update":return(0,P.Z)((0,P.Z)({},e),{},{isLoading:!1,cursor:null===(t=n.logData)||void 0===t?void 0:t.cursor,stdout:je(e.stdout,null===(r=n.logData)||void 0===r?void 0:r.stdout),stderr:je(e.stderr,null===(o=n.logData)||void 0===o?void 0:o.stderr)});case"metadata":return(0,P.Z)((0,P.Z)({},e),n.metadata);case"reset":return(0,P.Z)({},Le);default:return e}},Le={stdout:null,stderr:null,cursor:null,isLoading:!0},Ie=j.memo((function(e){var n=e.logKey,t=e.onLogData;return(0,q.m)(Te,{fetchPolicy:"no-cache",variables:{logKey:n},onSubscriptionData:function(e){var n,r=e.subscriptionData;null!==(n=r.data)&&void 0!==n&&n.capturedLogs&&t(r.data.capturedLogs)}}),null})),Te=(0,h.Ps)(o||(o=(0,f.Z)(["\n  subscription CapturedLogsSubscription($logKey: [String!]!, $cursor: String) {\n    capturedLogs(logKey: $logKey, cursor: $cursor) {\n      ...CapturedLog\n    }\n  }\n\n  fragment CapturedLog on CapturedLogs {\n    stdout\n    stderr\n    cursor\n  }\n"]))),ke=(0,h.Ps)(i||(i=(0,f.Z)(["\n  query CapturedLogsMetadataQuery($logKey: [String!]!) {\n    capturedLogsMetadata(logKey: $logKey) {\n      stdoutDownloadUrl\n      stdoutLocation\n      stderrDownloadUrl\n      stderrLocation\n    }\n  }\n"]))),Re=function(e){var n=e.logKey,t=e.children,r=j.useReducer(Se,Le),o=(0,K.Z)(r,2),i=o[0],s=o[1],a=JSON.stringify(n);j.useEffect((function(){s({type:"reset"})}),[a]);var u=j.useCallback((function(e){s({type:"update",logData:e})}),[]);return(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(Ie,{logKey:n,onLogData:u}),t(i)]})},Ee=function(e){var n=e.logKey,t=e.children,r=j.useReducer(Se,Le),o=(0,K.Z)(r,2),i=o[0],s=o[1],a=JSON.stringify(n);j.useEffect((function(){s({type:"reset"})}),[a]);var u=i.cursor,l=(0,g.a)(Ne,{notifyOnNetworkStatusChange:!0,variables:{logKey:n,cursor:u,limit:1e5},pollInterval:5e3,onCompleted:function(e){c(),s({type:"update",logData:e.capturedLogs}),d(5e3)}}),c=l.stopPolling,d=l.startPolling;return(0,X.jsx)(X.Fragment,{children:t(i)})},Ne=(0,h.Ps)(s||(s=(0,f.Z)(["\n  query CapturedLogsQuery($logKey: [String!]!, $cursor: String, $limit: Int) {\n    capturedLogs(logKey: $logKey, cursor: $cursor, limit: $limit) {\n      stdout\n      stderr\n      cursor\n    }\n  }\n"]))),_e=j.memo((function(e){var n,t,r=e.logKey,o=e.visibleIOType,i=e.onSetDownloadUrl,s=j.useContext(ve.I).rootServerURI,a=j.useContext(ye.DN),u=a.availability,l=a.disabled,c=(0,g.a)(ke,{variables:{logKey:r}});j.useEffect((function(){if(i&&c.data){var e="stdout"===o?c.data.capturedLogsMetadata.stdoutDownloadUrl:c.data.capturedLogsMetadata.stderrDownloadUrl;e&&(e.startsWith("/")?i(s+e):i(e))}}),[i,o,s,c.data]);var d=(null===(n=c.data)||void 0===n?void 0:n.capturedLogsMetadata.stdoutLocation)||void 0,p=(null===(t=c.data)||void 0===t?void 0:t.capturedLogsMetadata.stderrLocation)||void 0,f="unavailable"===u||l?Ee:Re;return(0,X.jsx)("div",{style:{flex:1,minHeight:0,display:"flex",flexDirection:"column"},children:(0,X.jsx)(f,{logKey:r,children:function(e){return(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(ee,{logData:e.stdout,isLoading:e.isLoading,location:d,isVisible:"stdout"===o}),(0,X.jsx)(ee,{logData:e.stderr,isLoading:e.isLoading,location:p,isVisible:"stderr"===o})]})}})})})),Ze=t(14156),Oe=t(25496),De=t(12436),Pe=t(47072),Ke=t(41302),Fe=t(69305),Ue=t(44198),Ae=(0,h.Ps)(a||(a=(0,f.Z)(["\n  query InstanceSupportsCapturedLogs {\n    instance {\n      hasCapturedLogManager\n    }\n  }\n"]))),$e=5242880,qe=function(e){return e.length<$e?e:e.slice(-5242880)},Me=function(e,n){if(!n)return e;var t=null===e||void 0===e?void 0:e.data;return null!==e&&void 0!==e&&e.data&&null!==n&&void 0!==n&&n.data?t=qe(e.data+n.data):null!==n&&void 0!==n&&n.data&&(t=qe(n.data)),{__typename:n.__typename,path:n.path,downloadUrl:n.downloadUrl,data:"string"===typeof t?t:null,cursor:n.cursor}},Ve=function(e,n){switch(n.type){case"stdout":var t=n.stepKey===e.stepKey?Me(e.stdout,n.log):n.log;return(0,P.Z)((0,P.Z)({},e),{},{isLoading:!1,stdout:t});case"stderr":var r=n.stepKey===e.stepKey?Me(e.stderr,n.log):n.log;return(0,P.Z)((0,P.Z)({},e),{},{isLoading:!1,stderr:r});default:return e}},Ge={stepKey:"",stdout:null,stderr:null,isLoading:!0},Je=(0,h.Ps)(u||(u=(0,f.Z)(["\n  subscription ComputeLogsSubscription(\n    $runId: ID!\n    $stepKey: String!\n    $ioType: ComputeIOType!\n    $cursor: String\n  ) {\n    computeLogs(runId: $runId, stepKey: $stepKey, ioType: $ioType, cursor: $cursor) {\n      ...ComputeLogForSubscription\n    }\n  }\n\n  fragment ComputeLogForSubscription on ComputeLogFile {\n    path\n    cursor\n    data\n    downloadUrl\n  }\n"]))),He=function(e){var n=e.runId,t=e.stepKeys,r=e.computeLogFileKey,o=e.ioType,i=e.setComputeLogUrl;return t.length&&r?(0,X.jsx)(We,{runId:n,computeLogFileKey:r,ioType:o,setComputeLogUrl:i}):(0,X.jsx)(m.x,{flex:{justifyContent:"center",alignItems:"center"},style:{flex:1,height:"100%"},children:(0,X.jsx)(z.$,{purpose:"section"})})},Qe=function(e,n){if(!n)return null;var t;return(t=n)&&t.startsWith("/")?e+n:n},We=j.memo((function(e){var n=e.runId,t=e.computeLogFileKey,r=e.ioType,o=e.setComputeLogUrl,i=j.useContext(ve.I).rootServerURI,s=function(e,n){var t=j.useReducer(Ve,Ge),r=(0,K.Z)(t,2),o=r[0],i=r[1];return(0,q.m)(Je,{fetchPolicy:"no-cache",variables:{runId:e,stepKey:n,ioType:Fe.E9.STDOUT,cursor:null},onSubscriptionData:function(e){var t,r=e.subscriptionData;i({type:"stdout",stepKey:n,log:(null===(t=r.data)||void 0===t?void 0:t.computeLogs)||null})}}),(0,q.m)(Je,{fetchPolicy:"no-cache",variables:{runId:e,stepKey:n,ioType:Fe.E9.STDERR,cursor:null},onSubscriptionData:function(e){var t,r=e.subscriptionData;i({type:"stderr",stepKey:n,log:(null===(t=r.data)||void 0===t?void 0:t.computeLogs)||null})}}),o}(n,t),a=s.isLoading,u=s.stdout,l=s.stderr,c=Qe(i,(null===u||void 0===u?void 0:u.downloadUrl)||null),d=Qe(i,(null===l||void 0===l?void 0:l.downloadUrl)||null);return(0,X.jsxs)("div",{style:{flex:1,minHeight:0,display:"flex",flexDirection:"column"},children:[(0,X.jsx)(ze,{content:u?u.data:null,path:u?u.path:void 0,downloadUrl:c,isLoading:a,isVisible:"stdout"===r,setComputeLogUrl:o}),(0,X.jsx)(ze,{content:l?l.data:null,path:l?l.path:void 0,downloadUrl:d,isLoading:a,isVisible:"stderr"===r,setComputeLogUrl:o})]})})),ze=function(e){var n=e.isLoading,t=e.isVisible,r=e.content,o=e.path,i=e.downloadUrl,s=e.setComputeLogUrl;return j.useEffect((function(){s(i)}),[s,i]),(0,X.jsx)(ee,{logData:r,isLoading:n,isVisible:t,downloadUrl:i,location:o})},Be=t(47427),Ye=t(31522),Xe=t(72844),en=t.n(Xe),nn=t(92497),tn=t(98834),rn={DEBUG:0,INFO:0,WARNING:0,ERROR:0,CRITICAL:0,EVENT:0},on=function(e,n){switch(n.type){case"append":var t=n.queued.map((function(e,n){return(0,P.Z)((0,P.Z)({},e),{},{clientsideKey:"csk".concat(e.timestamp,"-").concat(n)})})),r=[].concat((0,D.Z)(e.nodes),(0,D.Z)(t)),o=(0,P.Z)({},e.counts);return t.forEach((function(e){var n=(0,tn.m)(e);o[n]++})),{nodes:r,counts:o,loading:n.hasMore,cursor:n.cursor};case"set-cursor":return(0,P.Z)((0,P.Z)({},e),{},{cursor:n.cursor});case"reset":return{nodes:[],counts:rn,cursor:null,loading:!0};default:return e}},sn={nodes:[],counts:rn,cursor:null,loading:!0},an=function(e){var n=(0,Ye.x)(),t=j.useRef([]),r=j.useReducer(on,sn),o=(0,K.Z)(r,2),i=o[0],s=o[1],a=j.useCallback((function(t){var r=n.readFragment({fragmentName:"PipelineRunLogsSubscriptionStatusFragment",fragment:fn,id:"Run:".concat(e)});if(r){var o=(0,P.Z)((0,P.Z)({},r),{},{status:t});t!==Fe.VO.FAILURE&&t!==Fe.VO.SUCCESS&&t!==Fe.VO.STARTING&&t!==Fe.VO.CANCELING&&t!==Fe.VO.CANCELED||(o.canTerminate=!1),n.writeFragment({fragmentName:"PipelineRunLogsSubscriptionStatusFragment",fragment:fn,id:"Run:".concat(e),data:o})}}),[n,e]);j.useEffect((function(){t.current=[],s({type:"reset"})}),[e]);var u=j.useMemo((function(){return en()((function(){if(t.current.length){var e=(0,D.Z)(t.current);t.current=[];var n=e.flatMap((function(e){return e.messages})),r=e[e.length-1],o=r.hasMorePastEvents,i=r.cursor;s({type:"append",queued:n,hasMore:o,cursor:i});var u=function(e){var n,t=(0,D.Z)(e).reverse(),r=(0,Be.Z)(t);try{for(r.s();!(n=r.n()).done;)switch(n.value.__typename){case"RunStartEvent":return Fe.VO.STARTED;case"RunEnqueuedEvent":return Fe.VO.QUEUED;case"RunStartingEvent":return Fe.VO.STARTING;case"RunCancelingEvent":return Fe.VO.CANCELING;case"RunCanceledEvent":return Fe.VO.CANCELED;case"RunSuccessEvent":return Fe.VO.SUCCESS;case"RunFailureEvent":return Fe.VO.FAILURE}}catch(o){r.e(o)}finally{r.f()}return null}(n);u&&!o&&a(u)}}),100)}),[a]),l=i.nodes,c=i.counts,d=i.cursor,p=i.loading,f=j.useContext(ye.DN),g=f.availability,h=f.disabled,m=f.status,v=!h&&"available"===g&&m===WebSocket.CLOSED,y=j.useRef(d);v&&(y.current=d);var x=y.current,b=j.useMemo((function(){return{runId:e,cursor:x}}),[e,x]),w=j.useMemo((function(){return(0,X.jsx)(un,{variables:b,onSubscriptionData:function(e){var n,r=null===(n=e.subscriptionData.data)||void 0===n?void 0:n.pipelineRunLogs;r&&"PipelineRunLogsSubscriptionFailure"!==r.__typename&&(t.current.push(r),requestAnimationFrame(u))}})}),[b,u]);return j.useMemo((function(){return null!==l?{allNodes:l,counts:c,loading:p,subscriptionComponent:w}:{allNodes:[],counts:c,loading:p,subscriptionComponent:w}}),[c,p,l,w])},un=function(e){var n=e.variables,t=e.onSubscriptionData;return(0,q.m)(pn,{fetchPolicy:"no-cache",variables:n,onSubscriptionData:t}),null},ln=function(e){var n=an(e.runId);return(0,X.jsxs)(X.Fragment,{children:[n.subscriptionComponent,e.children(n)]})},cn=function(e){var n=e.children,t=e.runId,r=j.useReducer(on,sn),o=(0,K.Z)(r,2),i=o[0],s=o[1],a=i.counts,u=i.cursor,l=i.nodes,c=(0,g.a)(gn,{notifyOnNetworkStatusChange:!0,variables:{runId:t,cursor:u,limit:1e4},pollInterval:5e3,onCompleted:function(e){if(d(),"Run"===(null===e||void 0===e?void 0:e.pipelineRunOrError.__typename)&&"EventConnection"===(null===e||void 0===e?void 0:e.logsForRun.__typename)){var n=e.pipelineRunOrError,t=e.logsForRun.events,r=n.status,o=e.logsForRun.cursor,i=!!r&&r!==Fe.VO.FAILURE&&r!==Fe.VO.SUCCESS&&r!==Fe.VO.CANCELED;s({type:"append",queued:t,hasMore:i,cursor:o}),i&&p(5e3)}}}),d=c.stopPolling,p=c.startPolling;return(0,X.jsx)(X.Fragment,{children:n(null!==l&&l.length>0?{allNodes:l,counts:a,loading:!1}:{allNodes:[],counts:a,loading:!0})})},dn=function(e){var n=e.children,t=e.runId,r=j.useContext(ye.DN),o=r.availability,i=r.disabled;return"unavailable"===o||i?(0,X.jsx)(cn,{runId:t,children:n}):"attempting-to-connect"===o?(0,X.jsx)(X.Fragment,{children:n({allNodes:[],counts:rn,loading:!0})}):(0,X.jsx)(ln,{runId:t,children:n})},pn=(0,h.Ps)(l||(l=(0,f.Z)(["\n  subscription PipelineRunLogsSubscription($runId: ID!, $cursor: String) {\n    pipelineRunLogs(runId: $runId, cursor: $cursor) {\n      __typename\n      ... on PipelineRunLogsSubscriptionFailure {\n        missingRunId\n        message\n      }\n      ...RunLogsSubscriptionSuccess\n    }\n  }\n\n  fragment RunLogsSubscriptionSuccess on PipelineRunLogsSubscriptionSuccess {\n    messages {\n      ... on MessageEvent {\n        runId\n      }\n      ...RunDagsterRunEventFragment\n    }\n    hasMorePastEvents\n    cursor\n  }\n\n  ","\n"])),nn.$K),fn=(0,h.Ps)(c||(c=(0,f.Z)(["\n  fragment PipelineRunLogsSubscriptionStatusFragment on Run {\n    id\n    runId\n    status\n    canTerminate\n  }\n"]))),gn=(0,h.Ps)(d||(d=(0,f.Z)(["\n  query RunLogsQuery($runId: ID!, $cursor: String, $limit: Int) {\n    pipelineRunOrError(runId: $runId) {\n      ... on Run {\n        id\n        runId\n        status\n        canTerminate\n      }\n    }\n    logsForRun(runId: $runId, afterCursor: $cursor, limit: $limit) {\n      ... on EventConnection {\n        events {\n          __typename\n          ... on MessageEvent {\n            runId\n          }\n          ...RunDagsterRunEventFragment\n        }\n        cursor\n      }\n      ... on PythonError {\n        message\n        stack\n      }\n    }\n  }\n\n  ","\n"])),nn.$K),hn=t(12244),mn=t(16798),vn=t(87011),yn=t(6474),xn=t(8412),bn=t(75453),wn=t(31269),Cn=t(11831),jn=t(50346),Sn=t(9429),Ln=t(36172),In=t(76314),Tn=t(13816),kn=t.n(Tn)()((function(){return new Intl.NumberFormat(navigator.language,{compactDisplay:"short",notation:"compact"})})),Rn=t(40355),En=F.ZP.div.withConfig({displayName:"ExecutionStateDot",componentId:"sc-1e4maq3-0"})(["display:inline-block;width:11px;height:11px;border-radius:5.5px;transition:background 200ms linear;background:",";&:hover{background:",";}"],(function(e){var n,t=e.state;return(n={},(0,mn.Z)(n,Rn.TN.RUNNING,M.w.Gray400),(0,mn.Z)(n,Rn.TN.SUCCEEDED,M.w.Green700),(0,mn.Z)(n,Rn.TN.SKIPPED,M.w.Yellow500),(0,mn.Z)(n,Rn.TN.FAILED,M.w.Red500),(0,mn.Z)(n,Rn.TN.PREPARING,M.w.Red500),(0,mn.Z)(n,Rn.TN.RETRY_REQUESTED,M.w.Red500),(0,mn.Z)(n,Rn.TN.UNKNOWN,M.w.Red500),n)[t]}),(function(e){var n,t=e.state;return(n={},(0,mn.Z)(n,Rn.TN.RUNNING,M.w.Gray400),(0,mn.Z)(n,Rn.TN.SUCCEEDED,M.w.Green700),(0,mn.Z)(n,Rn.TN.SKIPPED,M.w.Yellow500),(0,mn.Z)(n,Rn.TN.FAILED,M.w.Red200),(0,mn.Z)(n,Rn.TN.PREPARING,M.w.Red500),(0,mn.Z)(n,Rn.TN.RETRY_REQUESTED,M.w.Red500),(0,mn.Z)(n,Rn.TN.UNKNOWN,M.w.Red500),n)[t]})),Nn=t(6527),_n=t(88863),Zn=t(40158),On=t(74386),Dn=function(e,n){switch(n.type){case"show-popover":return(0,P.Z)((0,P.Z)({},e),{},{shown:!0});case"hide-popover":return(0,P.Z)((0,P.Z)({},e),{},{shown:!1});case"highlight":return(0,P.Z)((0,P.Z)({},e),{},{highlight:n.highlight});case"change-query":return(0,P.Z)((0,P.Z)({},e),{},{shown:!0,highlight:0});case"select-suggestion":return(0,P.Z)((0,P.Z)({},e),{},{highlight:0});default:return e}},Pn={shown:!1,highlight:0},Kn={threshold:.3},Fn=function(e){var n=e.value,t=e.onChange,r=e.suggestionProviders,o=j.useReducer(Dn,Pn),i=(0,K.Z)(o,2),s=i[0],a=i[1],u=s.shown,l=s.highlight,c=j.useRef(null),d=j.useMemo((function(){var e=r.reduce((function(e,n){var t=n.values();return n.token?(0,P.Z)((0,P.Z)({},e),{},(0,mn.Z)({},n.token,{fuse:new Zn.Z(t,Kn),all:t})):e}),{}),n=r.map((function(e){return e.token})).filter((function(e){return e}));return{empty:new Zn.Z(n,Kn),perProvider:e}}),[r]),p=d.empty,f=d.perProvider,g=j.useCallback((function(e){if(!e)return Object.keys(f);var n=e.split(":"),t=(0,K.Z)(n,2),r=t[0],o=t[1];if(r in f){var i=f[r],s=i.fuse,a=i.all,u=o?s.search(o).map((function(e){return"".concat(r,":").concat(e.item)})):a.map((function(e){return"".concat(r,":").concat(e)}));return u.map((function(e){return e.toLowerCase()})).includes(e)?[]:u}return p.search(e).map((function(e){return e.item}))}),[p,f]),h=function(e,n){var t=n.toLocaleLowerCase().trim().split(/\s+/),r=t[t.length-1]||"",o=j.useMemo((function(){return e(r)}),[e,r]),i=j.useCallback((function(e){var t=n.toLocaleLowerCase().lastIndexOf(r);if(-1!==t){var o=n.slice(0,t);return"".concat(o).concat(e)}return n}),[r,n]);return j.useMemo((function(){return{suggestions:o,onSelectSuggestion:i}}),[i,o])}(g,n),m=h.suggestions,v=h.onSelectSuggestion,y=m.length,x=m[l]||null,b=j.useCallback((function(e){a({type:"change-query"}),t(e.target.value)}),[t]),C=j.useCallback((function(e){a({type:"select-suggestion"}),t(v(e))}),[t,v]),S=j.useCallback((function(){var e;a({type:"change-query"}),t(""),null===(e=c.current)||void 0===e||e.focus()}),[t]);return(0,X.jsx)(w.J,{isOpen:u&&m.length>0,position:"bottom-left",content:(0,X.jsx)($n,{children:m.map((function(e,n){return(0,X.jsx)(Un,{suggestion:e,isHighlight:l===n,onSelect:C},e)}))}),children:(0,X.jsx)(An,{placeholder:"Filter\u2026",spellCheck:!1,autoCorrect:"off",value:n,ref:c,onChange:b,onFocus:function(){return a({type:"show-popover"})},onBlur:function(){return a({type:"hide-popover"})},onKeyDown:function(e){var n=e.key;if("Escape"!==n){if(y){var t=y-1;switch(n){case"ArrowUp":e.preventDefault(),a({type:"highlight",highlight:0===l?t:l-1});break;case"ArrowDown":e.preventDefault(),a({type:"highlight",highlight:l===t?0:l+1});break;case"Enter":e.preventDefault(),x&&C(x)}}}else a({type:"hide-popover"})},rightElement:(0,X.jsx)(On.C,{onClick:S,children:(0,X.jsx)(V.JO,{name:"cancel"})})})})},Un=function(e){var n=e.suggestion,t=e.isHighlight,r=e.onSelect,o=j.useRef(null);return j.useEffect((function(){o.current&&t&&o.current.scrollIntoView({block:"nearest"})}),[t]),(0,X.jsx)(qn,{ref:o,isHighlight:t,onMouseDown:function(e){e.preventDefault(),r(n)},children:n})},An=(0,F.ZP)(_n.oi).withConfig({displayName:"LogsFilterInput__FilterInput",componentId:"sc-3dxor8-0"})(["width:300px;"]),$n=F.ZP.ul.withConfig({displayName:"LogsFilterInput__Results",componentId:"sc-3dxor8-1"})(["list-style:none;margin:0;max-height:200px;max-width:800px;min-width:300px;overflow-y:auto;padding:4px 0;"]),qn=F.ZP.li.withConfig({displayName:"LogsFilterInput__Item",componentId:"sc-3dxor8-2"})(["align-items:center;background-color:",";color:",";cursor:pointer;display:flex;flex-direction:row;font-size:12px;list-style:none;margin:0;padding:4px 8px;white-space:nowrap;text-overflow:ellipsis;&:hover{background-color:",";}"],(function(e){return e.isHighlight?M.w.Blue500:M.w.White}),(function(e){return e.isHighlight?M.w.White:"default"}),(function(e){return e.isHighlight?M.w.Blue500:M.w.Gray100})),Mn=t(1557);!function(e){e.structured="structured",e.stdout="stdout",e.stderr="stderr"}(p||(p={}));var Vn=function(e){var n=e.steps,t=e.metadata,r=e.counts,o=e.filter,i=e.onSetFilter,s=e.logType,a=e.onSetLogType,u=e.computeLogFileKey,l=e.onSetComputeLogKey,c=e.computeLogUrl,d=(0,In.U)("initial-compute-log-type",(function(e){return"string"===typeof e?e:p.stdout})),f=(0,K.Z)(d,2),g=f[0],h=f[1],m=j.useMemo((function(){return new Set([s===p.structured?s:p.stdout])}),[s]),v=j.useCallback((function(e){h(e),a(e)}),[a,h]);return(0,X.jsxs)(Ln.qn,{children:[(0,X.jsx)(vn.h,{activeItems:m,buttons:[{id:p.structured,icon:"list",tooltip:"Structured event logs"},{id:g,icon:"wysiwyg",tooltip:"Raw compute logs"}],onClick:function(e){return a(e)}}),(0,X.jsx)(Ln.KC,{}),"structured"===s?(0,X.jsx)(Qn,{counts:r,filter:o,onSetFilter:i,steps:n}):(0,X.jsx)(Jn,{steps:n,metadata:t,logType:s,onSetLogType:v,computeLogFileKey:u,onSetComputeLogKey:l,computeLogUrl:c})]})},Gn=function(e,n){return n.stepKeys.some((function(n){return e.steps[n].state===Rn.TN.RUNNING}))?Rn.TN.RUNNING:n.stepKeys.some((function(n){return e.steps[n].state===Rn.TN.SKIPPED}))?Rn.TN.SKIPPED:n.stepKeys.every((function(n){return e.steps[n].state===Rn.TN.SUCCEEDED}))?Rn.TN.SUCCEEDED:Rn.TN.FAILED},Jn=function(e){var n,t,r=e.steps,o=e.metadata,i=e.computeLogFileKey,s=e.onSetComputeLogKey,a=e.logType,u=e.onSetLogType,l=e.computeLogUrl,c=o.logCaptureSteps||(0,Rn.co)(Object.keys(o.steps)),d=i&&c[i],f=function(e){if(!e||!c[e])return null;var n=c[e];return 1===n.stepKeys.length&&e===n.stepKeys[0]?e:n.pid&&1===n.stepKeys.length?n.stepKeys[0]:n.pid?"pid: ".concat(n.pid," (").concat(n.stepKeys.length," steps)"):"".concat(e," (").concat(n.stepKeys.length," steps)")};return(0,X.jsxs)(m.x,{flex:{justifyContent:"space-between",alignItems:"center",direction:"row"},style:{flex:1},children:[(0,X.jsxs)(W.Z,{direction:"row",spacing:24,alignItems:"center",children:[(0,X.jsx)(yn.P,{disabled:!r.length,items:Object.keys(c),itemPredicate:function(e,n){return n.toLocaleLowerCase().includes(e.toLocaleLowerCase())},itemRenderer:function(e,n){return(0,X.jsx)(xn.sN,{onClick:n.handleClick,text:f(e),active:n.modifiers.active},e)},activeItem:i,onItemSelect:function(e){s(e)},children:(0,X.jsx)(bn.zx,{disabled:!r.length,rightIcon:(0,X.jsx)(V.JO,{name:"expand_more"}),children:f(i)||"Select a step..."})}),d?(0,X.jsxs)(wn.mQ,{selectedTabId:a,onChange:u,size:"small",children:[(0,X.jsx)(wn.OK,{id:p.stdout,title:"stdout"}),(0,X.jsx)(wn.OK,{id:p.stderr,title:"stderr"})]}):null]}),d?(0,X.jsxs)(m.x,{flex:{direction:"row",alignItems:"center",gap:12},children:[i&&c[i]?Gn(o,c[i])===Rn.TN.RUNNING?(0,X.jsx)(z.$,{purpose:"body-text"}):(0,X.jsx)(En,{state:Gn(o,c[i])}):null,l?(0,X.jsx)(Cn.u,{placement:"top-end",content:i&&1===(null===(n=c[i])||void 0===n?void 0:n.stepKeys.length)?"Download ".concat(null===(t=c[i])||void 0===t?void 0:t.stepKeys[0]," compute logs"):"Download compute logs",children:(0,X.jsx)(Hn,{"aria-label":"Download link",href:l,download:!0,children:(0,X.jsx)(V.JO,{name:"download_for_offline",color:M.w.Gray600})})}):null]}):null]})},Hn=F.ZP.a.withConfig({displayName:"LogsToolbar__DownloadLink",componentId:"d9cqde-0"})(["border-radius:4px;display:block;text-decoration:none;","{transition:background-color 100ms linear;}:hover ","{background-color:",";}:active ",",:focus ","{background-color:",";}:focus{outline:none;}"],V.a1,V.a1,M.w.Gray800,V.a1,V.a1,M.w.Dark),Qn=function(e){var n,t=e.filter,r=e.counts,o=e.onSetFilter,i=e.steps,s=j.useState("assignment"),a=(0,K.Z)(s,2),u=a[0],l=a[1],c=t.logQuery.map((function(e){var n=e.token,t=e.value;return n?"".concat(n,":").concat(t):t})).join(" "),d=j.useState((function(){return c})),p=(0,K.Z)(d,2),f=p[0],g=p[1],h=(0,Sn.m)(),v=(null===(n=t.logQuery.find((function(e){return"step"===e.token})))||void 0===n?void 0:n.value)||null,y=t.logQuery.reduce((function(e,n){return e+n.value}),"");j.useEffect((function(){g(c)}),[c]);return j.useEffect((function(){var e;return"assignment_turned_in"===u&&(e=setTimeout((function(){l("assignment")}),2e3)),function(){e&&clearTimeout(e)}}),[u]),(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(Fn,{value:f,suggestionProviders:(0,Mn.m)(i),onChange:function(e){var n=e.split(/\s+/).map((function(e){var n=e.split(":");return n.length>1?{token:n[0],value:n[1]}:{value:n[0]}}));o((0,P.Z)((0,P.Z)({},t),{},{logQuery:n})),g(e)}}),y?(0,X.jsx)(Wn,{checked:t.hideNonMatches,onChange:function(e){return o((0,P.Z)((0,P.Z)({},t),{},{hideNonMatches:e.currentTarget.checked}))},label:"Hide non-matches"}):null,(0,X.jsx)(Ln.KC,{}),(0,X.jsx)(m.x,{flex:{direction:"row",alignItems:"center",gap:8},children:Object.keys(Nn.i).map((function(e){var n,i=t.levels[e];return(0,X.jsxs)(zn,{$enabled:i,children:[(0,X.jsx)(jn.X,{format:"switch",size:"small",checked:!!i,fillColor:i?M.w.Blue500:M.w.Gray200,onChange:function(){return o((0,P.Z)((0,P.Z)({},t),{},{levels:(0,P.Z)((0,P.Z)({},t.levels),{},(0,mn.Z)({},e,!i))}))}}),(0,X.jsx)(Bn,{$enabled:i,children:e.toLowerCase()}),(0,X.jsx)(Yn,{$enabled:i,children:(n=r[e],kn().format(n))})]},e)}))}),v&&(0,X.jsx)(Ln.KC,{}),(0,X.jsx)("div",{style:{minWidth:15,flex:1}}),(0,X.jsx)(bn.zx,{icon:(0,X.jsx)(V.JO,{name:u}),onClick:function(){h(window.location.href),l("assignment_turned_in")},children:"Copy URL"})]})},Wn=(0,F.ZP)(jn.X).withConfig({displayName:"LogsToolbar__NonMatchCheckbox",componentId:"d9cqde-1"})(["&&&{margin:0 4px 0 12px;}white-space:nowrap;"]),zn=F.ZP.label.withConfig({displayName:"LogsToolbar__FilterLabel",componentId:"d9cqde-2"})(["background-color:",";border:none;border-radius:8px;margin:0;padding:4px 6px;overflow:hidden;cursor:pointer;display:inline-flex;flex-direction:row;align-items:center;font-size:12px;font-weight:500;gap:6px;box-shadow:transparent inset 0px 0px 0px 1px;transition:background 50ms linear;:focus{box-shadow:rgba(58,151,212,0.6) 0 0 0 3px;outline:none;}:focus:not(:focus-visible){box-shadow:transparent inset 0px 0px 0px 1px,rgba(0,0,0,0.12) 0px 2px 12px 0px;}"],(function(e){return e.$enabled?M.w.Blue50:M.w.Gray100})),Bn=F.ZP.span.withConfig({displayName:"LogsToolbar__LogLabel",componentId:"d9cqde-3"})(["color:",";line-height:16px;transition:background 50ms linear;"],(function(e){return e.$enabled?M.w.Blue500:M.w.Gray700})),Yn=F.ZP.span.withConfig({displayName:"LogsToolbar__LogCount",componentId:"d9cqde-4"})(["background-color:",";border-radius:6px;color:",";font-weight:600;font-family:",";line-height:16px;padding:1px 4px;transition:background 50ms linear;"],(function(e){return e.$enabled?M.w.Blue100:M.w.Gray200}),(function(e){return e.$enabled?M.w.Blue500:M.w.Gray700}),x.b.monospace),Xn=t(3148),et=t(3660),nt=t(79580),tt=t(57615),rt="|";function ot(e){return e.sort().map((function(e){return e.toLowerCase()})).join(rt)}var it={steps:"*",logs:"",levels:ot(Nn.w),hideNonMatches:"true",focusedTime:""},st=function(e){var n=e.logs.split(rt),t=e.focusedTime&&!e.logs?Number(e.focusedTime):null,r="true"===e.hideNonMatches,o=(0,Mn.m)();return{sinceTime:0,focusedTime:t,hideNonMatches:r,logQuery:n.map((function(e){return(0,tt.WD)(e,o)})),levels:e.levels.split(rt).map((function(e){return e.toUpperCase()})).filter((function(e){return Nn.i.hasOwnProperty(e)})).reduce((function(e,n){return(0,P.Z)((0,P.Z)({},e),{},(0,mn.Z)({},n,!0))}),{})}};function at(e){var n=e.logQuery.map((function(e){return e.token?"".concat(e.token,":").concat(e.value):e.value}));return{hideNonMatches:e.hideNonMatches?"true":"false",focusedTime:e.focusedTime||"",logs:n.join(rt),levels:ot(Object.keys(e.levels).filter((function(n){return!!e.levels[n]})))}}var ut,lt=function(e){var n,t=e.run,r=e.runId,o=(0,Ue.q)({encode:at,decode:st,defaults:it}),i=(0,K.Z)(o,2),s=i[0],a=i[1],u=(0,Ue.q)({queryKey:"selection",defaults:{selection:""}}),l=(0,K.Z)(u,2),c=l[0],d=l[1];n=t?function(e){switch(e){case Fe.VO.CANCELED:case Fe.VO.CANCELING:case Fe.VO.FAILURE:return"/favicon-run-failed.svg";case Fe.VO.SUCCESS:return"/favicon-run-success.svg";default:return"/favicon-run-pending.svg"}}(t.status):"/favicon.svg",j.useEffect((function(){var e=document.querySelector('link[rel="icon"][type="image/svg+xml"]');if(e){var t=e.getAttribute("href");return e.setAttribute("href",n),function(){t&&e.setAttribute("href",t)}}}),[n]),(0,k.j)(t?"".concat((0,T.pv)(t.pipelineName)?"":t.pipelineName," ").concat(r.slice(0,8)," [").concat(t.status,"]"):"Run: ".concat(r));var p=function(e,n){var t=n.find((function(n){return"ExecutionStepFailureEvent"===n.__typename&&n.stepKey===e}));t&&(0,Ze._)({body:(0,X.jsx)(De.T9,{error:t})})},f=function(e){d(e),a((0,P.Z)((0,P.Z)({},s),{},{logQuery:"*"!==e?[{token:"query",value:e}]:[]}))};return(0,X.jsx)(et.A.Provider,{value:t,children:(0,X.jsx)(dn,{runId:r,children:function(e){return(0,X.jsx)(Rn.jp,{logs:e,children:function(n){return(0,X.jsx)(dt,{run:t,runId:r,logs:e,logsFilter:s,metadata:n,selectionQuery:c,onSetLogsFilter:a,onSetSelectionQuery:f,onShowStateDetails:p})}})}},r)})},ct=function(e,n){var t=(e?Object.values(e):[]).find((function(e){return e.stepKeys.includes(n)}));return t&&(null===t||void 0===t?void 0:t.fileKey)},dt=function(e){var n=e.run,t=e.runId,r=e.logs,o=e.logsFilter,i=e.metadata,s=e.selectionQuery,a=e.onSetLogsFilter,u=e.onSetSelectionQuery,l=(0,nt.W)(n),c=j.createRef(),d=function(){var e=(0,g.a)(Ae).data;return!(null===e||void 0===e||!e.instance.hasCapturedLogManager)}(),f=(0,Ue.q)({queryKey:"logType",defaults:{logType:"structured"}}),h=(0,K.Z)(f,2),v=h[0],y=h[1],x=(0,Ue.q)({queryKey:"logFileKey"}),b=(0,K.Z)(x,2),w=b[0],S=b[1],L=function(e){switch(e){case"stdout":return p.stdout;case"stderr":return p.stderr;default:return p.structured}}(v),I=j.useState(null),T=(0,K.Z)(I,2),k=T[0],R=T[1],E=JSON.stringify(Object.keys(i.steps).sort()),N=j.useMemo((function(){return JSON.parse(E)}),[E]),_=(null===n||void 0===n?void 0:n.executionPlan)&&(0,Ke.J)(null===n||void 0===n?void 0:n.executionPlan,i.steps),Z=j.useMemo((function(){return _&&s&&"*"!==s?(0,Oe.V)(_,s).all.map((function(e){return e.name})):[]}),[_,s]);j.useEffect((function(){if(null!==N&&void 0!==N&&N.length&&!w)if(i.logCaptureSteps){var e=Object.keys(i.logCaptureSteps),n=e.find((function(e){return Z.every((function(n){return i.logCaptureSteps&&i.logCaptureSteps[e].stepKeys.includes(n)}))}));S(n||e[0])}else if(N.includes(w)){if(1===Z.length&&w!==Z[0]){var t=ct(i.logCaptureSteps,Z[0]);t&&S(t)}}else{var r=ct(i.logCaptureSteps,1===Z.length?Z[0]:N[0]);r&&S(r)}}),[N,w,Z,i.logCaptureSteps,S]);var O=_?o.logQuery.filter((function(e){return e.token&&"query"===e.token})).reduce((function(e,n){return[].concat((0,D.Z)(e),(0,D.Z)((0,Oe.V)(_,n.value).all.map((function(e){return e.name}))))}),[]):[],P=function(e,n){var t,r=Z.indexOf(e),o='"'.concat(e,'"');if(n.shiftKey)t=(0,D.Z)(Z.map((function(e){return s.includes('"'.concat(e,'"'))?'"'.concat(e,'"'):e}))),-1!==r?t.splice(r,1):t.push(o);else if(1===Z.length&&-1!==r)t=[];else{t=[o];var a=ct(i.logCaptureSteps,e);a&&S(a)}u(t.join(", ")||"*")},F=i.logCaptureSteps&&w in i.logCaptureSteps?i.logCaptureSteps[w]:void 0;return(0,X.jsx)(X.Fragment,{children:(0,X.jsx)(A.OS,{ref:c,axis:"vertical",identifier:"run-gantt",firstInitialPercent:35,firstMinSize:56,first:function(e){return n?"QUEUED"===n.status?(0,X.jsx)(Pe.Fu,{run:n}):n.executionPlan&&_?(0,X.jsx)(U.S,{region:"gantt chart",children:(0,X.jsx)(Pe.hj,{options:{mode:Pe.hS.WATERFALL_TIMED},toolbarActions:(0,X.jsxs)(m.x,{flex:{direction:"row",alignItems:"center",gap:12},children:[(0,X.jsx)(A.jo,{axis:"vertical",container:c}),(0,X.jsx)(Xn.NX,{run:n,onLaunch:l,graph:_,metadata:e,selection:{query:s,keys:Z}})]}),runId:t,graph:_,metadata:e,selection:{query:s,keys:Z},onClickStep:P,onSetSelection:u,focusedTime:o.focusedTime})}):(0,X.jsx)(C.t,{icon:"error",title:"Unable to build execution plan"}):(0,X.jsx)(Pe.ZW,{runId:t})}(i),second:(0,X.jsx)(U.S,{region:"logs",children:(0,X.jsxs)(pt,{children:[(0,X.jsx)(Vn,{logType:L,onSetLogType:function(e){return y(p[e])},filter:o,onSetFilter:a,steps:N,metadata:i,computeLogFileKey:w,onSetComputeLogKey:function(e){S(e)},computeLogUrl:k,counts:r.counts}),L!==p.structured?d?(0,X.jsx)(be,{logKey:w?[t,"compute_logs",w]:[],externalUrl:null===F||void 0===F?void 0:F.externalUrl,visibleIOType:p[L],onSetDownloadUrl:R}):(0,X.jsx)(He,{runId:t,stepKeys:N,computeLogFileKey:w,ioType:p[L],setComputeLogUrl:R}):(0,X.jsx)(hn.S,{logs:r,filter:o,filterStepKeys:O,filterKey:"".concat(JSON.stringify(o)),metadata:i})]})})})})},pt=F.ZP.div.withConfig({displayName:"Run__LogsContainer",componentId:"sc-1l2e0ac-0"})(["display:flex;flex-direction:column;height:100%;"]),ft=t(57876),gt=t(37751),ht=t(55752),mt=function(){(0,I.Px)();var e=(0,S.UO)().runId;(0,k.j)(e?"Run ".concat(e.slice(0,8)):"Run");var n=(0,g.a)(xt,{partialRefetch:!0,variables:{runId:e}}),t=n.data,r=n.loading,o="Run"===(null===t||void 0===t?void 0:t.pipelineRunOrError.__typename)?t.pipelineRunOrError:null,i=null===o||void 0===o?void 0:o.pipelineSnapshotId,s=(0,Z._)(o),a=null!==s&&void 0!==s&&s.match?(0,_.kQ)(s.match.repository.name,s.match.repositoryLocation.name):null,u=j.useMemo((function(){return!!(o&&s&&(0,N.E8)(s.match,o.pipelineName))}),[o,s]);return(0,X.jsxs)("div",{style:{display:"flex",flexDirection:"column",minWidth:0,width:"100%",height:"100%",overflow:"hidden"},children:[(0,X.jsx)(m.x,{flex:{direction:"row",alignItems:"flex-start"},style:{position:"relative",zIndex:1},children:(0,X.jsx)(v.m,{title:(0,X.jsx)(y.X6,{style:{fontFamily:x.b.monospace,fontSize:"20px"},children:e.slice(0,8)}),tags:o?(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(gt.K,{status:o.status}),(0,T.pv)(o.pipelineName)?(0,X.jsx)(O.m,{assetKeys:(0,ht.Bo)(o),clickableTags:!0}):(0,X.jsxs)(X.Fragment,{children:[(0,X.jsxs)(b.V,{icon:"run",children:["Run of"," ",(0,X.jsx)(R.h,{pipelineName:null===o||void 0===o?void 0:o.pipelineName,pipelineHrefContext:a||"repo-unknown",snapshotId:i,size:"small",isJob:u})]}),(0,X.jsx)(O.m,{assetKeys:o.assets.map((function(e){return e.key})),clickableTags:!0})]}),(0,X.jsxs)(m.x,{flex:{direction:"row",alignItems:"flex-start",gap:12,wrap:"wrap"},children:[null!==o&&void 0!==o&&o.startTime?(0,X.jsx)(w.J,{interactionKind:"hover",placement:"bottom",content:(0,X.jsx)(m.x,{padding:16,children:(0,X.jsx)(ft.lc,{run:o,loading:r})}),children:(0,X.jsx)(b.V,{icon:"schedule",children:(0,X.jsx)(E.v,{timestamp:o.startTime,timeFormat:{showSeconds:!0,showTimezone:!1}})})}):o.updateTime?(0,X.jsx)(b.V,{icon:"schedule",children:(0,X.jsx)(E.v,{timestamp:o.updateTime,timeFormat:{showSeconds:!0,showTimezone:!1}})}):void 0,null!==o&&void 0!==o&&o.startTime&&null!==o&&void 0!==o&&o.endTime?(0,X.jsx)(w.J,{interactionKind:"hover",placement:"bottom",content:(0,X.jsx)(m.x,{padding:16,children:(0,X.jsx)(ft.lc,{run:o,loading:r})}),children:(0,X.jsx)(b.V,{icon:"timer",children:(0,X.jsx)("span",{style:{fontVariantNumeric:"tabular-nums"},children:null!==o&&void 0!==o&&o.startTime?(0,L.fv)((1e3*(null===o||void 0===o?void 0:o.endTime)||Date.now())-1e3*(null===o||void 0===o?void 0:o.startTime)):"\u2013"})})}):null]})]}):null,right:o?(0,X.jsx)(ft.Up,{run:o,isJob:u}):null})}),(0,X.jsx)(yt,{data:t,runId:e})]})},vt=mt,yt=function(e){var n=e.data,t=e.runId;return n&&n.pipelineRunOrError?"Run"!==n.pipelineRunOrError.__typename?(0,X.jsx)(m.x,{padding:{vertical:64},children:(0,X.jsx)(C.t,{icon:"error",title:"No run found",description:"The run with this ID does not exist or has been cleaned up."})}):(0,X.jsx)(lt,{run:n.pipelineRunOrError,runId:t}):(0,X.jsx)(lt,{run:void 0,runId:t})},xt=(0,h.Ps)(ut||(ut=(0,f.Z)(["\n  query RunRootQuery($runId: ID!) {\n    pipelineRunOrError(runId: $runId) {\n      __typename\n      ... on Run {\n        id\n        ...RunFragment\n      }\n    }\n  }\n\n  ","\n"])),nn.J3)},79580:function(e,n,t){"use strict";t.d(n,{W:function(){return f}});var r=t(85358),o=t(19065),i=t(95550),s=t.n(i),a=t(49148),u=t(325),l=t(27601),c=t(25429),d=t(39956),p=t(55752),f=function(e){var n=(0,l.k6)(),t=(0,a.D)(p.kO),i=(0,o.Z)(t,1)[0],f=(0,d._)(e);return u.useCallback(function(){var t=(0,r.Z)(s().mark((function t(r){var o,a,u;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&e.pipelineSnapshotId&&f){t.next=2;break}return t.abrupt("return");case 2:return o=(0,p.kz)({run:e,style:r,repositoryLocationName:f.match.repositoryLocation.name,repositoryName:f.match.repository.name}),t.prev=3,t.next=6,i({variables:o});case 6:u=t.sent,(0,p.lF)(e.pipelineName,null===(a=u.data)||void 0===a?void 0:a.launchPipelineReexecution,n,{preserveQuerystring:!0,behavior:"open"}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),(0,c.t)(t.t0);case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}(),[n,i,f,e])}},74386:function(e,n,t){"use strict";t.d(n,{C:function(){return s}});var r=t(922),o=t(23730),i=t(7838),s=r.ZP.button.withConfig({displayName:"ClearButton",componentId:"sc-1rz1pk2-0"})(["background:transparent;border:none;cursor:pointer;margin:0 -2px 0 0;padding:2px;","{background-color:",";transition:background-color 100ms linear;}:hover ",",:focus ","{background-color:",";}:active ","{background-color:",";}:focus{outline:none;}"],o.a1,i.w.Gray400,o.a1,o.a1,i.w.Gray700,o.a1,i.w.Dark)},81137:function(e,n,t){var r=t(74336),o={ease:r(.25,.1,.25,1),easeIn:r(.42,0,1,1),easeOut:r(0,0,.58,1),easeInOut:r(.42,0,.58,1),linear:r(0,0,1,1)};function i(){}function s(){var e=new Set,n=new Set,t=0;return{next:r,cancel:r,clearAll:function(){e.clear(),n.clear(),cancelAnimationFrame(t),t=0}};function r(e){n.add(e),t||(t=requestAnimationFrame(o))}function o(){t=0;var r=n;n=e,(e=r).forEach((function(e){e()})),e.clear()}}e.exports=function(e,n,t){var r=Object.create(null),s=Object.create(null),a="function"===typeof(t=t||{}).easing?t.easing:o[t.easing];a||(t.easing&&console.warn("Unknown easing function in amator: "+t.easing),a=o.ease);var u="function"===typeof t.step?t.step:i,l="function"===typeof t.done?t.done:i,c=function(e){if(!e){return"undefined"!==typeof window&&window.requestAnimationFrame?{next:window.requestAnimationFrame.bind(window),cancel:window.cancelAnimationFrame.bind(window)}:{next:function(e){return setTimeout(e,1e3/60)},cancel:function(e){return clearTimeout(e)}}}if("function"!==typeof e.next)throw new Error("Scheduler is supposed to have next(cb) function");if("function"!==typeof e.cancel)throw new Error("Scheduler is supposed to have cancel(handle) function");return e}(t.scheduler),d=Object.keys(n);d.forEach((function(t){r[t]=e[t],s[t]=n[t]-e[t]}));var p,f="number"===typeof t.duration?t.duration:400,g=Math.max(1,.06*f),h=0;return p=c.next((function n(){var t=a(h/g);h+=1,m(t),h<=g?(p=c.next(n),u(e)):(p=0,setTimeout((function(){l(e)}),0))})),{cancel:function(){c.cancel(p),p=0}};function m(n){d.forEach((function(t){e[t]=s[t]*n+r[t]}))}},e.exports.makeAggregateRaf=s,e.exports.sharedScheduler=s()},60453:function(e){"use strict";var n=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}();var t=[[{color:"0, 0, 0",class:"ansi-black"},{color:"187, 0, 0",class:"ansi-red"},{color:"0, 187, 0",class:"ansi-green"},{color:"187, 187, 0",class:"ansi-yellow"},{color:"0, 0, 187",class:"ansi-blue"},{color:"187, 0, 187",class:"ansi-magenta"},{color:"0, 187, 187",class:"ansi-cyan"},{color:"255,255,255",class:"ansi-white"}],[{color:"85, 85, 85",class:"ansi-bright-black"},{color:"255, 85, 85",class:"ansi-bright-red"},{color:"0, 255, 0",class:"ansi-bright-green"},{color:"255, 255, 85",class:"ansi-bright-yellow"},{color:"85, 85, 255",class:"ansi-bright-blue"},{color:"255, 85, 255",class:"ansi-bright-magenta"},{color:"85, 255, 255",class:"ansi-bright-cyan"},{color:"255, 255, 255",class:"ansi-bright-white"}]],r=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.fg=this.bg=this.fg_truecolor=this.bg_truecolor=null,this.bright=0}return n(e,null,[{key:"escapeForHtml",value:function(n){return(new e).escapeForHtml(n)}},{key:"linkify",value:function(n){return(new e).linkify(n)}},{key:"ansiToHtml",value:function(n,t){return(new e).ansiToHtml(n,t)}},{key:"ansiToJson",value:function(n,t){return(new e).ansiToJson(n,t)}},{key:"ansiToText",value:function(n){return(new e).ansiToText(n)}}]),n(e,[{key:"setupPalette",value:function(){this.PALETTE_COLORS=[];for(var e=0;e<2;++e)for(var n=0;n<8;++n)this.PALETTE_COLORS.push(t[e][n].color);for(var r=[0,95,135,175,215,255],o=function(e,n,t){return r[e]+", "+r[n]+", "+r[t]},i=0;i<6;++i)for(var s=0;s<6;++s)for(var a=0;a<6;++a)this.PALETTE_COLORS.push(o(i,s,a));for(var u=8,l=0;l<24;++l,u+=10)this.PALETTE_COLORS.push(o(u,u,u))}},{key:"escapeForHtml",value:function(e){return e.replace(/[&<>]/gm,(function(e){return"&"==e?"&amp;":"<"==e?"&lt;":">"==e?"&gt;":""}))}},{key:"linkify",value:function(e){return e.replace(/(https?:\/\/[^\s]+)/gm,(function(e){return'<a href="'+e+'">'+e+"</a>"}))}},{key:"ansiToHtml",value:function(e,n){return this.process(e,n,!0)}},{key:"ansiToJson",value:function(e,n){return(n=n||{}).json=!0,n.clearLine=!1,this.process(e,n,!0)}},{key:"ansiToText",value:function(e){return this.process(e,{},!1)}},{key:"process",value:function(e,n,t){var r=this,o=e.split(/\033\[/),i=o.shift();void 0!==n&&null!==n||(n={}),n.clearLine=/\r/.test(e);var s=o.map((function(e){return r.processChunk(e,n,t)}));if(n&&n.json){var a=this.processChunkJson("");return a.content=i,a.clearLine=n.clearLine,s.unshift(a),n.remove_empty&&(s=s.filter((function(e){return!e.isEmpty()}))),s}return s.unshift(i),s.join("")}},{key:"processChunkJson",value:function(e,n,r){var o=(n="undefined"==typeof n?{}:n).use_classes="undefined"!=typeof n.use_classes&&n.use_classes,i=n.key=o?"class":"color",s={content:e,fg:null,bg:null,fg_truecolor:null,bg_truecolor:null,clearLine:n.clearLine,decoration:null,was_processed:!1,isEmpty:function(){return!s.content}},a=e.match(/^([!\x3c-\x3f]*)([\d;]*)([\x20-\x2c]*[\x40-\x7e])([\s\S]*)/m);if(!a)return s;s.content=a[4];var u=a[2].split(";");if(""!==a[1]||"m"!==a[3])return s;if(!r)return s;var l=this;for(l.decoration=null;u.length>0;){var c=u.shift(),d=parseInt(c);if(isNaN(d)||0===d)l.fg=l.bg=l.decoration=null;else if(1===d)l.decoration="bold";else if(2===d)l.decoration="dim";else if(3==d)l.decoration="italic";else if(4==d)l.decoration="underline";else if(5==d)l.decoration="blink";else if(7===d)l.decoration="reverse";else if(8===d)l.decoration="hidden";else if(9===d)l.decoration="strikethrough";else if(39==d)l.fg=null;else if(49==d)l.bg=null;else if(d>=30&&d<38)l.fg=t[0][d%10][i];else if(d>=90&&d<98)l.fg=t[1][d%10][i];else if(d>=40&&d<48)l.bg=t[0][d%10][i];else if(d>=100&&d<108)l.bg=t[1][d%10][i];else if(38===d||48===d){var p=38===d;if(u.length>=1){var f=u.shift();if("5"===f&&u.length>=1){var g=parseInt(u.shift());if(g>=0&&g<=255)if(o){var h=g>=16?"ansi-palette-"+g:t[g>7?1:0][g%8].class;p?l.fg=h:l.bg=h}else this.PALETTE_COLORS||l.setupPalette(),p?l.fg=this.PALETTE_COLORS[g]:l.bg=this.PALETTE_COLORS[g]}else if("2"===f&&u.length>=3){var m=parseInt(u.shift()),v=parseInt(u.shift()),y=parseInt(u.shift());if(m>=0&&m<=255&&v>=0&&v<=255&&y>=0&&y<=255){var x=m+", "+v+", "+y;o?p?(l.fg="ansi-truecolor",l.fg_truecolor=x):(l.bg="ansi-truecolor",l.bg_truecolor=x):p?l.fg=x:l.bg=x}}}}}if(null===l.fg&&null===l.bg&&null===l.decoration)return s;return s.fg=l.fg,s.bg=l.bg,s.fg_truecolor=l.fg_truecolor,s.bg_truecolor=l.bg_truecolor,s.decoration=l.decoration,s.was_processed=!0,s}},{key:"processChunk",value:function(e,n,t){var r=this;n=n||{};var o=this.processChunkJson(e,n,t);if(n.json)return o;if(o.isEmpty())return"";if(!o.was_processed)return o.content;var i=n.use_classes,s=[],a=[],u={},l=function(e){var n=[],t=void 0;for(t in e)e.hasOwnProperty(t)&&n.push("data-"+t+'="'+r.escapeForHtml(e[t])+'"');return n.length>0?" "+n.join(" "):""};return o.fg&&(i?(a.push(o.fg+"-fg"),null!==o.fg_truecolor&&(u["ansi-truecolor-fg"]=o.fg_truecolor,o.fg_truecolor=null)):s.push("color:rgb("+o.fg+")")),o.bg&&(i?(a.push(o.bg+"-bg"),null!==o.bg_truecolor&&(u["ansi-truecolor-bg"]=o.bg_truecolor,o.bg_truecolor=null)):s.push("background-color:rgb("+o.bg+")")),o.decoration&&(i?a.push("ansi-"+o.decoration):"bold"===o.decoration?s.push("font-weight:bold"):"dim"===o.decoration?s.push("opacity:0.5"):"italic"===o.decoration?s.push("font-style:italic"):"reverse"===o.decoration?s.push("filter:invert(100%)"):"hidden"===o.decoration?s.push("visibility:hidden"):"strikethrough"===o.decoration?s.push("text-decoration:line-through"):s.push("text-decoration:"+o.decoration)),i?'<span class="'+a.join(" ")+'"'+l(u)+">"+o.content+"</span>":'<span style="'+s.join(";")+'"'+l(u)+">"+o.content+"</span>"}}]),e}();e.exports=r},65502:function(e,n,t){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n};Object.defineProperty(n,"__esModule",{value:!0});var i=r(t(60453)),s=t(76267),a=o(t(325)),u=/(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/;function l(e,n,t,r){var o=n?null:function(e){var n={};return e.bg&&(n.backgroundColor="rgb(".concat(e.bg,")")),e.fg&&(n.color="rgb(".concat(e.fg,")")),n}(t),i=n?function(e){var n="";return e.bg||e.fg?(e.bg&&(n+=e.bg+" "),e.fg&&(n+=e.fg+" "),n=n.substring(0,n.length-1)):null}(t):null;if(!e)return a.createElement("span",{style:o,key:r,className:i},t.content);var s=t.content.split(/(\s+)/).reduce((function(e,n,t){return t%2===1?(e.push(n),e):u.test(n)?(e.push(a.createElement("a",{key:t,href:n,target:"_blank"},"".concat(n))),e):(e.push(n),e)}),[]);return a.createElement("span",{style:o,key:r,className:i},s)}n.default=function(e){var n=e.className,t=e.useClasses,r=e.children,o=e.linkify;return a.createElement("code",{className:n},function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e=s.escapeCarriageReturn(e),i.default.ansiToJson(e,{json:!0,remove_empty:!0,use_classes:n})}(r,!!t).map(l.bind(null,o,!!t)))}},74336:function(e){var n=.1,t="function"===typeof Float32Array;function r(e,n){return 1-3*n+3*e}function o(e,n){return 3*n-6*e}function i(e){return 3*e}function s(e,n,t){return((r(n,t)*e+o(n,t))*e+i(n))*e}function a(e,n,t){return 3*r(n,t)*e*e+2*o(n,t)*e+i(n)}function u(e){return e}e.exports=function(e,r,o,i){if(!(0<=e&&e<=1&&0<=o&&o<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===r&&o===i)return u;for(var l=t?new Float32Array(11):new Array(11),c=0;c<11;++c)l[c]=s(c*n,e,o);function d(t){for(var r=0,i=1;10!==i&&l[i]<=t;++i)r+=n;--i;var u=r+(t-l[i])/(l[i+1]-l[i])*n,c=a(u,e,o);return c>=.001?function(e,n,t,r){for(var o=0;o<4;++o){var i=a(n,t,r);if(0===i)return n;n-=(s(n,t,r)-e)/i}return n}(t,u,e,o):0===c?u:function(e,n,t,r,o){var i,a,u=0;do{(i=s(a=n+(t-n)/2,r,o)-e)>0?t=a:n=a}while(Math.abs(i)>1e-7&&++u<10);return a}(t,r,r+n,e,o)}return function(e){return 0===e?0:1===e?1:s(d(e),r,i)}}},76267:function(e){function n(e){if(!e)return"";if(!/\r/.test(e))return e;for(e=e.replace(/\r+\n/gm,"\n");/\r[^$]/.test(e);){var n=/^(.*)\r+/m.exec(e)[1],t=/\r+(.*)$/m.exec(e)[1];t+=n.slice(t.length,n.length),e=e.replace(/\r+.*$/m,"\r").replace(/^.*\r/m,t)}return e}function t(e){for(var n=0,t=0;t<e.length;t++)e[n].length<=e[t].length&&(n=t);return n}function r(e){if(!/\r/.test(e))return e;for(var n=e.split("\r"),r=[];n.length>0;){var o=t(n);r.push(n[o]),n=n.slice(o+1)}return r.join("\r")}e.exports=n,e.exports.escapeCarriageReturn=n,e.exports.escapeCarriageReturnSafe=function(e){if(!e)return"";if(!/\r/.test(e))return e;if(!/\n/.test(e))return r(e);var t=(e=e.replace(/\r+\n/gm,"\n")).lastIndexOf("\n");return n(e.slice(0,t))+"\n"+r(e.slice(t+1))}},79422:function(e,n,t){var r=t(88567);e.exports=function(e,n){return!!(null==e?0:e.length)&&r(e,n,0)>-1}},7849:function(e){e.exports=function(e,n,t){for(var r=-1,o=null==e?0:e.length;++r<o;)if(t(n,e[r]))return!0;return!1}},20611:function(e){e.exports=function(e,n,t,r){for(var o=e.length,i=t+(r?1:-1);r?i--:++i<o;)if(n(e[i],i,e))return i;return-1}},88567:function(e,n,t){var r=t(20611),o=t(5760),i=t(83328);e.exports=function(e,n,t){return n===n?i(e,n,t):r(e,o,t)}},5760:function(e){e.exports=function(e){return e!==e}},33976:function(e,n,t){var r=t(7124),o=t(79422),i=t(7849),s=t(4294),a=t(19077),u=t(46138);e.exports=function(e,n,t){var l=-1,c=o,d=e.length,p=!0,f=[],g=f;if(t)p=!1,c=i;else if(d>=200){var h=n?null:a(e);if(h)return u(h);p=!1,c=s,g=new r}else g=n?[]:f;e:for(;++l<d;){var m=e[l],v=n?n(m):m;if(m=t||0!==m?m:0,p&&v===v){for(var y=g.length;y--;)if(g[y]===v)continue e;n&&g.push(v),f.push(m)}else c(g,v,t)||(g!==f&&g.push(v),f.push(m))}return f}},19077:function(e,n,t){var r=t(1465),o=t(19715),i=t(46138),s=r&&1/i(new r([,-0]))[1]==1/0?function(e){return new r(e)}:o;e.exports=s},83328:function(e){e.exports=function(e,n,t){for(var r=t-1,o=e.length;++r<o;)if(e[r]===n)return r;return-1}},90428:function(e,n,t){var r=t(42473);e.exports=function(e,n){return r(e,n)}},19715:function(e){e.exports=function(){}},72844:function(e,n,t){var r=t(43615),o=t(78408);e.exports=function(e,n,t){var i=!0,s=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return o(t)&&(i="leading"in t?!!t.leading:i,s="trailing"in t?!!t.trailing:s),r(e,n,{leading:i,maxWait:n,trailing:s})}},58891:function(e,n,t){var r=t(33976);e.exports=function(e){return e&&e.length?r(e):[]}}}]);
//# sourceMappingURL=228.9a5c28e7.chunk.js.map